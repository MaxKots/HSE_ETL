import{a as ou}from"./chunk-L4AGE4RD.js";import{a as su,b as au,c as lu,d as Br,e as cu,f as uu,g as gn}from"./chunk-CNF5A56G.js";import{b as tu,d as iu,e as nu,f as ru}from"./chunk-HFVBU7XE.js";import{a as Yc,b as Xc,c as Zc,d as Jc}from"./chunk-2GDJGXPU.js";import{k as eu}from"./chunk-2WSVZFC2.js";import{c as Pt,d as Ft,f as Wo,g as Qo,h as Yo,i as zi,k as $c,m as Xo,n as zc,o as Uc,p as Zo,q as ni,r as Jo,s as qc,u as es,v as ts}from"./chunk-ZSGRQJXI.js";import{a as Wc}from"./chunk-JNLM2C2B.js";import{a as Kc,b as Gc}from"./chunk-FBKESTIH.js";import{a as Qc}from"./chunk-OWQHNQXG.js";import{a as Yt,b as Wl,c as Ql}from"./chunk-WEUEC6YG.js";import{a as Mo}from"./chunk-U5T52MMC.js";import"./chunk-77S7WVVH.js";import{a as _c,c as Cc}from"./chunk-6BZDXKJW.js";import{A as Or,B as vi,C as dn,D as Hc,E as Lc,F as Bc,G as Vi,H as Uo,I as qo,J as fn,K as ji,L as Hr,M as hn,N as Ko,O as Vc,P as $i,Q as Go,R as Lr,U as jc,a as Rl,b as Ol,c as Ll,g as Pc,i as Nc,k as me,l as Rc,m as Oc,n as Dr,o as Mr,p as Ir,q as un,r as $o,s as Pr,t as Fr,u as mn,v as Nr,w as Rr,x as zo,y as pn,z as It}from"./chunk-FIKMCYVL.js";import{c as jl}from"./chunk-MHHGSEWS.js";import{a as xr,b as cn,c as Vo,d as Tr,e as jo,f as Ar,g as wr}from"./chunk-NMFCT7OR.js";import{a as Ac}from"./chunk-LXDDUJAI.js";import{a as Ic}from"./chunk-7R7WZOHU.js";import{c as Nl}from"./chunk-4Y4WLKVK.js";import{a as Fc}from"./chunk-4U5Z4EIE.js";import{a as bc,b as Ec,f as xc}from"./chunk-2HLCCT64.js";import{a as at}from"./chunk-GDM375JW.js";import{b as Bi}from"./chunk-DATUQIZK.js";import{a as wc,b as kc,c as kr}from"./chunk-GJIPFDVZ.js";import{a as Dc,b as Mc}from"./chunk-EPVEYZF3.js";import"./chunk-VZMM36UB.js";import"./chunk-HRSNT2Y3.js";import{a as Tc}from"./chunk-6XDE4EDA.js";import{a as we}from"./chunk-ZEU5WGQF.js";import{a as ii}from"./chunk-DRAR67GR.js";import{a as Jt}from"./chunk-EKBFYLT2.js";import{a as or}from"./chunk-U36L3UEV.js";import{a as bt}from"./chunk-WPXXNTWB.js";import{b as Ii,c as Fe,d as qe,e as Ke,f as Ge,g as We,h as Ct}from"./chunk-SMQWSY4G.js";import{c as ec}from"./chunk-H33ZZBYC.js";import{a as Jl,b as Qe}from"./chunk-ABVNDMIM.js";import{a as sr,b as ar,c as tc,d as lr,e as ic,f as cr,g as nc,h as ur,i as Ri,j as rc}from"./chunk-TUAH27O4.js";import{a as ti}from"./chunk-NLH5SSYS.js";import{a as ei}from"./chunk-KWORFCVF.js";import{a as Un,b as qn,c as Kn,d as Gn,e as Wn,f as Qn,g as Yn,h as Xn,i as Zn,j as Jn,k as er,l as en}from"./chunk-H2WHMLSL.js";import{a as br,b as Er,c as vc,d as Sc}from"./chunk-32GYM5FT.js";import{d as zl,e as Hi,f as rn,g as fr,h as hr,i as Bo,j as Li,k as on,l as ac,m as gr,n as gc,o as yc}from"./chunk-YY6OQCGM.js";import{a as gi,b as mr,c as oc,d as tn,e as Oi,f as Lo,g as nn,h as sc,i as pr,j as dr,k as cc,l as uc}from"./chunk-CMYAX3RG.js";import{a as $l}from"./chunk-AVCL6Z6H.js";import{a as yr,b as vr,c as mc}from"./chunk-XABE7P56.js";import{a as ir,b as Hl,c as pc,d as Sr,e as sn,f as _r,g as yi,h as an,i as dc,j as fc,k as Cr,l as hc,o as ln}from"./chunk-HQWMRL3R.js";import{a as Ul,b as ql,c as Kl,d as Gl}from"./chunk-HMZGWE7A.js";import{a as lc}from"./chunk-UEF4WCDH.js";import{a as Il,b as Pl,c as Fl}from"./chunk-VAH5JGMB.js";import{a as Ve}from"./chunk-ZCD7PNDR.js";import{a as Xl,b as Zl}from"./chunk-LC5GW3IT.js";import{a as R,b as fe,c as P,d as Yl}from"./chunk-BZIGKOHB.js";import{a as cl,b as Di,c as ul}from"./chunk-NCKPNJM6.js";import{a as Se}from"./chunk-UIUS3U3H.js";import{a as $n,b as Zt,c as zn,e as Ji,f as _e}from"./chunk-HBUJ4FW3.js";import{b as nr,c as rr}from"./chunk-SAAVEFQF.js";import{b as Pi,c as Bl,g as Vl,h as Fi,i as Ni}from"./chunk-MIYZ7RYM.js";import{a as Ne,b as Dt,c as Mt}from"./chunk-EWKRPRNS.js";import{A as pl,B as dl,D as Po,E as fl,Fa as se,G as hl,Ga as _t,H as gl,Ha as wl,Ia as No,Ja as kl,Ka as fi,La as Ro,N as yl,Na as Oo,O as vl,P as Sl,Q as _l,Qa as Mi,Ra as Ho,Sa as jn,T as Cl,Ta as Dl,U as bl,Ua as tr,Wa as Ml,Za as Et,_a as xt,aa as El,ab as hi,cb as Tt,ea as xl,fb as At,g as ml,hb as wt,ka as Fo,kb as kt,mb as st,oa as Tl,z as Io,za as Al}from"./chunk-PPSGXD6H.js";import{a as ko,b as On,c as nl,d as Hn,e as rl,f as Ln,g as ol,h as Do}from"./chunk-EHZUU4SF.js";import{a as sl,b as Bn}from"./chunk-7D7AWCHW.js";import{a as ot,b as Ee,c as Ht,d as al,e as ll,f as Vn}from"./chunk-INOABHZ6.js";import{$b as be,A as zt,Ab as wa,B as bo,Ba as Wi,Bb as ve,C as kn,Ca as Ai,Cd as il,D as pe,Da as nt,Db as ka,Dc as Oa,Dd as L,Ea as wi,Eb as ie,Ec as Ha,Ed as de,Fa as ya,Fb as Da,Fc as St,G,Ga as va,Gb as H,H as aa,Hb as Ma,I as ci,Ib as Ia,Ic as rt,J as Oe,Ka as Eo,Kc as La,Lb as Qi,M as la,Mb as Yi,Nb as Xi,Nc as Pn,Oc as Be,Pa as Sa,Pc as Ba,Q as ca,Qa as C,Qc as Va,Ra as Q,Rb as Zi,Rc as ja,Sb as S,Sc as $a,T as ua,Ta as _a,Tb as Ae,Tc as za,U as ma,Ub as te,Uc as Fn,Va as Ca,Vb as ki,W as pa,Wa as ba,Wb as mi,Xa as Ea,Xb as Pa,Xc as Ua,Ya as xa,Yb as Fa,Yc as qa,Z as N,Zb as Na,Zc as Ka,_ as Me,_b as Ra,aa as le,ad as Ga,b as Co,bc as pi,bd as Wa,ca as da,cb as ze,cd as Qa,d as gt,da as ce,dd as Qt,ea as fa,f as ia,fa as j,fb as U,fc as He,ga as yt,gc as Le,gd as To,h as $t,ha as Ut,hc as xo,hd as Ue,i as na,ia as E,id as Ya,ja as Ce,jb as Ta,jd as Xt,k as ra,kb as q,kd as di,l as oa,lb as Aa,ld as Ao,m as ee,mb as mt,mc as Mn,md as Nn,n as I,nd as Xa,oa as ye,pa as vt,q as sa,qa as Dn,qb as W,qd as Za,r as M,rd as Ja,s as li,sa as ha,sb as ui,sd as wo,tb as qt,td as el,ub as Kt,ud as tl,va as ne,vb as y,vd as ae,wa as re,wb as g,wc as In,xb as Y,yb as Gt,yd as Ot,za as ga,zb as Wt,zd as Rn}from"./chunk-4JRAZRHD.js";import{a as w,b as F,c as ta,d as Vt,e as jt}from"./chunk-EQDQRRRY.js";var Fp=Vt((Ip,Pp)=>{"use strict";(function(t){typeof Ip=="object"&&typeof Pp=="object"?t(Jt()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){var i=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),e=t.Pos,n={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function r(d){return d&&d.bracketRegex||/[(){}[\]]/}function o(d,h,b){var T=d.getLineHandle(h.line),f=h.ch-1,m=b&&b.afterCursor;m==null&&(m=/(^| )cm-fat-cursor($| )/.test(d.getWrapperElement().className));var u=r(b),p=!m&&f>=0&&u.test(T.text.charAt(f))&&n[T.text.charAt(f)]||u.test(T.text.charAt(f+1))&&n[T.text.charAt(++f)];if(!p)return null;var v=p.charAt(1)==">"?1:-1;if(b&&b.strict&&v>0!=(f==h.ch))return null;var _=d.getTokenTypeAt(e(h.line,f+1)),x=a(d,e(h.line,f+(v>0?1:0)),v,_,b);return x==null?null:{from:e(h.line,f),to:x&&x.pos,match:x&&x.ch==p.charAt(0),forward:v>0}}function a(d,h,b,T,f){for(var m=f&&f.maxScanLineLength||1e4,u=f&&f.maxScanLines||1e3,p=[],v=r(f),_=b>0?Math.min(h.line+u,d.lastLine()+1):Math.max(d.firstLine()-1,h.line-u),x=h.line;x!=_;x+=b){var A=d.getLine(x);if(A){var D=b>0?0:A.length-1,O=b>0?A.length:-1;if(!(A.length>m))for(x==h.line&&(D=h.ch-(b<0?1:0));D!=O;D+=b){var $=A.charAt(D);if(v.test($)&&(T===void 0||(d.getTokenTypeAt(e(x,D+1))||"")==(T||""))){var K=n[$];if(K&&K.charAt(1)==">"==b>0)p.push($);else if(p.length)p.pop();else return{pos:e(x,D),ch:$}}}}}return x-b==(b>0?d.lastLine():d.firstLine())?!1:null}function s(d,h,b){for(var T=d.state.matchBrackets.maxHighlightLineLength||1e3,f=b&&b.highlightNonMatching,m=[],u=d.listSelections(),p=0;p<u.length;p++){var v=u[p].empty()&&o(d,u[p].head,b);if(v&&(v.match||f!==!1)&&d.getLine(v.from.line).length<=T){var _=v.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";m.push(d.markText(v.from,e(v.from.line,v.from.ch+1),{className:_})),v.to&&d.getLine(v.to.line).length<=T&&m.push(d.markText(v.to,e(v.to.line,v.to.ch+1),{className:_}))}}if(m.length){i&&d.state.focused&&d.focus();var x=function(){d.operation(function(){for(var A=0;A<m.length;A++)m[A].clear()})};if(h)setTimeout(x,800);else return x}}function l(d){d.operation(function(){d.state.matchBrackets.currentlyHighlighted&&(d.state.matchBrackets.currentlyHighlighted(),d.state.matchBrackets.currentlyHighlighted=null),d.state.matchBrackets.currentlyHighlighted=s(d,!1,d.state.matchBrackets)})}function c(d){d.state.matchBrackets&&d.state.matchBrackets.currentlyHighlighted&&(d.state.matchBrackets.currentlyHighlighted(),d.state.matchBrackets.currentlyHighlighted=null)}t.defineOption("matchBrackets",!1,function(d,h,b){b&&b!=t.Init&&(d.off("cursorActivity",l),d.off("focus",l),d.off("blur",c),c(d)),h&&(d.state.matchBrackets=typeof h=="object"?h:{},d.on("cursorActivity",l),d.on("focus",l),d.on("blur",c))}),t.defineExtension("matchBrackets",function(){s(this,!0)}),t.defineExtension("findMatchingBracket",function(d,h,b){return(b||typeof h=="boolean")&&(b?(b.strict=h,h=b):h=h?{strict:!0}:null),o(this,d,h)}),t.defineExtension("scanForBracket",function(d,h,b,T){return a(this,d,h,b,T)})})});var Op=Vt((Np,Rp)=>{"use strict";(function(t){typeof Np=="object"&&typeof Rp=="object"?t(Jt()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";function i(e){return function(n,r){var o=r.line,a=n.getLine(o);function s(T){for(var f,m=r.ch,u=0;;){var p=m<=0?-1:a.lastIndexOf(T[0],m-1);if(p==-1){if(u==1)break;u=1,m=a.length;continue}if(u==1&&p<r.ch)break;if(f=n.getTokenTypeAt(t.Pos(o,p+1)),!/^(comment|string)/.test(f))return{ch:p+1,tokenType:f,pair:T};m=p-1}}function l(T){var f=1,m=n.lastLine(),u,p=T.ch,v;e:for(var _=o;_<=m;++_)for(var x=n.getLine(_),A=_==o?p:0;;){var D=x.indexOf(T.pair[0],A),O=x.indexOf(T.pair[1],A);if(D<0&&(D=x.length),O<0&&(O=x.length),A=Math.min(D,O),A==x.length)break;if(n.getTokenTypeAt(t.Pos(_,A+1))==T.tokenType){if(A==D)++f;else if(!--f){u=_,v=A;break e}}++A}return u==null||o==u?null:{from:t.Pos(o,p),to:t.Pos(u,v)}}for(var c=[],d=0;d<e.length;d++){var h=s(e[d]);h&&c.push(h)}c.sort(function(T,f){return T.ch-f.ch});for(var d=0;d<c.length;d++){var b=l(c[d]);if(b)return b}return null}}t.registerHelper("fold","brace",i([["{","}"],["[","]"]])),t.registerHelper("fold","brace-paren",i([["{","}"],["[","]"],["(",")"]])),t.registerHelper("fold","import",function(e,n){function r(d){if(d<e.firstLine()||d>e.lastLine())return null;var h=e.getTokenAt(t.Pos(d,1));if(/\S/.test(h.string)||(h=e.getTokenAt(t.Pos(d,h.end+1))),h.type!="keyword"||h.string!="import")return null;for(var b=d,T=Math.min(e.lastLine(),d+10);b<=T;++b){var f=e.getLine(b),m=f.indexOf(";");if(m!=-1)return{startCh:h.end,end:t.Pos(b,m)}}}var o=n.line,a=r(o),s;if(!a||r(o-1)||(s=r(o-2))&&s.end.line==o-1)return null;for(var l=a.end;;){var c=r(l.line+1);if(c==null)break;l=c.end}return{from:e.clipPos(t.Pos(o,a.startCh+1)),to:l}}),t.registerHelper("fold","include",function(e,n){function r(c){if(c<e.firstLine()||c>e.lastLine())return null;var d=e.getTokenAt(t.Pos(c,1));if(/\S/.test(d.string)||(d=e.getTokenAt(t.Pos(c,d.end+1))),d.type=="meta"&&d.string.slice(0,8)=="#include")return d.start+8}var o=n.line,a=r(o);if(a==null||r(o-1)!=null)return null;for(var s=o;;){var l=r(s+1);if(l==null)break;++s}return{from:t.Pos(o,a+1),to:e.clipPos(t.Pos(s))}})})});var Bp=Vt((Hp,Lp)=>{"use strict";(function(t){typeof Hp=="object"&&typeof Lp=="object"?t(Jt()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";t.registerGlobalHelper("fold","comment",function(i){return i.blockCommentStart&&i.blockCommentEnd},function(i,e){var n=i.getModeAt(e),r=n.blockCommentStart,o=n.blockCommentEnd;if(!(!r||!o)){for(var a=e.line,s=i.getLine(a),l,c=e.ch,d=0;;){var h=c<=0?-1:s.lastIndexOf(r,c-1);if(h==-1){if(d==1)return;d=1,c=s.length;continue}if(d==1&&h<e.ch)return;if(/comment/.test(i.getTokenTypeAt(t.Pos(a,h+1)))&&(h==0||s.slice(h-o.length,h)==o||!/comment/.test(i.getTokenTypeAt(t.Pos(a,h))))){l=h+r.length;break}c=h-1}var b=1,T=i.lastLine(),f,m;e:for(var u=a;u<=T;++u)for(var p=i.getLine(u),v=u==a?l:0;;){var _=p.indexOf(r,v),x=p.indexOf(o,v);if(_<0&&(_=p.length),x<0&&(x=p.length),v=Math.min(_,x),v==p.length)break;if(v==_)++b;else if(!--b){f=u,m=v;break e}++v}if(!(f==null||a==f&&m==l))return{from:t.Pos(a,l),to:t.Pos(f,m)}}})})});var Js=Vt((Vp,jp)=>{"use strict";(function(t){typeof Vp=="object"&&typeof jp=="object"?t(Jt()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";function i(o,a,s,l){if(s&&s.call){var c=s;s=null}else var c=r(o,s,"rangeFinder");typeof a=="number"&&(a=t.Pos(a,0));var d=r(o,s,"minFoldSize");function h(m){var u=c(o,a);if(!u||u.to.line-u.from.line<d)return null;if(l==="fold")return u;for(var p=o.findMarksAt(u.from),v=0;v<p.length;++v)if(p[v].__isFold){if(!m)return null;u.cleared=!0,p[v].clear()}return u}var b=h(!0);if(r(o,s,"scanUp"))for(;!b&&a.line>o.firstLine();)a=t.Pos(a.line-1,0),b=h(!1);if(!(!b||b.cleared||l==="unfold")){var T=e(o,s,b);t.on(T,"mousedown",function(m){f.clear(),t.e_preventDefault(m)});var f=o.markText(b.from,b.to,{replacedWith:T,clearOnEnter:r(o,s,"clearOnEnter"),__isFold:!0});f.on("clear",function(m,u){t.signal(o,"unfold",o,m,u)}),t.signal(o,"fold",o,b.from,b.to)}}function e(o,a,s){var l=r(o,a,"widget");if(typeof l=="function"&&(l=l(s.from,s.to)),typeof l=="string"){var c=document.createTextNode(l);l=document.createElement("span"),l.appendChild(c),l.className="CodeMirror-foldmarker"}else l&&(l=l.cloneNode(!0));return l}t.newFoldFunction=function(o,a){return function(s,l){i(s,l,{rangeFinder:o,widget:a})}},t.defineExtension("foldCode",function(o,a,s){i(this,o,a,s)}),t.defineExtension("isFolded",function(o){for(var a=this.findMarksAt(o),s=0;s<a.length;++s)if(a[s].__isFold)return!0}),t.commands.toggleFold=function(o){o.foldCode(o.getCursor())},t.commands.fold=function(o){o.foldCode(o.getCursor(),null,"fold")},t.commands.unfold=function(o){o.foldCode(o.getCursor(),{scanUp:!1},"unfold")},t.commands.foldAll=function(o){o.operation(function(){for(var a=o.firstLine(),s=o.lastLine();a<=s;a++)o.foldCode(t.Pos(a,0),{scanUp:!1},"fold")})},t.commands.unfoldAll=function(o){o.operation(function(){for(var a=o.firstLine(),s=o.lastLine();a<=s;a++)o.foldCode(t.Pos(a,0),{scanUp:!1},"unfold")})},t.registerHelper("fold","combine",function(){var o=Array.prototype.slice.call(arguments,0);return function(a,s){for(var l=0;l<o.length;++l){var c=o[l](a,s);if(c)return c}}}),t.registerHelper("fold","auto",function(o,a){for(var s=o.getHelpers(a,"fold"),l=0;l<s.length;l++){var c=s[l](o,a);if(c)return c}});var n={rangeFinder:t.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1,clearOnEnter:!0};t.defineOption("foldOptions",null);function r(o,a,s){if(a&&a[s]!==void 0)return a[s];var l=o.options.foldOptions;return l&&l[s]!==void 0?l[s]:n[s]}t.defineExtension("foldOption",function(o,a){return r(this,o,a)})})});var Up=Vt(($p,zp)=>{"use strict";(function(t){typeof $p=="object"&&typeof zp=="object"?t(Jt(),Js()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","./foldcode"],t):t(CodeMirror)})(function(t){"use strict";t.defineOption("foldGutter",!1,function(f,m,u){u&&u!=t.Init&&(f.clearGutter(f.state.foldGutter.options.gutter),f.state.foldGutter=null,f.off("gutterClick",c),f.off("changes",h),f.off("viewportChange",b),f.off("fold",T),f.off("unfold",T),f.off("swapDoc",h),f.off("optionChange",d)),m&&(f.state.foldGutter=new e(n(m)),l(f),f.on("gutterClick",c),f.on("changes",h),f.on("viewportChange",b),f.on("fold",T),f.on("unfold",T),f.on("swapDoc",h),f.on("optionChange",d))});var i=t.Pos;function e(f){this.options=f,this.from=this.to=0}function n(f){return f===!0&&(f={}),f.gutter==null&&(f.gutter="CodeMirror-foldgutter"),f.indicatorOpen==null&&(f.indicatorOpen="CodeMirror-foldgutter-open"),f.indicatorFolded==null&&(f.indicatorFolded="CodeMirror-foldgutter-folded"),f}function r(f,m){for(var u=f.findMarks(i(m,0),i(m+1,0)),p=0;p<u.length;++p)if(u[p].__isFold){var v=u[p].find(-1);if(v&&v.line===m)return u[p]}}function o(f){if(typeof f=="string"){var m=document.createElement("div");return m.className=f+" CodeMirror-guttermarker-subtle",m}else return f.cloneNode(!0)}function a(f,m,u){var p=f.state.foldGutter.options,v=m-1,_=f.foldOption(p,"minFoldSize"),x=f.foldOption(p,"rangeFinder"),A=typeof p.indicatorFolded=="string"&&s(p.indicatorFolded),D=typeof p.indicatorOpen=="string"&&s(p.indicatorOpen);f.eachLine(m,u,function(O){++v;var $=null,K=O.gutterMarkers;if(K&&(K=K[p.gutter]),r(f,v)){if(A&&K&&A.test(K.className))return;$=o(p.indicatorFolded)}else{var he=i(v,0),ke=x&&x(f,he);if(ke&&ke.to.line-ke.from.line>=_){if(D&&K&&D.test(K.className))return;$=o(p.indicatorOpen)}}!$&&!K||f.setGutterMarker(O,p.gutter,$)})}function s(f){return new RegExp("(^|\\s)"+f+"(?:$|\\s)\\s*")}function l(f){var m=f.getViewport(),u=f.state.foldGutter;u&&(f.operation(function(){a(f,m.from,m.to)}),u.from=m.from,u.to=m.to)}function c(f,m,u){var p=f.state.foldGutter;if(p){var v=p.options;if(u==v.gutter){var _=r(f,m);_?_.clear():f.foldCode(i(m,0),v)}}}function d(f,m){m=="mode"&&h(f)}function h(f){var m=f.state.foldGutter;if(m){var u=m.options;m.from=m.to=0,clearTimeout(m.changeUpdate),m.changeUpdate=setTimeout(function(){l(f)},u.foldOnChangeTimeSpan||600)}}function b(f){var m=f.state.foldGutter;if(m){var u=m.options;clearTimeout(m.changeUpdate),m.changeUpdate=setTimeout(function(){var p=f.getViewport();m.from==m.to||p.from-m.to>20||m.from-p.to>20?l(f):f.operation(function(){p.from<m.from&&(a(f,p.from,m.from),m.from=p.from),p.to>m.to&&(a(f,m.to,p.to),m.to=p.to)})},u.updateViewportTimeSpan||400)}}function T(f,m){var u=f.state.foldGutter;if(u){var p=m.line;p>=u.from&&p<u.to&&a(f,p,p+1)}}})});var Gp=Vt((qp,Kp)=>{"use strict";(function(t){typeof qp=="object"&&typeof Kp=="object"?t(Jt()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";t.registerHelper("fold","markdown",function(i,e){var n=100;function r(b){var T=i.getTokenTypeAt(t.Pos(b,0));return T&&/\bheader\b/.test(T)}function o(b,T,f){var m=T&&T.match(/^#+/);return m&&r(b)?m[0].length:(m=f&&f.match(/^[=\-]+\s*$/),m&&r(b+1)?f[0]=="="?1:2:n)}var a=i.getLine(e.line),s=i.getLine(e.line+1),l=o(e.line,a,s);if(l!==n){for(var c=i.lastLine(),d=e.line,h=i.getLine(d+2);d<c&&!(o(d+1,s,h)<=l);)++d,s=h,h=i.getLine(d+2);return{from:t.Pos(e.line,a.length),to:t.Pos(d,i.getLine(d).length)}}})})});var Yp=Vt((Wp,Qp)=>{"use strict";(function(t){typeof Wp=="object"&&typeof Qp=="object"?t(Jt()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";var i=t.Pos;function e(u,p){return u.line-p.line||u.ch-p.ch}var n="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=n+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",o=new RegExp("<(/?)(["+n+"]["+r+"]*)","g");function a(u,p,v,_){this.line=p,this.ch=v,this.cm=u,this.text=u.getLine(p),this.min=_?Math.max(_.from,u.firstLine()):u.firstLine(),this.max=_?Math.min(_.to-1,u.lastLine()):u.lastLine()}function s(u,p){var v=u.cm.getTokenTypeAt(i(u.line,p));return v&&/\btag\b/.test(v)}function l(u){if(!(u.line>=u.max))return u.ch=0,u.text=u.cm.getLine(++u.line),!0}function c(u){if(!(u.line<=u.min))return u.text=u.cm.getLine(--u.line),u.ch=u.text.length,!0}function d(u){for(;;){var p=u.text.indexOf(">",u.ch);if(p==-1){if(l(u))continue;return}if(!s(u,p+1)){u.ch=p+1;continue}var v=u.text.lastIndexOf("/",p),_=v>-1&&!/\S/.test(u.text.slice(v+1,p));return u.ch=p+1,_?"selfClose":"regular"}}function h(u){for(;;){var p=u.ch?u.text.lastIndexOf("<",u.ch-1):-1;if(p==-1){if(c(u))continue;return}if(!s(u,p+1)){u.ch=p;continue}o.lastIndex=p,u.ch=p;var v=o.exec(u.text);if(v&&v.index==p)return v}}function b(u){for(;;){o.lastIndex=u.ch;var p=o.exec(u.text);if(!p){if(l(u))continue;return}if(!s(u,p.index+1)){u.ch=p.index+1;continue}return u.ch=p.index+p[0].length,p}}function T(u){for(;;){var p=u.ch?u.text.lastIndexOf(">",u.ch-1):-1;if(p==-1){if(c(u))continue;return}if(!s(u,p+1)){u.ch=p;continue}var v=u.text.lastIndexOf("/",p),_=v>-1&&!/\S/.test(u.text.slice(v+1,p));return u.ch=p+1,_?"selfClose":"regular"}}function f(u,p){for(var v=[];;){var _=b(u),x,A=u.line,D=u.ch-(_?_[0].length:0);if(!_||!(x=d(u)))return;if(x!="selfClose")if(_[1]){for(var O=v.length-1;O>=0;--O)if(v[O]==_[2]){v.length=O;break}if(O<0&&(!p||p==_[2]))return{tag:_[2],from:i(A,D),to:i(u.line,u.ch)}}else v.push(_[2])}}function m(u,p){for(var v=[];;){var _=T(u);if(!_)return;if(_=="selfClose"){h(u);continue}var x=u.line,A=u.ch,D=h(u);if(!D)return;if(D[1])v.push(D[2]);else{for(var O=v.length-1;O>=0;--O)if(v[O]==D[2]){v.length=O;break}if(O<0&&(!p||p==D[2]))return{tag:D[2],from:i(u.line,u.ch),to:i(x,A)}}}}t.registerHelper("fold","xml",function(u,p){for(var v=new a(u,p.line,0);;){var _=b(v);if(!_||v.line!=p.line)return;var x=d(v);if(!x)return;if(!_[1]&&x!="selfClose"){var A=i(v.line,v.ch),D=f(v,_[2]);return D&&e(D.from,A)>0?{from:A,to:D.from}:null}}}),t.findMatchingTag=function(u,p,v){var _=new a(u,p.line,p.ch,v);if(!(_.text.indexOf(">")==-1&&_.text.indexOf("<")==-1)){var x=d(_),A=x&&i(_.line,_.ch),D=x&&h(_);if(!(!x||!D||e(_,p)>0)){var O={from:i(_.line,_.ch),to:A,tag:D[2]};return x=="selfClose"?{open:O,close:null,at:"open"}:D[1]?{open:m(_,D[2]),close:O,at:"close"}:(_=new a(u,A.line,A.ch,v),{open:O,close:f(_,D[2]),at:"open"})}}},t.findEnclosingTag=function(u,p,v,_){for(var x=new a(u,p.line,p.ch,v);;){var A=m(x,_);if(!A)break;var D=new a(u,p.line,p.ch,v),O=f(D,A.tag);if(O)return{open:A,close:O}}},t.scanForClosingTag=function(u,p,v,_){var x=new a(u,p.line,p.ch,_?{from:0,to:_}:null);return f(x,v)}})});var Jp=Vt((Xp,Zp)=>{"use strict";(function(t){typeof Xp=="object"&&typeof Zp=="object"?t(Jt()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";var i="CodeMirror-hint",e="CodeMirror-hint-active";t.showHint=function(m,u,p){if(!u)return m.showHint(p);p&&p.async&&(u.async=!0);var v={hint:u};if(p)for(var _ in p)v[_]=p[_];return m.showHint(v)},t.defineExtension("showHint",function(m){m=a(this,this.getCursor("start"),m);var u=this.listSelections();if(!(u.length>1)){if(this.somethingSelected()){if(!m.hint.supportsSelection)return;for(var p=0;p<u.length;p++)if(u[p].head.line!=u[p].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var v=this.state.completionActive=new n(this,m);v.options.hint&&(t.signal(this,"startCompletion",this),v.update(!0))}}),t.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function n(m,u){if(this.cm=m,this.options=u,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var p=this;m.on("cursorActivity",this.activityFunc=function(){p.cursorActivity()})}}var r=window.requestAnimationFrame||function(m){return setTimeout(m,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;n.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&t.signal(this.data,"close"),this.widget&&this.widget.close(),t.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(m,u){var p=m.list[u],v=this;this.cm.operation(function(){p.hint?p.hint(v.cm,m,p):v.cm.replaceRange(s(p),p.from||m.from,p.to||m.to,"complete"),t.signal(m,"pick",p),v.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var m=this.startPos;this.data&&(m=this.data.from);var u=this.cm.getCursor(),p=this.cm.getLine(u.line);if(u.line!=this.startPos.line||p.length-u.ch!=this.startLen-this.startPos.ch||u.ch<m.ch||this.cm.somethingSelected()||!u.ch||this.options.closeCharacters.test(p.charAt(u.ch-1)))this.close();else{var v=this;this.debounce=r(function(){v.update()}),this.widget&&this.widget.disable()}},update:function(m){if(this.tick!=null){var u=this,p=++this.tick;b(this.options.hint,this.cm,this.options,function(v){u.tick==p&&u.finishUpdate(v,m)})}},finishUpdate:function(m,u){this.data&&t.signal(this.data,"update");var p=this.widget&&this.widget.picked||u&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=m,m&&m.list.length&&(p&&m.list.length==1?this.pick(m,0):(this.widget=new d(this,m),t.signal(m,"shown")))}};function a(m,u,p){var v=m.options.hintOptions,_={};for(var x in f)_[x]=f[x];if(v)for(var x in v)v[x]!==void 0&&(_[x]=v[x]);if(p)for(var x in p)p[x]!==void 0&&(_[x]=p[x]);return _.hint.resolve&&(_.hint=_.hint.resolve(m,u)),_}function s(m){return typeof m=="string"?m:m.text}function l(m,u){var p={Up:function(){u.moveFocus(-1)},Down:function(){u.moveFocus(1)},PageUp:function(){u.moveFocus(-u.menuSize()+1,!0)},PageDown:function(){u.moveFocus(u.menuSize()-1,!0)},Home:function(){u.setFocus(0)},End:function(){u.setFocus(u.length-1)},Enter:u.pick,Tab:u.pick,Esc:u.close},v=/Mac/.test(navigator.platform);v&&(p["Ctrl-P"]=function(){u.moveFocus(-1)},p["Ctrl-N"]=function(){u.moveFocus(1)});var _=m.options.customKeys,x=_?{}:p;function A($,K){var he;typeof K!="string"?he=function(ke){return K(ke,u)}:p.hasOwnProperty(K)?he=p[K]:he=K,x[$]=he}if(_)for(var D in _)_.hasOwnProperty(D)&&A(D,_[D]);var O=m.options.extraKeys;if(O)for(var D in O)O.hasOwnProperty(D)&&A(D,O[D]);return x}function c(m,u){for(;u&&u!=m;){if(u.nodeName.toUpperCase()==="LI"&&u.parentNode==m)return u;u=u.parentNode}}function d(m,u){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=m,this.data=u,this.picked=!1;var p=this,v=m.cm,_=v.getInputField().ownerDocument,x=_.defaultView||_.parentWindow,A=this.hints=_.createElement("ul");A.setAttribute("role","listbox"),A.setAttribute("aria-expanded","true"),A.id=this.id;var D=m.cm.options.theme;A.className="CodeMirror-hints "+D,this.selectedHint=u.selectedHint||0;for(var O=u.list,$=0;$<O.length;++$){var K=A.appendChild(_.createElement("li")),he=O[$],ke=i+($!=this.selectedHint?"":" "+e);he.className!=null&&(ke=he.className+" "+ke),K.className=ke,$==this.selectedHint&&K.setAttribute("aria-selected","true"),K.id=this.id+"-"+$,K.setAttribute("role","option"),he.render?he.render(K,u,he):K.appendChild(_.createTextNode(he.displayText||s(he))),K.hintId=$}var je=m.options.container||_.body,et=v.cursorCoords(m.options.alignWithWord?u.from:null),ai=et.left,tt=et.bottom,B=!0,V=0,z=0;if(je!==_.body){var J=["absolute","relative","fixed"].indexOf(x.getComputedStyle(je).position)!==-1,ge=J?je:je.offsetParent,Ie=ge.getBoundingClientRect(),k=_.body.getBoundingClientRect();V=Ie.left-k.left-ge.scrollLeft,z=Ie.top-k.top-ge.scrollTop}A.style.left=ai-V+"px",A.style.top=tt-z+"px";var oe=x.innerWidth||Math.max(_.body.offsetWidth,_.documentElement.offsetWidth),X=x.innerHeight||Math.max(_.body.offsetHeight,_.documentElement.offsetHeight);je.appendChild(A),v.getInputField().setAttribute("aria-autocomplete","list"),v.getInputField().setAttribute("aria-owns",this.id),v.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var ue=m.options.moveOnOverlap?A.getBoundingClientRect():new DOMRect,Pe=m.options.paddingForScrollbar?A.scrollHeight>A.clientHeight+1:!1,xe;setTimeout(function(){xe=v.getScrollInfo()});var ut=ue.bottom-X;if(ut>0){var Te=ue.bottom-ue.top,ft=ue.top-(et.bottom-et.top)-2;X-ue.top<ft?(Te>ft&&(A.style.height=(Te=ft)+"px"),A.style.top=(tt=et.top-Te)+z+"px",B=!1):A.style.height=X-ue.top-2+"px"}var ht=ue.right-oe;if(Pe&&(ht+=v.display.nativeBarWidth),ht>0&&(ue.right-ue.left>oe&&(A.style.width=oe-5+"px",ht-=ue.right-ue.left-oe),A.style.left=(ai=Math.max(et.left-ht-V,0))+"px"),Pe)for(var Ti=A.firstChild;Ti;Ti=Ti.nextSibling)Ti.style.paddingRight=v.display.nativeBarWidth+"px";if(v.addKeyMap(this.keyMap=l(m,{moveFocus:function(Re,it){p.changeActive(p.selectedHint+Re,it)},setFocus:function(Re){p.changeActive(Re)},menuSize:function(){return p.screenAmount()},length:O.length,close:function(){m.close()},pick:function(){p.pick()},data:u})),m.options.closeOnUnfocus){var De;v.on("blur",this.onBlur=function(){De=setTimeout(function(){m.close()},100)}),v.on("focus",this.onFocus=function(){clearTimeout(De)})}v.on("scroll",this.onScroll=function(){var Re=v.getScrollInfo(),it=v.getWrapperElement().getBoundingClientRect();xe||(xe=v.getScrollInfo());var ea=tt+xe.top-Re.top,_o=ea-(x.pageYOffset||(_.documentElement||_.body).scrollTop);if(B||(_o+=A.offsetHeight),_o<=it.top||_o>=it.bottom)return m.close();A.style.top=ea+"px",A.style.left=ai+xe.left-Re.left+"px"}),t.on(A,"dblclick",function(Re){var it=c(A,Re.target||Re.srcElement);it&&it.hintId!=null&&(p.changeActive(it.hintId),p.pick())}),t.on(A,"click",function(Re){var it=c(A,Re.target||Re.srcElement);it&&it.hintId!=null&&(p.changeActive(it.hintId),m.options.completeOnSingleClick&&p.pick())}),t.on(A,"mousedown",function(){setTimeout(function(){v.focus()},20)});var wn=this.getSelectedHintRange();return(wn.from!==0||wn.to!==0)&&this.scrollToActive(),t.signal(u,"select",O[this.selectedHint],A.childNodes[this.selectedHint]),!0}d.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var m=this.completion.cm.getInputField();m.removeAttribute("aria-activedescendant"),m.removeAttribute("aria-owns");var u=this.completion.cm;this.completion.options.closeOnUnfocus&&(u.off("blur",this.onBlur),u.off("focus",this.onFocus)),u.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var m=this;this.keyMap={Enter:function(){m.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(m,u){if(m>=this.data.list.length?m=u?this.data.list.length-1:0:m<0&&(m=u?0:this.data.list.length-1),this.selectedHint!=m){var p=this.hints.childNodes[this.selectedHint];p&&(p.className=p.className.replace(" "+e,""),p.removeAttribute("aria-selected")),p=this.hints.childNodes[this.selectedHint=m],p.className+=" "+e,p.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",p.id),this.scrollToActive(),t.signal(this.data,"select",this.data.list[this.selectedHint],p)}},scrollToActive:function(){var m=this.getSelectedHintRange(),u=this.hints.childNodes[m.from],p=this.hints.childNodes[m.to],v=this.hints.firstChild;u.offsetTop<this.hints.scrollTop?this.hints.scrollTop=u.offsetTop-v.offsetTop:p.offsetTop+p.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=p.offsetTop+p.offsetHeight-this.hints.clientHeight+v.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var m=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-m),to:Math.min(this.data.list.length-1,this.selectedHint+m)}}};function h(m,u){if(!m.somethingSelected())return u;for(var p=[],v=0;v<u.length;v++)u[v].supportsSelection&&p.push(u[v]);return p}function b(m,u,p,v){if(m.async)m(u,v,p);else{var _=m(u,p);_&&_.then?_.then(v):v(_)}}function T(m,u){var p=m.getHelpers(u,"hint"),v;if(p.length){var _=function(x,A,D){var O=h(x,p);function $(K){if(K==O.length)return A(null);b(O[K],x,D,function(he){he&&he.list.length>0?A(he):$(K+1)})}$(0)};return _.async=!0,_.supportsSelection=!0,_}else return(v=m.getHelper(m.getCursor(),"hintWords"))?function(x){return t.hint.fromList(x,{words:v})}:t.hint.anyword?function(x,A){return t.hint.anyword(x,A)}:function(){}}t.registerHelper("hint","auto",{resolve:T}),t.registerHelper("hint","fromList",function(m,u){var p=m.getCursor(),v=m.getTokenAt(p),_,x=t.Pos(p.line,v.start),A=p;v.start<p.ch&&/\w/.test(v.string.charAt(p.ch-v.start-1))?_=v.string.substr(0,p.ch-v.start):(_="",x=p);for(var D=[],O=0;O<u.words.length;O++){var $=u.words[O];$.slice(0,_.length)==_&&D.push($)}if(D.length)return{list:D,from:x,to:A}}),t.commands.autocomplete=t.showHint;var f={hint:t.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};t.defineOption("hintOptions",null)})});var Vr=(()=>{class t{static{this.API="../nifi-api"}constructor(e){this.httpClient=e}getUser(){return this.httpClient.get(`${t.API}/flow/current-user`)}static{this.\u0275fac=function(n){return new(n||t)(E(Be))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var jr=Xt("[Login Configuration] Load Login Configuration"),ri=Xt("[Login Configuration] Load Login Configuration Success",di());var $e=()=>{let t=Ce(Yt),i=Ce(Vr),e=Ce(Se),n=Ce(ae);return n.select(Di).pipe(Oe(1),N(o=>o?I(o):ee(t.getLoginConfiguration()).pipe(le(a=>{n.dispatch(ri({response:{loginConfiguration:a.authenticationConfiguration}}))})))).pipe(N(o=>n.select(Bn).pipe(Oe(1),N(a=>a.status=="success"?I(!0):ee(i.getUser()).pipe(le(s=>{n.dispatch(On({response:{user:s}}))}),M(()=>!0),G(s=>((s.status!==401||o.loginSupported)&&n.dispatch(e.fullScreenError(s)),I(!1))))))),G(()=>(n.dispatch(ot({errorDetail:{title:"Unauthorized",message:"Unable to load authentication configuration. Please contact your system administrator."}})),I(!1))))};var mu=t=>()=>{let i=Ce(ae),e=Ce(Yt),n=Ce(Se);return i.select(Di).pipe(N(r=>r?I(r):e.getLoginConfiguration().pipe(le(o=>i.dispatch(ri({response:{loginConfiguration:o.authenticationConfiguration}}))))),M(r=>t(r)?!0:(i.dispatch(ot({skipReplaceUrl:!0,errorDetail:{title:"Unable to load",message:"Login configuration check failed"}})),!1)),G(r=>(i.dispatch(n.fullScreenError(r,!0)),I(!1))))};var id=[{path:"login",canMatch:[mu(t=>t.loginSupported)],loadChildren:()=>import("./chunk-AUVCBD6G.js").then(t=>t.LoginModule)},{path:"logout-complete",loadChildren:()=>import("./chunk-2JJBH6FU.js").then(t=>t.LogoutModule)},{path:"error",loadChildren:()=>import("./chunk-XUN4C6FH.js").then(t=>t.ErrorModule)},{path:"404",component:Mo,loadChildren:()=>import("./chunk-22C2CUAF.js").then(t=>t.RouteNotFoundModule)},{path:"documentation",canMatch:[$e],loadChildren:()=>import("./chunk-BELN3BF7.js").then(t=>t.DocumentationModule)},{path:"settings",canMatch:[$e],loadChildren:()=>import("./chunk-ENYPSNWP.js").then(t=>t.SettingsModule)},{path:"provenance",canMatch:[$e],loadChildren:()=>import("./chunk-WHPPAECO.js").then(t=>t.ProvenanceModule)},{path:"parameter-contexts",canMatch:[$e],loadChildren:()=>import("./chunk-YB7SQDL5.js").then(t=>t.ParameterContextsModule)},{path:"counters",canMatch:[$e],loadChildren:()=>import("./chunk-ZBPVTVCQ.js").then(t=>t.CountersModule)},{path:"users",canMatch:[$e],loadChildren:()=>import("./chunk-54PQBJNL.js").then(t=>t.UsersModule)},{path:"access-policies",canMatch:[$e],loadChildren:()=>import("./chunk-P73YEJP5.js").then(t=>t.AccessPoliciesModule)},{path:"summary",canMatch:[$e],loadChildren:()=>import("./chunk-SZD2WXMX.js").then(t=>t.SummaryModule)},{path:"bulletins",canMatch:[$e],loadChildren:()=>import("./chunk-J3JV3C3P.js").then(t=>t.BulletinsModule)},{path:"queue",canMatch:[$e],loadChildren:()=>import("./chunk-3OCWDER4.js").then(t=>t.QueueModule)},{path:"flow-configuration-history",canMatch:[$e],loadChildren:()=>import("./chunk-2KEYXY5R.js").then(t=>t.FlowConfigurationHistoryModule)},{path:"cluster",canMatch:[$e],loadChildren:()=>import("./chunk-6DPQFO2V.js").then(t=>t.ClusterModule)},{path:"content-viewer",canMatch:[$e],loadChildren:()=>import("./chunk-FFWOF3WZ.js").then(t=>t.ContentViewerModule)},{path:"",canMatch:[$e],loadChildren:()=>import("./chunk-FLDVBBDZ.js").then(t=>t.FlowDesignerModule)},{path:"**",component:Mo,loadChildren:()=>import("./chunk-22C2CUAF.js").then(t=>t.RouteNotFoundModule)}],pu=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=vt({type:t})}static{this.\u0275inj=yt({imports:[To.forRoot(id,{paramsInheritanceStrategy:"always",useHash:!0}),To]})}}return t})();function nd(t,i){if(t&1){let e=ve();y(0,"mat-checkbox",9),ie("mousedown",function(r){ne(e);let o=H();return re(o.preventDrag(r))})("change",function(){ne(e);let r=H();return re(r.setEmptyStringChanged())}),S(1,"Set empty string "),g()}}function rd(t,i){if(t&1){let e=ve();y(0,"button",10),ie("mousedown",function(r){ne(e);let o=H();return re(o.preventDrag(r))})("click",function(){ne(e);let r=H();return re(r.cancelClicked())}),S(1," Close "),g()}}function od(t,i){if(t&1){let e=ve();y(0,"button",11),ie("mousedown",function(r){ne(e);let o=H();return re(o.preventDrag(r))})("click",function(){ne(e);let r=H();return re(r.cancelClicked())}),S(1," Cancel "),g(),y(2,"button",12),ie("mousedown",function(r){ne(e);let o=H();return re(o.preventDrag(r))})("click",function(){ne(e);let r=H();return re(r.okClicked())}),S(3," Ok "),g()}if(t&2){let e=H();C(2),q("disabled",!e.textEditorForm.dirty||e.textEditorForm.invalid)}}var du=(()=>{class t{set item(e){this.textEditorForm.get("value")?.setValue(e.entry.value);let n=e.entry.value==="";this.textEditorForm.get("setEmptyString")?.setValue(n),this.setEmptyStringChanged(),this.itemSet=!0}constructor(e,n,r){this.formBuilder=e,this.viewContainerRef=n,this.renderer=r,this.readonly=!1,this.ok=new nt,this.cancel=new nt,this.blank=!1,this.itemSet=!1,this.textEditorForm=this.formBuilder.group({value:new hi(""),setEmptyString:new hi(!1)})}cancelClicked(){this.cancel.next()}okClicked(){let e=this.textEditorForm.get("value"),n=this.textEditorForm.get("setEmptyString");if(e&&n){let r=e.value;r===""?n.value?this.ok.next(""):this.ok.next(null):this.ok.next(r)}}setEmptyStringChanged(){let e=this.textEditorForm.get("setEmptyString");e&&(this.blank=e.value,e.value?(this.textEditorForm.get("value")?.setValue(""),this.textEditorForm.get("value")?.disable(),this.editor&&this.editor.setOption("readOnly","nocursor")):(this.textEditorForm.get("value")?.enable(),this.editor&&this.editor.setOption("readOnly",!1)))}resized(e){this.editor.setSize("100%",e.height-112)}preventDrag(e){e.stopPropagation()}codeMirrorLoaded(e){this.editor=e.codeMirror,this.editor.setSize("100%",108),this.readonly||(this.editor.focus(),this.editor.execCommand("selectAll")),this.textEditorForm.get("setEmptyString")?.value&&(this.textEditorForm.get("value")?.disable(),this.editor.setOption("readOnly","nocursor"))}getOptions(){return{readOnly:this.readonly,lineNumbers:!0,matchBrackets:!0,theme:"nifi",extraKeys:{Enter:()=>{this.textEditorForm.dirty&&this.textEditorForm.valid&&this.okClicked()}}}}static{this.\u0275fac=function(n){return new(n||t)(Q(kt),Q(Ea),Q(ba))}}static{this.\u0275cmp=ye({type:t,selectors:[["text-editor"]],inputs:{item:"item",width:"width",readonly:"readonly"},outputs:{ok:"ok",cancel:"cancel"},standalone:!0,features:[be],decls:10,vars:9,consts:[["cdkDrag","","resizable","",1,"text-editor","mat-elevation-z8","p-4","h-full",3,"resized"],["cdkTrapFocus","",1,"h-full",3,"formGroup","cdkTrapFocusAutoCapture"],[1,"flex","flex-col","gap-y-3","relative","h-full"],[1,"flex","flex-col","gap-y-0.5","flex-1"],[1,"editor","h-full","w-full","absolute","overflow-auto"],["formControlName","value",3,"mousedown","codeMirrorLoaded","options"],["formControlName","setEmptyString"],[1,"flex","justify-end","items-center","gap-x-2"],["mat-flat-button","","type","button"],["formControlName","setEmptyString",3,"mousedown","change"],["mat-flat-button","","type","button",3,"mousedown","click"],["mat-button","","type","button",3,"mousedown","click"],["type","button","mat-flat-button","",3,"mousedown","click","disabled"]],template:function(n,r){n&1&&(y(0,"div",0),ie("resized",function(a){return r.resized(a)}),y(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ngx-codemirror",5),ie("mousedown",function(a){return r.preventDrag(a)})("codeMirrorLoaded",function(a){return r.codeMirrorLoaded(a)}),g(),U(6,nd,2,0,"mat-checkbox",6),g()(),y(7,"div",7),U(8,rd,2,0,"button",8)(9,od,4,1),g()()()()),n&2&&(Aa("width",r.width,"px"),C(),q("formGroup",r.textEditorForm)("cdkTrapFocusAutoCapture",!r.readonly),C(3),mt("blank",r.blank),C(),q("options",r.getOptions()),C(),W(r.readonly?-1:6),C(2),W(r.readonly?8:9))},dependencies:[rt,Nl,El,Ol,Rl,Ne,ir,st,Tt,Et,xt,At,wt,Ll],styles:[".text-editor[_ngcontent-%COMP%]{--mdc-text-button-container-height: 32px;--mdc-filled-button-container-height: 32px;--mdc-protected-button-container-height: 32px;--mdc-outlined-button-container-height: 32px;--mat-text-button-touch-target-display: block;--mat-filled-button-touch-target-display: block;--mat-protected-button-touch-target-display: block;--mat-outlined-button-touch-target-display: block;min-height:220px;min-width:245px;max-height:100vh;max-width:100vw;cursor:move}"]})}}return t})();var sd=["trigger"],ad=["*"],ld=t=>({$implicit:t});function cd(t,i){if(t&1){let e=ve();y(0,"div")(1,"button",19),ie("click",function(){ne(e);let r=H();return re(r.newEntryClicked())}),Y(2,"i",20),g()()}}function ud(t,i){t&1&&(y(0,"th",21),S(1,"Name"),g())}function md(t,i){if(t&1&&(y(0,"td",22)(1,"div",6)(2,"div",23),S(3),g()()()),t&2){let e=i.$implicit;C(2),q("title",e.entry.name),C(),te(" ",e.entry.name," ")}}function pd(t,i){t&1&&(y(0,"th",21),S(1,"Value"),g())}function dd(t,i){t&1&&(y(0,"div",25),S(1,"No value set"),g())}function fd(t,i){t&1&&wa(0)}function hd(t,i){t&1&&(y(0,"div",27),S(1,"Empty string set"),g())}function gd(t,i){if(t&1&&Y(0,"div",28),t&2){let e=H(4);q("tooltipComponentType",e.TextTip)}}function yd(t,i){if(t&1&&(y(0,"div",6)(1,"div",23),S(2),g(),U(3,gd,1,1,"div",28),g()),t&2){let e=i.$implicit,n=H(3);C(),q("title",e),C(),te(" ",e," "),C(),W(n.hasExtraWhitespace(e)?3:-1)}}function vd(t,i){if(t&1&&U(0,fd,1,0,"ng-container",26)(1,hd,2,0,"ng-template",null,2,xo)(3,yd,4,3,"ng-template",null,3,xo),t&2){let e=Zi(2),n=Zi(4),r=H().$implicit,o=H();q("ngTemplateOutlet",o.isEmptyString(r.entry.value)?e:n)("ngTemplateOutletContext",pi(2,ld,r.entry.value))}}function Sd(t,i){if(t&1){let e=ve();y(0,"td",22)(1,"div",24,1),ie("click",function(r){let o=ne(e).$implicit,a=Zi(2),s=H();return re(s.openEditor(a,o,r))}),U(3,dd,2,0,"div",25)(4,vd,5,4),g()()}if(t&2){let e=i.$implicit,n=H();C(),q("id",n.formatId(e)),C(2),W(n.isNull(e.entry.value)?3:4)}}function _d(t,i){t&1&&Y(0,"th",21)}function Cd(t,i){if(t&1&&(y(0,"button",30),Y(1,"i",34),g()),t&2){H();let e=Zi(4);q("matMenuTriggerFor",e)}}function bd(t,i){if(t&1){let e=ve();y(0,"td",22)(1,"div",29),U(2,Cd,2,1,"button",30),y(3,"mat-menu",31,4)(5,"button",32),ie("click",function(){let r=ne(e).$implicit,o=H();return re(o.deleteProperty(r))}),Y(6,"i",33),S(7," Delete "),g()()()()}if(t&2){let e=H();C(2),W(e.isDisabled?-1:2)}}function Ed(t,i){t&1&&Y(0,"tr",35)}function xd(t,i){if(t&1){let e=ve();y(0,"tr",36),ie("click",function(){let r=ne(e).$implicit,o=H();return re(o.select(r))}),g()}if(t&2){let e=i.$implicit,n=i.even,r=H();mt("selected",r.isSelected(e))("even",n)}}function Td(t,i){if(t&1){let e=ve();y(0,"text-editor",37),ie("ok",function(r){ne(e);let o=H();return re(o.saveValue(o.editorItem,r))})("cancel",function(){ne(e);let r=H();return re(r.closeEditor())}),g()}if(t&2){let e=H();q("item",e.editorItem)("width",e.editorWidth)("readonly",e.isDisabled)}}var hu=(()=>{class t{constructor(e,n){this.changeDetector=e,this.nifiCommon=n,this.reportChangesOnly=!1,this.destroyRef=Ce(Ai),this.itemLookup=new Map,this.displayedColumns=["name","value","actions"],this.dataSource=new en,this.isDisabled=!1,this.isTouched=!1,this.editorOpen=!1,this.editorTrigger=null,this.editorWidth=0,this.editorOffsetX=0,this.editorOffsetY=0,this.originPos={originX:"center",originY:"center"},this.editorOverlayPos={overlayX:"center",overlayY:"center"},this.editorPositions=[],this.TextTip=ti}ngAfterViewInit(){this.initFilter(),this.valueTriggers.changes.pipe(Ue(this.destroyRef)).subscribe(()=>{let e=this.dataSource.data.find(n=>n.triggerEdit);if(e){let n=this.valueTriggers.find(r=>this.formatId(e)==r.elementRef.nativeElement.getAttribute("id"));n&&(n.elementRef.nativeElement.scrollIntoView({block:"center",behavior:"instant"}),window.setTimeout(function(){n.elementRef.nativeElement.click()},0)),e.triggerEdit=!1}})}initFilter(){this.dataSource.filterPredicate=e=>this.isVisible(e),this.dataSource.filter=" "}isVisible(e){return!e.deleted}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabled=e}writeValue(e){this.itemLookup.clear();let n=0,r=[];e&&(r=e.map(o=>{let a={entry:o,id:n++,triggerEdit:!1,deleted:!1,added:!1,dirty:!1};return this.itemLookup.set(o.name,a),a})),this.setItems(r)}setItems(e){this.dataSource=new en(e),this.initFilter()}newEntryClicked(){let e=this.dataSource.data.filter(n=>!n.deleted).map(n=>n.entry.name);this.createNew(e).pipe(Oe(1)).subscribe(n=>{let r=this.dataSource.data,o=r.findIndex(a=>a.entry.name==n.name);if(o>-1){let a=r[o],s=F(w({},a),{entry:n,triggerEdit:!0,deleted:!1,added:!0,dirty:!0});this.itemLookup.set(n.name,s),r[o]=s}else{let a=r.length,s={entry:n,id:a,triggerEdit:!0,deleted:!1,added:!0,dirty:!0};this.itemLookup.set(n.name,s),this.setItems([...r,s])}this.handleChanged()})}formatId(e){return"entry-"+e.id}isNull(e){return e==null}isEmptyString(e){return e==""}hasExtraWhitespace(e){return this.nifiCommon.hasLeadTrailWhitespace(e)}openEditor(e,n,r){if(r.target){let a=r.target.closest("td");if(a){let{width:s}=a.getBoundingClientRect();this.editorPositions.pop(),this.editorItem=n,this.editorTrigger=e,this.editorOpen=!0,this.editorWidth=s+100,this.editorOffsetX=8,this.editorOffsetY=80,this.editorPositions.push(new gl(this.originPos,this.editorOverlayPos,this.editorOffsetX,this.editorOffsetY))}}}deleteProperty(e){e.deleted||(e.entry.value=null,e.deleted=!0,e.dirty=!0,this.handleChanged())}saveValue(e,n){e.entry.value!=n&&(e.entry.value=n,e.dirty=!0,this.handleChanged()),this.closeEditor()}handleChanged(){this.dataSource._updateChangeSubscription(),this.changeDetector.markForCheck(),this.isTouched||(this.isTouched=!0,this.onTouched()),this.onChange(this.serializeEntries())}serializeEntries(){let e=this.dataSource.data;return this.reportChangesOnly?e.filter(n=>n.dirty).filter(n=>!(n.added&&n.deleted)).map(n=>n.entry):e.filter(n=>!n.deleted).map(n=>n.entry)}closeEditor(){this.editorOpen=!1}select(e){this.selectedItem=e}isSelected(e){return this.selectedItem?e.entry.name==this.selectedItem.entry.name:!1}static{this.\u0275fac=function(n){return new(n||t)(Q(Mn),Q(Ve))}}static{this.\u0275cmp=ye({type:t,selectors:[["map-table"]],viewQuery:function(n,r){if(n&1&&Qi(sd,5),n&2){let o;Yi(o=Xi())&&(r.valueTriggers=o)}},inputs:{createNew:"createNew",reportChangesOnly:"reportChangesOnly"},standalone:!0,features:[Ra([{provide:Dl,useExisting:fa(()=>t),multi:!0}]),be],ngContentSelectors:ad,decls:21,vars:10,consts:[["mapTable",""],["trigger","cdkOverlayOrigin"],["blank",""],["nonBlank",""],["actionMenu","matMenu"],[1,"map-table","flex","flex-col","h-full","gap-y-3"],[1,"flex","justify-between","items-center"],[1,"font-bold","flex-1"],[1,"listing-table","flex-1","relative"],[1,"absolute","inset-0","overflow-y-auto","overflow-x-hidden"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"selected","even","click",4,"matRowDef","matRowDefColumns"],["cdkConnectedOverlay","",3,"detach","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayBackdropClass","cdkConnectedOverlayOpen"],["title","Add","mat-icon-button","","type","button",3,"click"],[1,"fa","fa-plus"],["mat-header-cell",""],["mat-cell",""],[1,"whitespace-nowrap","overflow-hidden","text-ellipsis","leading-normal",3,"title"],["cdkOverlayOrigin","",1,"pointer",3,"click","id"],[1,"unset","neutral-color"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"empty","neutral-color"],["nifiTooltip","","tooltipInputData","The specified value contains leading and/or trailing whitespace character(s). This could produce unexpected results if it was not intentional.",1,"fa","fa-info-circle","primary-color",3,"tooltipComponentType"],[1,"flex","items-center","justify-end","gap-x-2"],["mat-icon-button","","type","button",1,"h-16","w-16","flex","items-center","justify-center","icon","global-menu",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"],[1,"fa","fa-trash","primary-color","mr-2"],[1,"fa","fa-ellipsis-v"],["mat-header-row",""],["mat-row","",3,"click"],[3,"ok","cancel","item","width","readonly"]],template:function(n,r){if(n&1){let o=ve();Ma(),y(0,"div",5)(1,"div",6)(2,"div",7),Ia(3),g(),U(4,cd,3,0,"div"),g(),y(5,"div",8)(6,"div",9)(7,"table",10,0),Gt(9,11),U(10,ud,2,0,"th",12)(11,md,4,2,"td",13),Wt(),Gt(12,14),U(13,pd,2,0,"th",12)(14,Sd,5,2,"td",13),Wt(),Gt(15,15),U(16,_d,1,0,"th",12)(17,bd,8,1,"td",13),Wt(),U(18,Ed,1,0,"tr",16)(19,xd,1,4,"tr",17),g(),U(20,Td,1,3,"ng-template",18),ie("detach",function(){return ne(o),re(r.closeEditor())}),g()()()}n&2&&(C(4),W(r.isDisabled?-1:4),C(3),q("dataSource",r.dataSource),C(11),q("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),C(),q("matRowDefColumns",r.displayedColumns),C(),q("cdkConnectedOverlayOrigin",r.editorTrigger)("cdkConnectedOverlayPositions",r.editorPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop")("cdkConnectedOverlayOpen",r.editorOpen))},dependencies:[rt,Ha,Sl,vl,Qn,qn,Gn,Wn,Dt,Un,Kn,ei,Fl,Pl,Il,Jn,Zn,Xn,Yn,du]})}}return t})();var gu=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ye({type:t,selectors:[["copy-button"]],standalone:!0,features:[be],decls:2,vars:0,consts:[["mat-icon-button","",1,"primary-icon-button"],[1,"fa","fa-copy"]],template:function(n,r){n&1&&(y(0,"button",0),Y(1,"i",1),g())},dependencies:[Dt],encapsulation:2})}}return t})();function Ad(t,i){if(t&1&&(y(0,"mat-error"),S(1),g()),t&2){let e=H();C(),Ae(e.getNameErrorMessage())}}var yu=(()=>{class t extends bt{constructor(e,n){super(),this.formBuilder=e,this.data=n,this.newEntry=new nt,this.name=new hi(null,[Ml.required,this.existingEntryValidator(this.data.existingEntries)]),this.newEntryForm=e.group({name:this.name})}existingEntryValidator(e){return n=>{let r=n.value;return r===""?null:e.includes(r)?{existingEntry:!0}:null}}getNameErrorMessage(){return this.name?this.name.hasError("required")?"Name is required.":this.name.hasError("existingEntry")?"Name already exists.":"":""}addClicked(){this.newEntry.next(this.name.value)}static{this.\u0275fac=function(n){return new(n||t)(Q(kt),Q(Ii))}}static{this.\u0275cmp=ye({type:t,selectors:[["new-map-table-entry-dialog"]],outputs:{newEntry:"newEntry"},standalone:!0,features:[ze,be],decls:15,vars:4,consts:[["mat-dialog-title",""],[1,"new-entry-form",3,"formGroup"],[1,"mb-2"],["matInput","","formControlName","name","type","text"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","",3,"click","disabled"]],template:function(n,r){n&1&&(y(0,"h2",0),S(1),g(),y(2,"form",1)(3,"mat-dialog-content")(4,"div",2)(5,"mat-form-field")(6,"mat-label"),S(7,"Name"),g(),Y(8,"input",3),U(9,Ad,2,1,"mat-error"),g()()(),y(10,"mat-dialog-actions",4)(11,"button",5),S(12,"Cancel"),g(),y(13,"button",6),ie("click",function(){return r.addClicked()}),S(14," Ok "),g()()()),n&2&&(C(),te("Add ",r.data.entryTypeLabel||"Entry",""),C(),q("formGroup",r.newEntryForm),C(7),W(r.name.invalid?9:-1),C(4),q("disabled",!r.newEntryForm.dirty||r.newEntryForm.invalid))},dependencies:[rt,Ne,We,qe,Ge,Ke,Bl,Fi,nr,Pi,st,Tt,tr,Et,xt,At,wt],styles:[`.new-entry-form[_ngcontent-%COMP%]{--mdc-text-button-container-height: 32px;--mdc-filled-button-container-height: 32px;--mdc-protected-button-container-height: 32px;--mdc-outlined-button-container-height: 32px;--mat-text-button-touch-target-display: block;--mat-filled-button-touch-target-display: block;--mat-protected-button-touch-target-display: block;--mat-outlined-button-touch-target-display: block}.new-entry-form[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}
















`]})}}return t})();var vu=(()=>{class t{constructor(e){this.dialog=e}createNewEntry(e){return n=>{let r=this.dialog.open(yu,F(w({},$n),{data:{existingEntries:n,entryTypeLabel:e}}));return r.componentInstance.newEntry.pipe(Me(r.afterClosed()),N(o=>(r.close(),I({name:o,value:null}))))}}static{this.\u0275fac=function(n){return new(n||t)(E(Fe))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var zr=Xt("[Navigation] Push Back Navigation",di()),Ur=Xt("[Navigation] Pop Back Navigation",di());var qr=Xt("[Document Visibility] Document Visibility Changed",di());function wd(t,i){t&1&&(y(0,"div",0)(1,"div",1),Y(2,"mat-spinner",2),g()())}function kd(t,i){t&1&&Y(0,"router-outlet")}var Su=(()=>{class t{constructor(e,n,r,o,a){this.router=e,this.storage=n,this.themingService=r,this.dialog=o,this.store=a,this.title="nifi",this.guardLoading=!0,this.documentVisibilityListener=()=>{this.store.dispatch(qr({change:{documentVisibility:document.visibilityState==="visible"?gn.Visible:gn.Hidden,changedTimestamp:Date.now()}}))},this.router.events.pipe(Ue(),le(c=>{c instanceof Ua&&this.dialog.openDialogs.forEach(d=>d.close("ROUTED")),c instanceof Ga&&(this.guardLoading=!0),(c instanceof Wa||c instanceof Ka)&&(this.guardLoading=!1)}),pe(c=>c instanceof qa),M(c=>c),we(()=>this.store.select(yc))).subscribe(([c,d])=>{let h=this.router.getCurrentNavigation()?.extras;if(h?.state?.backNavigation){let b=h?.state?.backNavigation;this.store.dispatch(zr({backNavigation:b}))}else d&&this.store.dispatch(Ur({url:c.url}))});let s=this.storage.getItem("theme"),l=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;this.themingService.toggleTheme(l,s),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addListener(c=>{s=this.storage.getItem("theme"),this.themingService.toggleTheme(c.matches,s)}),document.addEventListener("visibilitychange",this.documentVisibilityListener)}ngOnDestroy(){document.removeEventListener("visibilitychange",this.documentVisibilityListener)}static{this.\u0275fac=function(n){return new(n||t)(Q(Qt),Q($l),Q(zl),Q(Fe),Q(ae))}}static{this.\u0275cmp=ye({type:t,selectors:[["nifi"]],decls:2,vars:1,consts:[[1,"splash","h-screen","p-20"],[1,"splash-img","h-full","flex","items-center","justify-center"],[1,"tertiary-spinner"]],template:function(n,r){n&1&&U(0,wd,3,0,"div",0)(1,kd,1,0,"router-outlet"),n&2&&W(r.guardLoading?0:1)},dependencies:[Qa,Wl],styles:['.splash[_ngcontent-%COMP%]   .splash-img[_ngcontent-%COMP%]{background:transparent url("./media/nifi-drop-splash-XQG4BR47.svg") no-repeat center center}']})}}return t})();function _u(t){return new ce(3e3,!1)}function Dd(){return new ce(3100,!1)}function Md(){return new ce(3101,!1)}function Id(t){return new ce(3001,!1)}function Pd(t){return new ce(3003,!1)}function Fd(t){return new ce(3004,!1)}function Nd(t,i){return new ce(3005,!1)}function Rd(){return new ce(3006,!1)}function Od(){return new ce(3007,!1)}function Hd(t,i){return new ce(3008,!1)}function Ld(t){return new ce(3002,!1)}function Bd(t,i,e,n,r){return new ce(3010,!1)}function Vd(){return new ce(3011,!1)}function jd(){return new ce(3012,!1)}function $d(){return new ce(3200,!1)}function zd(){return new ce(3202,!1)}function Ud(){return new ce(3013,!1)}function qd(t){return new ce(3014,!1)}function Kd(t){return new ce(3015,!1)}function Gd(t){return new ce(3016,!1)}function Wd(t,i){return new ce(3404,!1)}function Qd(t){return new ce(3502,!1)}function Yd(t){return new ce(3503,!1)}function Xd(){return new ce(3300,!1)}function Zd(t){return new ce(3504,!1)}function Jd(t){return new ce(3301,!1)}function ef(t,i){return new ce(3302,!1)}function tf(t){return new ce(3303,!1)}function nf(t,i){return new ce(3400,!1)}function rf(t){return new ce(3401,!1)}function of(t){return new ce(3402,!1)}function sf(t,i){return new ce(3505,!1)}function si(t){switch(t.length){case 0:return new Mi;case 1:return t[0];default:return new Ho(t)}}function Nu(t,i,e=new Map,n=new Map){let r=[],o=[],a=-1,s=null;if(i.forEach(l=>{let c=l.get("offset"),d=c==a,h=d&&s||new Map;l.forEach((b,T)=>{let f=T,m=b;if(T!=="offset")switch(f=t.normalizePropertyName(f,r),m){case jn:m=e.get(T);break;case _t:m=n.get(T);break;default:m=t.normalizeStyleValue(T,f,m,r);break}h.set(f,m)}),d||o.push(h),s=h,a=c}),r.length)throw Qd(r);return o}function Ts(t,i,e,n){switch(i){case"start":t.onStart(()=>n(e&&ns(e,"start",t)));break;case"done":t.onDone(()=>n(e&&ns(e,"done",t)));break;case"destroy":t.onDestroy(()=>n(e&&ns(e,"destroy",t)));break}}function ns(t,i,e){let n=e.totalTime,r=!!e.disabled,o=As(t.element,t.triggerName,t.fromState,t.toState,i||t.phaseName,n??t.totalTime,r),a=t._data;return a!=null&&(o._data=a),o}function As(t,i,e,n,r="",o=0,a){return{element:t,triggerName:i,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!a}}function Ze(t,i,e){let n=t.get(i);return n||t.set(i,n=e),n}function Cu(t){let i=t.indexOf(":"),e=t.substring(1,i),n=t.slice(i+1);return[e,n]}var af=typeof document>"u"?null:document.documentElement;function ws(t){let i=t.parentNode||t.host||null;return i===af?null:i}function lf(t){return t.substring(1,6)=="ebkit"}var _i=null,bu=!1;function cf(t){_i||(_i=uf()||{},bu=_i.style?"WebkitAppearance"in _i.style:!1);let i=!0;return _i.style&&!lf(t)&&(i=t in _i.style,!i&&bu&&(i="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in _i.style)),i}function uf(){return typeof document<"u"?document.body:null}function Ru(t,i){for(;i;){if(i===t)return!0;i=ws(i)}return!1}function Ou(t,i,e){if(e)return Array.from(t.querySelectorAll(i));let n=t.querySelector(i);return n?[n]:[]}var ks=(()=>{class t{validateStyleProperty(e){return cf(e)}containsElement(e,n){return Ru(e,n)}getParentElement(e){return ws(e)}query(e,n,r){return Ou(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,a,s=[],l){return new Mi(r,o)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Ei=class{static{this.NOOP=new ks}},xi=class{};var mf=1e3,Hu="{{",pf="}}",Lu="ng-enter",cs="ng-leave",Kr="ng-trigger",Xr=".ng-trigger",Eu="ng-animating",us=".ng-animating";function Lt(t){if(typeof t=="number")return t;let i=t.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:ms(parseFloat(i[1]),i[2])}function ms(t,i){switch(i){case"s":return t*mf;default:return t}}function Zr(t,i,e){return t.hasOwnProperty("duration")?t:df(t,i,e)}function df(t,i,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,a="";if(typeof t=="string"){let s=t.match(n);if(s===null)return i.push(_u(t)),{duration:0,delay:0,easing:""};r=ms(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(o=ms(parseFloat(l),s[4]));let c=s[5];c&&(a=c)}else r=t;if(!e){let s=!1,l=i.length;r<0&&(i.push(Dd()),s=!0),o<0&&(i.push(Md()),s=!0),s&&i.splice(l,0,_u(t))}return{duration:r,delay:o,easing:a}}function ff(t){return t.length?t[0]instanceof Map?t:t.map(i=>new Map(Object.entries(i))):[]}function Nt(t,i,e){i.forEach((n,r)=>{let o=Ds(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=n})}function bi(t,i){i.forEach((e,n)=>{let r=Ds(n);t.style[r]=""})}function yn(t){return Array.isArray(t)?t.length==1?t[0]:kl(t):t}function hf(t,i,e){let n=i.params||{},r=Bu(t);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(Id(o))})}var ps=new RegExp(`${Hu}\\s*(.+?)\\s*${pf}`,"g");function Bu(t){let i=[];if(typeof t=="string"){let e;for(;e=ps.exec(t);)i.push(e[1]);ps.lastIndex=0}return i}function Sn(t,i,e){let n=`${t}`,r=n.replace(ps,(o,a)=>{let s=i[a];return s==null&&(e.push(Pd(a)),s=""),s.toString()});return r==n?t:r}var gf=/-+([a-z0-9])/g;function Ds(t){return t.replace(gf,(...i)=>i[1].toUpperCase())}function yf(t,i){return t===0||i===0}function vf(t,i,e){if(e.size&&i.length){let n=i[0],r=[];if(e.forEach((o,a)=>{n.has(a)||r.push(a),n.set(a,o)}),r.length)for(let o=1;o<i.length;o++){let a=i[o];r.forEach(s=>a.set(s,Ms(t,s)))}}return i}function Xe(t,i,e){switch(i.type){case se.Trigger:return t.visitTrigger(i,e);case se.State:return t.visitState(i,e);case se.Transition:return t.visitTransition(i,e);case se.Sequence:return t.visitSequence(i,e);case se.Group:return t.visitGroup(i,e);case se.Animate:return t.visitAnimate(i,e);case se.Keyframes:return t.visitKeyframes(i,e);case se.Style:return t.visitStyle(i,e);case se.Reference:return t.visitReference(i,e);case se.AnimateChild:return t.visitAnimateChild(i,e);case se.AnimateRef:return t.visitAnimateRef(i,e);case se.Query:return t.visitQuery(i,e);case se.Stagger:return t.visitStagger(i,e);default:throw Fd(i.type)}}function Ms(t,i){return window.getComputedStyle(t)[i]}var Sf=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Jr=class extends xi{normalizePropertyName(i,e){return Ds(i)}normalizeStyleValue(i,e,n,r){let o="",a=n.toString().trim();if(Sf.has(e)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&r.push(Nd(i,n))}return a+o}};var eo="*";function _f(t,i){let e=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(n=>Cf(n,e,i)):e.push(t),e}function Cf(t,i,e){if(t[0]==":"){let l=bf(t,e);if(typeof l=="function"){i.push(l);return}t=l}let n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(Kd(t)),i;let r=n[1],o=n[2],a=n[3];i.push(xu(r,a));let s=r==eo&&a==eo;o[0]=="<"&&!s&&i.push(xu(a,r))}function bf(t,i){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return i.push(Gd(t)),"* => *"}}var Gr=new Set(["true","1"]),Wr=new Set(["false","0"]);function xu(t,i){let e=Gr.has(t)||Wr.has(t),n=Gr.has(i)||Wr.has(i);return(r,o)=>{let a=t==eo||t==r,s=i==eo||i==o;return!a&&e&&typeof r=="boolean"&&(a=r?Gr.has(t):Wr.has(t)),!s&&n&&typeof o=="boolean"&&(s=o?Gr.has(i):Wr.has(i)),a&&s}}var Vu=":self",Ef=new RegExp(`s*${Vu}s*,?`,"g");function ju(t,i,e,n){return new ds(t).build(i,e,n)}var Tu="",ds=class{constructor(i){this._driver=i}build(i,e,n){let r=new fs(e);return this._resetContextStyleTimingState(r),Xe(this,yn(i),r)}_resetContextStyleTimingState(i){i.currentQuerySelector=Tu,i.collectedStyles=new Map,i.collectedStyles.set(Tu,new Map),i.currentTime=0}visitTrigger(i,e){let n=e.queryCount=0,r=e.depCount=0,o=[],a=[];return i.name.charAt(0)=="@"&&e.errors.push(Rd()),i.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==se.State){let l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,e))}),l.name=c}else if(s.type==se.Transition){let l=this.visitTransition(s,e);n+=l.queryCount,r+=l.depCount,a.push(l)}else e.errors.push(Od())}),{type:se.Trigger,name:i.name,states:o,transitions:a,queryCount:n,depCount:r,options:null}}visitState(i,e){let n=this.visitStyle(i.styles,e),r=i.options&&i.options.params||null;if(n.containsDynamicStyles){let o=new Set,a=r||{};n.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{Bu(l).forEach(c=>{a.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(Hd(i.name,[...o.values()]))}return{type:se.State,name:i.name,style:n,options:r?{params:r}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;let n=Xe(this,yn(i.animation),e),r=_f(i.expr,e.errors);return{type:se.Transition,matchers:r,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Ci(i.options)}}visitSequence(i,e){return{type:se.Sequence,steps:i.steps.map(n=>Xe(this,n,e)),options:Ci(i.options)}}visitGroup(i,e){let n=e.currentTime,r=0,o=i.steps.map(a=>{e.currentTime=n;let s=Xe(this,a,e);return r=Math.max(r,e.currentTime),s});return e.currentTime=r,{type:se.Group,steps:o,options:Ci(i.options)}}visitAnimate(i,e){let n=wf(i.timings,e.errors);e.currentAnimateTimings=n;let r,o=i.styles?i.styles:fi({});if(o.type==se.Keyframes)r=this.visitKeyframes(o,e);else{let a=i.styles,s=!1;if(!a){s=!0;let c={};n.easing&&(c.easing=n.easing),a=fi(c)}e.currentTime+=n.duration+n.delay;let l=this.visitStyle(a,e);l.isEmptyStep=s,r=l}return e.currentAnimateTimings=null,{type:se.Animate,timings:n,style:r,options:null}}visitStyle(i,e){let n=this._makeStyleAst(i,e);return this._validateStyleAst(n,e),n}_makeStyleAst(i,e){let n=[],r=Array.isArray(i.styles)?i.styles:[i.styles];for(let s of r)typeof s=="string"?s===_t?n.push(s):e.errors.push(Ld(s)):n.push(new Map(Object.entries(s)));let o=!1,a=null;return n.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o)){for(let l of s.values())if(l.toString().indexOf(Hu)>=0){o=!0;break}}}),{type:se.Style,styles:n,easing:a,offset:i.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(i,e){let n=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),i.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),d=c.get(l),h=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(Bd(l,d.startTime,d.endTime,o,r)),h=!1),o=d.startTime),h&&c.set(l,{startTime:o,endTime:r}),e.options&&hf(s,e.options,e.errors)})})}visitKeyframes(i,e){let n={type:se.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Vd()),n;let r=1,o=0,a=[],s=!1,l=!1,c=0,d=i.steps.map(p=>{let v=this._makeStyleAst(p,e),_=v.offset!=null?v.offset:Af(v.styles),x=0;return _!=null&&(o++,x=v.offset=_),l=l||x<0||x>1,s=s||x<c,c=x,a.push(x),v});l&&e.errors.push(jd()),s&&e.errors.push($d());let h=i.steps.length,b=0;o>0&&o<h?e.errors.push(zd()):o==0&&(b=r/(h-1));let T=h-1,f=e.currentTime,m=e.currentAnimateTimings,u=m.duration;return d.forEach((p,v)=>{let _=b>0?v==T?1:b*v:a[v],x=_*u;e.currentTime=f+m.delay+x,m.duration=x,this._validateStyleAst(p,e),p.offset=_,n.styles.push(p)}),n}visitReference(i,e){return{type:se.Reference,animation:Xe(this,yn(i.animation),e),options:Ci(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:se.AnimateChild,options:Ci(i.options)}}visitAnimateRef(i,e){return{type:se.AnimateRef,animation:this.visitReference(i.animation,e),options:Ci(i.options)}}visitQuery(i,e){let n=e.currentQuerySelector,r=i.options||{};e.queryCount++,e.currentQuery=i;let[o,a]=xf(i.selector);e.currentQuerySelector=n.length?n+" "+o:o,Ze(e.collectedStyles,e.currentQuerySelector,new Map);let s=Xe(this,yn(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:se.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:i.selector,options:Ci(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(Ud());let n=i.timings==="full"?{duration:0,delay:0,easing:"full"}:Zr(i.timings,e.errors,!0);return{type:se.Stagger,animation:Xe(this,yn(i.animation),e),timings:n,options:null}}};function xf(t){let i=!!t.split(/\s*,\s*/).find(e=>e==Vu);return i&&(t=t.replace(Ef,"")),t=t.replace(/@\*/g,Xr).replace(/@\w+/g,e=>Xr+"-"+e.slice(1)).replace(/:animating/g,us),[t,i]}function Tf(t){return t?w({},t):null}var fs=class{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Af(t){if(typeof t=="string")return null;let i=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;i=parseFloat(n.get("offset")),n.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let e=t;i=parseFloat(e.get("offset")),e.delete("offset")}return i}function wf(t,i){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=Zr(t,i).duration;return rs(o,0,"")}let e=t;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=rs(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=Zr(e,i);return rs(r.duration,r.delay,r.easing)}function Ci(t){return t?(t=w({},t),t.params&&(t.params=Tf(t.params))):t={},t}function rs(t,i,e){return{duration:t,delay:i,easing:e}}function Is(t,i,e,n,r,o,a=null,s=!1){return{type:1,element:t,keyframes:i,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var _n=class{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,e){let n=this._map.get(i);n||this._map.set(i,n=[]),n.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}},kf=1,Df=":enter",Mf=new RegExp(Df,"g"),If=":leave",Pf=new RegExp(If,"g");function $u(t,i,e,n,r,o=new Map,a=new Map,s,l,c=[]){return new hs().buildKeyframes(t,i,e,n,r,o,a,s,l,c)}var hs=class{buildKeyframes(i,e,n,r,o,a,s,l,c,d=[]){c=c||new _n;let h=new gs(i,e,c,r,o,d,[]);h.options=l;let b=l.delay?Lt(l.delay):0;h.currentTimeline.delayNextStep(b),h.currentTimeline.setStyles([a],null,h.errors,l),Xe(this,n,h);let T=h.timelines.filter(f=>f.containsAnimation());if(T.length&&s.size){let f;for(let m=T.length-1;m>=0;m--){let u=T[m];if(u.element===e){f=u;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([s],null,h.errors,l)}return T.length?T.map(f=>f.buildKeyframes()):[Is(e,[],[],[],0,b,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){let n=e.subInstructions.get(e.element);if(n){let r=e.createSubContext(i.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(n,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=i}visitAnimateRef(i,e){let n=e.createSubContext(i.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,n),this.visitReference(i.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,n){for(let r of i){let o=r?.delay;if(o){let a=typeof o=="number"?o:Lt(Sn(o,r?.params??{},e.errors));n.delayNextStep(a)}}}_visitSubInstructions(i,e,n){let o=e.currentTimeline.currentTime,a=n.duration!=null?Lt(n.duration):null,s=n.delay!=null?Lt(n.delay):null;return a!==0&&i.forEach(l=>{let c=e.appendInstructionToTimeline(l,a,s);o=Math.max(o,c.duration+c.delay)}),o}visitReference(i,e){e.updateOptions(i.options,!0),Xe(this,i.animation,e),e.previousNode=i}visitSequence(i,e){let n=e.subContextCount,r=e,o=i.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==se.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=to);let a=Lt(o.delay);r.delayNextStep(a)}i.steps.length&&(i.steps.forEach(a=>Xe(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){let n=[],r=e.currentTimeline.currentTime,o=i.options&&i.options.delay?Lt(i.options.delay):0;i.steps.forEach(a=>{let s=e.createSubContext(i.options);o&&s.delayNextStep(o),Xe(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){let n=i.strValue,r=e.params?Sn(n,e.params,e.errors):n;return Zr(r,e.errors)}else return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){let n=e.currentAnimateTimings=this._visitTiming(i.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());let o=i.style;o.type==se.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){let n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||i.easing;i.isEmptyStep?n.applyEmptyStep(o):n.setStyles(i.styles,o,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){let n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,i.styles.forEach(l=>{let c=l.offset||0;s.forwardTime(c*o),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+o),e.previousNode=i}visitQuery(i,e){let n=e.currentTimeline.currentTime,r=i.options||{},o=r.delay?Lt(r.delay):0;o&&(e.previousNode.type===se.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=to);let a=n,s=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((c,d)=>{e.currentQueryIndex=d;let h=e.createSubContext(i.options,c);o&&h.delayNextStep(o),c===e.element&&(l=h.currentTimeline),Xe(this,i.animation,h),h.currentTimeline.applyStylesToKeyframe();let b=h.currentTimeline.currentTime;a=Math.max(a,b)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){let n=e.parentContext,r=e.currentTimeline,o=i.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1),l=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=n.currentStaggerTime;break}let d=e.currentTimeline;l&&d.delayNextStep(l);let h=d.currentTime;Xe(this,i.animation,e),e.previousNode=i,n.currentStaggerTime=r.currentTime-h+(r.startTime-n.currentTimeline.startTime)}},to={},gs=class t{constructor(i,e,n,r,o,a,s,l){this._driver=i,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=to,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new io(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;let n=i,r=this.options;n.duration!=null&&(r.duration=Lt(n.duration)),n.delay!=null&&(r.delay=Lt(n.delay));let o=n.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=Sn(o[s],a,this.errors))})}}_copyOptions(){let i={};if(this.options){let e=this.options.params;if(e){let n=i.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return i}createSubContext(i=null,e,n){let r=e||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(i),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(i){return this.previousNode=to,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,n){let r={duration:e??i.duration,delay:this.currentTimeline.currentTime+(n??0)+i.delay,easing:""},o=new ys(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,r,i.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,n,r,o,a){let s=[];if(r&&s.push(this.element),i.length>0){i=i.replace(Mf,"."+this._enterClassName),i=i.replace(Pf,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,i,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),s.push(...c)}return!o&&s.length==0&&a.push(qd(e)),s}},io=class t{constructor(i,e,n,r){this._driver=i,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new t(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=kf,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||_t),this._currentKeyframe.set(e,_t);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,n,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},a=Ff(i,this._globalTimelineStyles);for(let[s,l]of a){let c=Sn(l,o,n);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??_t),this._updateStyle(s,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,n)=>{let r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let i=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((s,l)=>{let c=new Map([...this._backFill,...s]);c.forEach((d,h)=>{d===jn?i.add(h):d===_t&&e.add(h)}),n||c.set("offset",l/this.duration),r.push(c)});let o=[...i.values()],a=[...e.values()];if(n){let s=r[0],l=new Map(s);s.set("offset",0),l.set("offset",1),r=[s,l]}return Is(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},ys=class extends io{constructor(i,e,n,r,o,a,s=!1){super(i,e,a.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],a=n+e,s=e/a,l=new Map(i[0]);l.set("offset",0),o.push(l);let c=new Map(i[0]);c.set("offset",Au(s)),o.push(c);let d=i.length-1;for(let h=1;h<=d;h++){let b=new Map(i[h]),T=b.get("offset"),f=e+T*n;b.set("offset",Au(f/a)),o.push(b)}n=a,e=0,r="",i=o}return Is(this.element,i,this.preStyleProps,this.postStyleProps,n,e,r,!0)}};function Au(t,i=3){let e=Math.pow(10,i-1);return Math.round(t*e)/e}function Ff(t,i){let e=new Map,n;return t.forEach(r=>{if(r==="*"){n??=i.keys();for(let o of n)e.set(o,_t)}else for(let[o,a]of r)e.set(o,a)}),e}function wu(t,i,e,n,r,o,a,s,l,c,d,h,b){return{type:0,element:t,triggerName:i,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:h,errors:b}}var os={},no=class{constructor(i,e,n){this._triggerName=i,this.ast=e,this._stateStyles=n}match(i,e,n,r){return Nf(this.ast.matchers,i,e,n,r)}buildStyles(i,e,n){let r=this._stateStyles.get("*");return i!==void 0&&(r=this._stateStyles.get(i?.toString())||r),r?r.buildStyles(e,n):new Map}build(i,e,n,r,o,a,s,l,c,d){let h=[],b=this.ast.options&&this.ast.options.params||os,T=s&&s.params||os,f=this.buildStyles(n,T,h),m=l&&l.params||os,u=this.buildStyles(r,m,h),p=new Set,v=new Map,_=new Map,x=r==="void",A={params:zu(m,b),delay:this.ast.options?.delay},D=d?[]:$u(i,e,this.ast.animation,o,a,f,u,A,c,h),O=0;return D.forEach($=>{O=Math.max($.duration+$.delay,O)}),h.length?wu(e,this._triggerName,n,r,x,f,u,[],[],v,_,O,h):(D.forEach($=>{let K=$.element,he=Ze(v,K,new Set);$.preStyleProps.forEach(je=>he.add(je));let ke=Ze(_,K,new Set);$.postStyleProps.forEach(je=>ke.add(je)),K!==e&&p.add(K)}),wu(e,this._triggerName,n,r,x,f,u,D,[...p.values()],v,_,O))}};function Nf(t,i,e,n,r){return t.some(o=>o(i,e,n,r))}function zu(t,i){let e=w({},i);return Object.entries(t).forEach(([n,r])=>{r!=null&&(e[n]=r)}),e}var vs=class{constructor(i,e,n){this.styles=i,this.defaultParams=e,this.normalizer=n}buildStyles(i,e){let n=new Map,r=zu(i,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,s)=>{a&&(a=Sn(a,r,e));let l=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,l,a,e),n.set(s,a)})}),n}};function Rf(t,i,e){return new Ss(t,i,e)}var Ss=class{constructor(i,e,n){this.name=i,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new vs(r.style,o,n))}),ku(this.states,"true","1"),ku(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new no(i,r,this.states))}),this.fallbackTransition=Of(i,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,n,r){return this.transitionFactories.find(a=>a.match(i,e,n,r))||null}matchStyles(i,e,n){return this.fallbackTransition.buildStyles(i,e,n)}};function Of(t,i,e){let n=[(a,s)=>!0],r={type:se.Sequence,steps:[],options:null},o={type:se.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new no(t,o,i)}function ku(t,i,e){t.has(i)?t.has(e)||t.set(e,t.get(i)):t.has(e)&&t.set(i,t.get(e))}var Hf=new _n,_s=class{constructor(i,e,n){this.bodyNode=i,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,e){let n=[],r=[],o=ju(this._driver,e,n,r);if(n.length)throw Yd(n);r.length&&void 0,this._animations.set(i,o)}_buildPlayer(i,e,n){let r=i.element,o=Nu(this._normalizer,i.keyframes,e,n);return this._driver.animate(r,o,i.duration,i.delay,i.easing,[],!0)}create(i,e,n={}){let r=[],o=this._animations.get(i),a,s=new Map;if(o?(a=$u(this._driver,e,o,Lu,cs,new Map,new Map,n,Hf,r),a.forEach(d=>{let h=Ze(s,d.element,new Map);d.postStyleProps.forEach(b=>h.set(b,null))})):(r.push(Xd()),a=[]),r.length)throw Zd(r);s.forEach((d,h)=>{d.forEach((b,T)=>{d.set(T,this._driver.computeStyle(h,T,_t))})});let l=a.map(d=>{let h=s.get(d.element);return this._buildPlayer(d,new Map,h)}),c=si(l);return this._playersById.set(i,c),c.onDestroy(()=>this.destroy(i)),this.players.push(c),c}destroy(i){let e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(i){let e=this._playersById.get(i);if(!e)throw Jd(i);return e}listen(i,e,n,r){let o=As(e,"","","");return Ts(this._getPlayer(i),n,o,r),()=>{}}command(i,e,n,r){if(n=="register"){this.register(i,r[0]);return}if(n=="create"){let a=r[0]||{};this.create(i,e,a);return}let o=this._getPlayer(i);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(i);break}}},Du="ng-animate-queued",Lf=".ng-animate-queued",ss="ng-animate-disabled",Bf=".ng-animate-disabled",Vf="ng-star-inserted",jf=".ng-star-inserted",$f=[],Uu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zf={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pt="__ng_removed",Cn=class{get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;let n=i&&i.hasOwnProperty("value"),r=n?i.value:i;if(this.value=qf(r),n){let o=i,{value:a}=o,s=ta(o,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){let e=i.params;if(e){let n=this.options.params;Object.keys(e).forEach(r=>{n[r]==null&&(n[r]=e[r])})}}},vn="void",as=new Cn(vn),Cs=class{constructor(i,e,n){this.id=i,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,ct(e,this._hostClassName)}listen(i,e,n,r){if(!this._triggers.has(e))throw ef(n,e);if(n==null||n.length==0)throw tf(e);if(!Kf(n))throw nf(n,e);let o=Ze(this._elementListeners,i,[]),a={name:e,phase:n,callback:r};o.push(a);let s=Ze(this._engine.statesByElement,i,new Map);return s.has(e)||(ct(i,Kr),ct(i,Kr+"-"+e),s.set(e,as)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(i,e){return this._triggers.has(i)?!1:(this._triggers.set(i,e),!0)}_getTrigger(i){let e=this._triggers.get(i);if(!e)throw rf(i);return e}trigger(i,e,n,r=!0){let o=this._getTrigger(e),a=new bn(this.id,e,i),s=this._engine.statesByElement.get(i);s||(ct(i,Kr),ct(i,Kr+"-"+e),this._engine.statesByElement.set(i,s=new Map));let l=s.get(e),c=new Cn(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(e,c),l||(l=as),!(c.value===vn)&&l.value===c.value){if(!Qf(l.params,c.params)){let m=[],u=o.matchStyles(l.value,l.params,m),p=o.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{bi(i,u),Nt(i,p)})}return}let b=Ze(this._engine.playersByElement,i,[]);b.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let T=o.matchTransition(l.value,c.value,i,c.params),f=!1;if(!T){if(!r)return;T=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:T,fromState:l,toState:c,player:a,isFallbackTransition:f}),f||(ct(i,Du),a.onStart(()=>{Ui(i,Du)})),a.onDone(()=>{let m=this.players.indexOf(a);m>=0&&this.players.splice(m,1);let u=this._engine.playersByElement.get(i);if(u){let p=u.indexOf(a);p>=0&&u.splice(p,1)}}),this.players.push(a),b.push(a),a}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);let e=this._engine.playersByElement.get(i);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){let n=this._engine.driver.query(i,Xr,!0);n.forEach(r=>{if(r[pt])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(i,e,n,r){let o=this._engine.statesByElement.get(i),a=new Map;if(o){let s=[];if(o.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){let d=this.trigger(i,c,vn,r);d&&s.push(d)}}),s.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,a),n&&si(s).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){let e=this._elementListeners.get(i),n=this._engine.statesByElement.get(i);if(e&&n){let r=new Set;e.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let l=this._triggers.get(a).fallbackTransition,c=n.get(a)||as,d=new Cn(vn),h=new bn(this.id,a,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:a,transition:l,fromState:c,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(i,e){let n=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(i):[];if(o&&o.length)r=!0;else{let a=i;for(;a=a.parentNode;)if(n.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(i),r)n.markElementAsRemoved(this.id,i,!1,e);else{let o=i[pt];(!o||o===Uu)&&(n.afterFlush(()=>this.clearElementCache(i)),n.destroyInnerAnimations(i),n._onRemovalComplete(i,e))}}insertNode(i,e){ct(i,this._hostClassName)}drainQueuedTransitions(i){let e=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==n.triggerName){let l=As(o,n.triggerName,n.fromState.value,n.toState.value);l._data=i,Ts(n.player,s.phase,l,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{let o=n.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}},bs=class{_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,n){this.bodyNode=i,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){let i=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&i.push(n)})}),i}createNamespace(i,e){let n=new Cs(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[i]=n}_balanceNamespaceList(i,e){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){let l=r.get(s);if(l){let c=n.indexOf(l);n.splice(c+1,0,i),a=!0;break}s=this.driver.getParentElement(s)}a||n.unshift(i)}else n.push(i);return r.set(e,i),i}register(i,e){let n=this._namespaceLookup[i];return n||(n=this.createNamespace(i,e)),n}registerTrigger(i,e,n){let r=this._namespaceLookup[i];r&&r.register(e,n)&&this.totalAnimations++}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(i);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){let e=new Set,n=this.statesByElement.get(i);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(i,e,n,r){if(Qr(e)){let o=this._fetchNamespace(i);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(i,e,n,r){if(!Qr(e))return;let o=e[pt];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(i){let a=this._fetchNamespace(i);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),ct(i,ss)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),Ui(i,ss))}removeNode(i,e,n){if(Qr(e)){let r=i?this._fetchNamespace(i):null;r?r.removeNode(e,n):this.markElementAsRemoved(i,e,!1,n);let o=this.namespacesByHostElement.get(e);o&&o.id!==i&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(i,e,n,r,o){this.collectedLeaveElements.push(e),e[pt]={namespaceId:i,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(i,e,n,r,o){return Qr(e)?this._fetchNamespace(i).listen(e,n,r,o):()=>{}}_buildInstruction(i,e,n,r,o){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,n,r,i.fromState.options,i.toState.options,e,o)}destroyInnerAnimations(i){let e=this.driver.query(i,Xr,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(i,us,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(i){let e=this.playersByElement.get(i);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(i){let e=this.playersByQueriedElement.get(i);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return si(this.players).onDone(()=>i());i()})}processLeaveNode(i){let e=i[pt];if(e&&e.setForRemoval){if(i[pt]=Uu,e.namespaceId){this.destroyInnerAnimations(i);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}i.classList?.contains(ss)&&this.markElementAsDisabled(i,!1),this.driver.query(i,Bf,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];ct(r,Vf)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,i)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?si(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(i){throw of(i)}_flushAnimations(i,e){let n=new _n,r=[],o=new Map,a=[],s=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(B=>{d.add(B);let V=this.driver.query(B,Lf,!0);for(let z=0;z<V.length;z++)d.add(V[z])});let h=this.bodyNode,b=Array.from(this.statesByElement.keys()),T=Pu(b,this.collectedEnterElements),f=new Map,m=0;T.forEach((B,V)=>{let z=Lu+m++;f.set(V,z),B.forEach(J=>ct(J,z))});let u=[],p=new Set,v=new Set;for(let B=0;B<this.collectedLeaveElements.length;B++){let V=this.collectedLeaveElements[B],z=V[pt];z&&z.setForRemoval&&(u.push(V),p.add(V),z.hasAnimation?this.driver.query(V,jf,!0).forEach(J=>p.add(J)):v.add(V))}let _=new Map,x=Pu(b,Array.from(p));x.forEach((B,V)=>{let z=cs+m++;_.set(V,z),B.forEach(J=>ct(J,z))}),i.push(()=>{T.forEach((B,V)=>{let z=f.get(V);B.forEach(J=>Ui(J,z))}),x.forEach((B,V)=>{let z=_.get(V);B.forEach(J=>Ui(J,z))}),u.forEach(B=>{this.processLeaveNode(B)})});let A=[],D=[];for(let B=this._namespaceList.length-1;B>=0;B--)this._namespaceList[B].drainQueuedTransitions(e).forEach(z=>{let J=z.player,ge=z.element;if(A.push(J),this.collectedEnterElements.length){let xe=ge[pt];if(xe&&xe.setForMove){if(xe.previousTriggersValues&&xe.previousTriggersValues.has(z.triggerName)){let ut=xe.previousTriggersValues.get(z.triggerName),Te=this.statesByElement.get(z.element);if(Te&&Te.has(z.triggerName)){let ft=Te.get(z.triggerName);ft.value=ut,Te.set(z.triggerName,ft)}}J.destroy();return}}let Ie=!h||!this.driver.containsElement(h,ge),k=_.get(ge),oe=f.get(ge),X=this._buildInstruction(z,n,oe,k,Ie);if(X.errors&&X.errors.length){D.push(X);return}if(Ie){J.onStart(()=>bi(ge,X.fromStyles)),J.onDestroy(()=>Nt(ge,X.toStyles)),r.push(J);return}if(z.isFallbackTransition){J.onStart(()=>bi(ge,X.fromStyles)),J.onDestroy(()=>Nt(ge,X.toStyles)),r.push(J);return}let ue=[];X.timelines.forEach(xe=>{xe.stretchStartingKeyframe=!0,this.disabledNodes.has(xe.element)||ue.push(xe)}),X.timelines=ue,n.append(ge,X.timelines);let Pe={instruction:X,player:J,element:ge};a.push(Pe),X.queriedElements.forEach(xe=>Ze(s,xe,[]).push(J)),X.preStyleProps.forEach((xe,ut)=>{if(xe.size){let Te=l.get(ut);Te||l.set(ut,Te=new Set),xe.forEach((ft,ht)=>Te.add(ht))}}),X.postStyleProps.forEach((xe,ut)=>{let Te=c.get(ut);Te||c.set(ut,Te=new Set),xe.forEach((ft,ht)=>Te.add(ht))})});if(D.length){let B=[];D.forEach(V=>{B.push(sf(V.triggerName,V.errors))}),A.forEach(V=>V.destroy()),this.reportError(B)}let O=new Map,$=new Map;a.forEach(B=>{let V=B.element;n.has(V)&&($.set(V,V),this._beforeAnimationBuild(B.player.namespaceId,B.instruction,O))}),r.forEach(B=>{let V=B.element;this._getPreviousPlayers(V,!1,B.namespaceId,B.triggerName,null).forEach(J=>{Ze(O,V,[]).push(J),J.destroy()})});let K=u.filter(B=>Fu(B,l,c)),he=new Map;Iu(he,this.driver,v,c,_t).forEach(B=>{Fu(B,l,c)&&K.push(B)});let je=new Map;T.forEach((B,V)=>{Iu(je,this.driver,new Set(B),l,jn)}),K.forEach(B=>{let V=he.get(B),z=je.get(B);he.set(B,new Map([...V?.entries()??[],...z?.entries()??[]]))});let et=[],ai=[],tt={};a.forEach(B=>{let{element:V,player:z,instruction:J}=B;if(n.has(V)){if(d.has(V)){z.onDestroy(()=>Nt(V,J.toStyles)),z.disabled=!0,z.overrideTotalTime(J.totalTime),r.push(z);return}let ge=tt;if($.size>1){let k=V,oe=[];for(;k=k.parentNode;){let X=$.get(k);if(X){ge=X;break}oe.push(k)}oe.forEach(X=>$.set(X,ge))}let Ie=this._buildAnimation(z.namespaceId,J,O,o,je,he);if(z.setRealPlayer(Ie),ge===tt)et.push(z);else{let k=this.playersByElement.get(ge);k&&k.length&&(z.parentPlayer=si(k)),r.push(z)}}else bi(V,J.fromStyles),z.onDestroy(()=>Nt(V,J.toStyles)),ai.push(z),d.has(V)&&r.push(z)}),ai.forEach(B=>{let V=o.get(B.element);if(V&&V.length){let z=si(V);B.setRealPlayer(z)}}),r.forEach(B=>{B.parentPlayer?B.syncPlayerEvents(B.parentPlayer):B.destroy()});for(let B=0;B<u.length;B++){let V=u[B],z=V[pt];if(Ui(V,cs),z&&z.hasAnimation)continue;let J=[];if(s.size){let Ie=s.get(V);Ie&&Ie.length&&J.push(...Ie);let k=this.driver.query(V,us,!0);for(let oe=0;oe<k.length;oe++){let X=s.get(k[oe]);X&&X.length&&J.push(...X)}}let ge=J.filter(Ie=>!Ie.destroyed);ge.length?Gf(this,V,ge):this.processLeaveNode(V)}return u.length=0,et.forEach(B=>{this.players.push(B),B.onDone(()=>{B.destroy();let V=this.players.indexOf(B);this.players.splice(V,1)}),B.play()}),et}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,n,r,o){let a=[];if(e){let s=this.playersByQueriedElement.get(i);s&&(a=s)}else{let s=this.playersByElement.get(i);if(s){let l=!o||o==vn;s.forEach(c=>{c.queued||!l&&c.triggerName!=r||a.push(c)})}}return(n||r)&&(a=a.filter(s=>!(n&&n!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(i,e,n){let r=e.triggerName,o=e.element,a=e.isRemovalTransition?void 0:i,s=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,d=c!==o,h=Ze(n,c,[]);this._getPreviousPlayers(c,d,a,s,e.toState).forEach(T=>{let f=T.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),T.destroy(),h.push(T)})}bi(o,e.fromStyles)}_buildAnimation(i,e,n,r,o,a){let s=e.triggerName,l=e.element,c=[],d=new Set,h=new Set,b=e.timelines.map(f=>{let m=f.element;d.add(m);let u=m[pt];if(u&&u.removedBeforeQueried)return new Mi(f.duration,f.delay);let p=m!==l,v=Wf((n.get(m)||$f).map(O=>O.getRealPlayer())).filter(O=>{let $=O;return $.element?$.element===m:!1}),_=o.get(m),x=a.get(m),A=Nu(this._normalizer,f.keyframes,_,x),D=this._buildPlayer(f,A,v);if(f.subTimeline&&r&&h.add(m),p){let O=new bn(i,s,m);O.setRealPlayer(D),c.push(O)}return D});c.forEach(f=>{Ze(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>Uf(this.playersByQueriedElement,f.element,f))}),d.forEach(f=>ct(f,Eu));let T=si(b);return T.onDestroy(()=>{d.forEach(f=>Ui(f,Eu)),Nt(l,e.toStyles)}),h.forEach(f=>{Ze(r,f,[]).push(T)}),T}_buildPlayer(i,e,n){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,n):new Mi(i.duration,i.delay)}},bn=class{constructor(i,e,n){this.namespaceId=i,this.triggerName=e,this.element=n,this._player=new Mi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>Ts(i,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){let e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){Ze(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){let e=this._player;e.triggerCallback&&e.triggerCallback(i)}};function Uf(t,i,e){let n=t.get(i);if(n){if(n.length){let r=n.indexOf(e);n.splice(r,1)}n.length==0&&t.delete(i)}return n}function qf(t){return t??null}function Qr(t){return t&&t.nodeType===1}function Kf(t){return t=="start"||t=="done"}function Mu(t,i){let e=t.style.display;return t.style.display=i??"none",e}function Iu(t,i,e,n,r){let o=[];e.forEach(l=>o.push(Mu(l)));let a=[];n.forEach((l,c)=>{let d=new Map;l.forEach(h=>{let b=i.computeStyle(c,h,r);d.set(h,b),(!b||b.length==0)&&(c[pt]=zf,a.push(c))}),t.set(c,d)});let s=0;return e.forEach(l=>Mu(l,o[s++])),a}function Pu(t,i){let e=new Map;if(t.forEach(s=>e.set(s,[])),i.length==0)return e;let n=1,r=new Set(i),o=new Map;function a(s){if(!s)return n;let l=o.get(s);if(l)return l;let c=s.parentNode;return e.has(c)?l=c:r.has(c)?l=n:l=a(c),o.set(s,l),l}return i.forEach(s=>{let l=a(s);l!==n&&e.get(l).push(s)}),e}function ct(t,i){t.classList?.add(i)}function Ui(t,i){t.classList?.remove(i)}function Gf(t,i,e){si(e).onDone(()=>t.processLeaveNode(i))}function Wf(t){let i=[];return qu(t,i),i}function qu(t,i){for(let e=0;e<t.length;e++){let n=t[e];n instanceof Ho?qu(n.players,i):i.push(n)}}function Qf(t,i){let e=Object.keys(t),n=Object.keys(i);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!i.hasOwnProperty(o)||t[o]!==i[o])return!1}return!0}function Fu(t,i,e){let n=e.get(t);if(!n)return!1;let r=i.get(t);return r?n.forEach(o=>r.add(o)):i.set(t,n),e.delete(t),!0}var qi=class{constructor(i,e,n){this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new bs(i.body,e,n),this._timelineEngine=new _s(i.body,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(i,e,n,r,o){let a=i+"-"+r,s=this._triggerCache[a];if(!s){let l=[],c=[],d=ju(this._driver,o,l,c);if(l.length)throw Wd(r,l);c.length&&void 0,s=Rf(r,d,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,r,s)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,n,r){this._transitionEngine.insertNode(i,e,n,r)}onRemove(i,e,n){this._transitionEngine.removeNode(i,e,n)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,n,r){if(n.charAt(0)=="@"){let[o,a]=Cu(n),s=r;this._timelineEngine.command(o,e,a,s)}else this._transitionEngine.trigger(i,e,n,r)}listen(i,e,n,r,o){if(n.charAt(0)=="@"){let[a,s]=Cu(n);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(i,e,n,r,o)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}};function Yf(t,i){let e=null,n=null;return Array.isArray(i)&&i.length?(e=ls(i[0]),i.length>1&&(n=ls(i[i.length-1]))):i instanceof Map&&(e=ls(i)),e||n?new Es(t,e,n):null}var Es=class t{static{this.initialStylesByElement=new WeakMap}constructor(i,e,n){this._element=i,this._startStyles=e,this._endStyles=n,this._state=0;let r=t.initialStylesByElement.get(i);r||t.initialStylesByElement.set(i,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Nt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nt(this._element,this._initialStyles),this._endStyles&&(Nt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(bi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bi(this._element,this._endStyles),this._endStyles=null),Nt(this._element,this._initialStyles),this._state=3)}};function ls(t){let i=null;return t.forEach((e,n)=>{Xf(n)&&(i=i||new Map,i.set(n,e))}),i}function Xf(t){return t==="display"||t==="position"}var ro=class{constructor(i,e,n,r){this.element=i,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){let e=[];return i.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(i,e,n){return i.animate(this._convertKeyframesToObject(e),n)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&i.set(r,this._finished?n:Ms(this.element,r))}),this.currentSnapshot=i}triggerCallback(i){let e=i==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},oo=class{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}containsElement(i,e){return Ru(i,e)}getParentElement(i){return ws(i)}query(i,e,n){return Ou(i,e,n)}computeStyle(i,e,n){return Ms(i,e)}animate(i,e,n,r,o,a=[]){let s=r==0?"both":"forwards",l={duration:n,delay:r,fill:s};o&&(l.easing=o);let c=new Map,d=a.filter(T=>T instanceof ro);yf(n,r)&&d.forEach(T=>{T.currentSnapshot.forEach((f,m)=>c.set(m,f))});let h=ff(e).map(T=>new Map(T));h=vf(i,h,c);let b=Yf(i,h);return new ro(i,h,l,b)}};var Yr="@",Ku="@.disabled",so=class{constructor(i,e,n,r){this.namespaceId=i,this.delegate=e,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,n,r=!0){this.delegate.insertBefore(i,e,n),this.engine.onInsert(this.namespaceId,e,i,r)}removeChild(i,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,n,r){this.delegate.setAttribute(i,e,n,r)}removeAttribute(i,e,n){this.delegate.removeAttribute(i,e,n)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,n,r){this.delegate.setStyle(i,e,n,r)}removeStyle(i,e,n){this.delegate.removeStyle(i,e,n)}setProperty(i,e,n){e.charAt(0)==Yr&&e==Ku?this.disableAnimations(i,!!n):this.delegate.setProperty(i,e,n)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,n){return this.delegate.listen(i,e,n)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}},xs=class extends so{constructor(i,e,n,r,o){super(e,n,r,o),this.factory=i,this.namespaceId=e}setProperty(i,e,n){e.charAt(0)==Yr?e.charAt(1)=="."&&e==Ku?(n=n===void 0?!0:!!n,this.disableAnimations(i,n)):this.engine.process(this.namespaceId,i,e.slice(1),n):this.delegate.setProperty(i,e,n)}listen(i,e,n){if(e.charAt(0)==Yr){let r=Zf(i),o=e.slice(1),a="";return o.charAt(0)!=Yr&&([o,a]=Jf(o)),this.engine.listen(this.namespaceId,r,o,a,s=>{let l=s._data||-1;this.factory.scheduleListenerCallback(l,n,s)})}return this.delegate.listen(i,e,n)}};function Zf(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function Jf(t){let i=t.indexOf("."),e=t.substring(0,i),n=t.slice(i+1);return[e,n]}var ao=class{constructor(i,e,n){this.delegate=i,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(i,e){let n="",r=this.delegate.createRenderer(i,e);if(!i||!e?.data?.animation){let c=this._rendererCache,d=c.get(r);if(!d){let h=()=>c.delete(r);d=new so(n,r,this.engine,h),c.set(r,d)}return d}let o=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,i);let s=c=>{Array.isArray(c)?c.forEach(s):this.engine.registerTrigger(o,a,i,c.name,c)};return e.data.animation.forEach(s),new xs(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,e,n){if(i>=0&&i<this._microtaskId){this._zone.run(()=>e(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var th=(()=>{class t extends qi{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(n){return new(n||t)(E(In),E(Ei),E(xi))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function ih(){return new Jr}function nh(t,i,e){return new ao(t,i,e)}var Gu=[{provide:xi,useFactory:ih},{provide:qi,useClass:th},{provide:Ca,useFactory:nh,deps:[$a,qi,wi]}],Ps=[{provide:Ei,useFactory:()=>new oo},{provide:Eo,useValue:"BrowserAnimations"},...Gu],Wu=[{provide:Ei,useClass:ks},{provide:Eo,useValue:"NoopAnimations"},...Gu],Qu=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Wu:Ps}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=vt({type:t})}static{this.\u0275inj=yt({providers:Ps,imports:[Fn]})}}return t})();function Yu(){return xa("NgEagerAnimations"),[...Ps]}function Xu(){return[...Wu]}var xn="PERFORM_ACTION",rh="REFRESH",nm="RESET",rm="ROLLBACK",om="COMMIT",sm="SWEEP",am="TOGGLE_ACTION",oh="SET_ACTIONS_ACTIVE",lm="JUMP_TO_STATE",cm="JUMP_TO_ACTION",qs="IMPORT_STATE",um="LOCK_CHANGES",mm="PAUSE_RECORDING",Ki=class{constructor(i,e){if(this.action=i,this.timestamp=e,this.type=xn,typeof i.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Fs=class{constructor(){this.type=rh}},Ns=class{constructor(i){this.timestamp=i,this.type=nm}},Rs=class{constructor(i){this.timestamp=i,this.type=rm}},Os=class{constructor(i){this.timestamp=i,this.type=om}},Hs=class{constructor(){this.type=sm}},Ls=class{constructor(i){this.id=i,this.type=am}};var Bs=class{constructor(i){this.index=i,this.type=lm}},Vs=class{constructor(i){this.actionId=i,this.type=cm}},js=class{constructor(i){this.nextLiftedState=i,this.type=qs}},$s=class{constructor(i){this.status=i,this.type=um}},zs=class{constructor(i){this.status=i,this.type=mm}};var mo=new Ut("@ngrx/store-devtools Options"),Zu=new Ut("@ngrx/store-devtools Initial Config");function pm(){return null}var sh="NgRx Store DevTools";function ah(t){let i={maxAge:!1,monitor:pm,actionSanitizer:void 0,stateSanitizer:void 0,name:sh,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},e=typeof t=="function"?t():t,n=e.logOnly?{pause:!0,export:!0,test:!0}:!1,r=e.features||n||i.features;r.import===!0&&(r.import="custom");let o=Object.assign({},i,{features:r},e);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function Ju(t,i){return t.filter(e=>i.indexOf(e)<0)}function dm(t){let{computedStates:i,currentStateIndex:e}=t;if(e>=i.length){let{state:r}=i[i.length-1];return r}let{state:n}=i[e];return n}function En(t){return new Ki(t,+Date.now())}function lh(t,i){return Object.keys(i).reduce((e,n)=>{let r=Number(n);return e[r]=fm(t,i[r],r),e},{})}function fm(t,i,e){return F(w({},i),{action:t(i.action,e)})}function ch(t,i){return i.map((e,n)=>({state:hm(t,e.state,n),error:e.error}))}function hm(t,i,e){return t(i,e)}function gm(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function uh(t,i,e,n){let r=[],o={},a=[];return t.stagedActionIds.forEach((s,l)=>{let c=t.actionsById[s];c&&(l&&Ks(t.computedStates[l],c,i,e,n)||(o[s]=c,r.push(s),a.push(t.computedStates[l])))}),F(w({},t),{stagedActionIds:r,actionsById:o,computedStates:a})}function Ks(t,i,e,n,r){let o=e&&!e(t,i.action),a=n&&!i.action.type.match(n.map(l=>em(l)).join("|")),s=r&&i.action.type.match(r.map(l=>em(l)).join("|"));return o||a||s}function em(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ym(t){return{ngZone:t?Ce(wi):null,connectInZone:t}}var po=(()=>{class t extends Nn{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=ga(t)))(r||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),lo={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},Us=new Ut("@ngrx/store-devtools Redux Devtools Extension"),vm=(()=>{class t{constructor(e,n,r){this.config=n,this.dispatcher=r,this.zoneConfig=ym(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()}notify(e,n){if(this.devtoolsExtension)if(e.type===xn){if(n.isLocked||n.isPaused)return;let r=dm(n);if(gm(this.config)&&Ks(r,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?hm(this.config.stateSanitizer,r,n.currentStateIndex):r,a=this.config.actionSanitizer?fm(this.config.actionSanitizer,e,n.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,o))}else{let r=F(w({},n),{stagedActionIds:n.stagedActionIds,actionsById:this.config.actionSanitizer?lh(this.config.actionSanitizer,n.actionsById):n.actionsById,computedStates:this.config.stateSanitizer?ch(this.config.stateSanitizer,n.computedStates):n.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new Co(e=>{let n=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=n,n.init(),n.subscribe(r=>e.next(r)),n.unsubscribe}):ra}createActionStreams(){let e=this.createChangesObservable().pipe(ma()),n=e.pipe(pe(c=>c.type===lo.START)),r=e.pipe(pe(c=>c.type===lo.STOP)),o=e.pipe(pe(c=>c.type===lo.DISPATCH),M(c=>this.unwrapAction(c.payload)),aa(c=>c.type===qs?this.dispatcher.pipe(pe(d=>d.type===wo),sa(1e3),ci(1e3),M(()=>c),G(()=>I(c)),Oe(1)):I(c))),s=e.pipe(pe(c=>c.type===lo.ACTION),M(c=>this.unwrapAction(c.payload))).pipe(Me(r)),l=o.pipe(Me(r));this.start$=n.pipe(Me(r)),this.actions$=this.start$.pipe(N(()=>s)),this.liftedActions$=this.start$.pipe(N(()=>l))}unwrapAction(e){return typeof e=="string"?(0,eval)(`(${e})`):e}getExtensionConfig(e){let n={name:e.name,features:e.features,serialize:e.serialize,autoPause:e.autoPause??!1,trace:e.trace??!1,traceLimit:e.traceLimit??75};return e.maxAge!==!1&&(n.maxAge=e.maxAge),n}sendToReduxDevtools(e){try{e()}catch(n){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",n)}}static{this.\u0275fac=function(n){return new(n||t)(E(Us),E(mo),E(po))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),uo={type:Ao},mh="@ngrx/store-devtools/recompute",ph={type:mh};function Sm(t,i,e,n,r){if(n)return{state:e,error:"Interrupted by an error up the chain"};let o=e,a;try{o=t(e,i)}catch(s){a=s.toString(),r.handleError(s)}return{state:o,error:a}}function co(t,i,e,n,r,o,a,s,l){if(i>=t.length&&t.length===o.length)return t;let c=t.slice(0,i),d=o.length-(l?1:0);for(let h=i;h<d;h++){let b=o[h],T=r[b].action,f=c[h-1],m=f?f.state:n,u=f?f.error:void 0,v=a.indexOf(b)>-1?f:Sm(e,T,m,u,s);c.push(v)}return l&&c.push(t[t.length-1]),c}function dh(t,i){return{monitorState:i(void 0,{}),nextActionId:1,actionsById:{0:En(uo)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function fh(t,i,e,n,r={}){return o=>(a,s)=>{let{monitorState:l,actionsById:c,nextActionId:d,stagedActionIds:h,skippedActionIds:b,committedState:T,currentStateIndex:f,computedStates:m,isLocked:u,isPaused:p}=a||i;a||(c=Object.create(c));function v(A){let D=A,O=h.slice(1,D+1);for(let $=0;$<O.length;$++)if(m[$+1].error){D=$,O=h.slice(1,D+1);break}else delete c[O[$]];b=b.filter($=>O.indexOf($)===-1),h=[0,...h.slice(D+1)],T=m[D].state,m=m.slice(D),f=f>D?f-D:0}function _(){c={0:En(uo)},d=1,h=[0],b=[],T=m[f].state,f=0,m=[]}let x=0;switch(s.type){case um:{u=s.status,x=1/0;break}case mm:{p=s.status,p?(h=[...h,d],c[d]=new Ki({type:"@ngrx/devtools/pause"},+Date.now()),d++,x=h.length-1,m=m.concat(m[m.length-1]),f===h.length-2&&f++,x=1/0):_();break}case nm:{c={0:En(uo)},d=1,h=[0],b=[],T=t,f=0,m=[];break}case om:{_();break}case rm:{c={0:En(uo)},d=1,h=[0],b=[],f=0,m=[];break}case am:{let{id:A}=s;b.indexOf(A)===-1?b=[A,...b]:b=b.filter(O=>O!==A),x=h.indexOf(A);break}case oh:{let{start:A,end:D,active:O}=s,$=[];for(let K=A;K<D;K++)$.push(K);O?b=Ju(b,$):b=[...b,...$],x=h.indexOf(A);break}case lm:{f=s.index,x=1/0;break}case cm:{let A=h.indexOf(s.actionId);A!==-1&&(f=A),x=1/0;break}case sm:{h=Ju(h,b),b=[],f=Math.min(f,h.length-1);break}case xn:{if(u)return a||i;if(p||a&&Ks(a.computedStates[f],s,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let D=m[m.length-1];m=[...m.slice(0,-1),Sm(o,s.action,D.state,D.error,e)],x=1/0;break}r.maxAge&&h.length===r.maxAge&&v(1),f===h.length-1&&f++;let A=d++;c[A]=s,h=[...h,A],x=h.length-1;break}case qs:{({monitorState:l,actionsById:c,nextActionId:d,stagedActionIds:h,skippedActionIds:b,committedState:T,currentStateIndex:f,computedStates:m,isLocked:u,isPaused:p}=s.nextLiftedState);break}case Ao:{x=0,r.maxAge&&h.length>r.maxAge&&(m=co(m,x,o,T,c,h,b,e,p),v(h.length-r.maxAge),x=1/0);break}case wo:{if(m.filter(D=>D.error).length>0)x=0,r.maxAge&&h.length>r.maxAge&&(m=co(m,x,o,T,c,h,b,e,p),v(h.length-r.maxAge),x=1/0);else{if(!p&&!u){f===h.length-1&&f++;let D=d++;c[D]=new Ki(s,+Date.now()),h=[...h,D],x=h.length-1,m=co(m,x,o,T,c,h,b,e,p)}m=m.map(D=>F(w({},D),{state:o(D.state,ph)})),f=h.length-1,r.maxAge&&h.length>r.maxAge&&v(h.length-r.maxAge),x=1/0}break}default:{x=1/0;break}}return m=co(m,x,o,T,c,h,b,e,p),l=n(l,s),{monitorState:l,actionsById:c,nextActionId:d,stagedActionIds:h,skippedActionIds:b,committedState:T,currentStateIndex:f,computedStates:m,isLocked:u,isPaused:p}}}var tm=(()=>{class t{constructor(e,n,r,o,a,s,l,c){let d=dh(l,c.monitor),h=fh(l,d,s,c.monitor,c),b=bo(bo(n.asObservable().pipe(pa(1)),o.actions$).pipe(M(En)),e,o.liftedActions$).pipe(oa(na)),T=r.pipe(M(h)),f=ym(c.connectInZone),m=new ia(1);this.liftedStateSubscription=b.pipe(da(T),im(f),ua(({state:v},[_,x])=>{let A=x(v,_);return _.type!==xn&&gm(c)&&(A=uh(A,c.predicate,c.actionsSafelist,c.actionsBlocklist)),o.notify(_,A),{state:A,action:_}},{state:d,action:null})).subscribe(({state:v,action:_})=>{if(m.next(v),_.type===xn){let x=_.action;a.next(x)}}),this.extensionStartSubscription=o.start$.pipe(im(f)).subscribe(()=>{this.refresh()});let u=m.asObservable(),p=u.pipe(M(dm));Object.defineProperty(p,"state",{value:Ya(p,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=e,this.liftedState=u,this.state=p}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(e){this.dispatcher.next(e)}next(e){this.dispatcher.next(e)}error(e){}complete(){}performAction(e){this.dispatch(new Ki(e,+Date.now()))}refresh(){this.dispatch(new Fs)}reset(){this.dispatch(new Ns(+Date.now()))}rollback(){this.dispatch(new Rs(+Date.now()))}commit(){this.dispatch(new Os(+Date.now()))}sweep(){this.dispatch(new Hs)}toggleAction(e){this.dispatch(new Ls(e))}jumpToAction(e){this.dispatch(new Vs(e))}jumpToState(e){this.dispatch(new Bs(e))}importState(e){this.dispatch(new js(e))}lockChanges(e){this.dispatch(new $s(e))}pauseRecording(e){this.dispatch(new zs(e))}static{this.\u0275fac=function(n){return new(n||t)(E(po),E(Nn),E(Za),E(vm),E(el),E(ya),E(Xa),E(mo))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function im({ngZone:t,connectInZone:i}){return e=>i?new Co(n=>e.subscribe({next:r=>t.run(()=>n.next(r)),error:r=>t.run(()=>n.error(r)),complete:()=>t.run(()=>n.complete())})):e}var hh=new Ut("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function gh(t,i){return!!t||i.monitor!==pm}function yh(){let t="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[t]<"u"?window[t]:null}function vh(t={}){return ha([vm,po,tm,{provide:Zu,useValue:t},{provide:hh,deps:[Us,mo],useFactory:gh},{provide:Us,useFactory:yh},{provide:mo,deps:[Zu],useFactory:ah},{provide:tl,deps:[tm],useFactory:Sh},{provide:Ja,useExisting:po}])}function Sh(t){return t.state}var _m=(()=>{class t{static instrument(e={}){return{ngModule:t,providers:[vh(e)]}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=vt({type:t})}static{this.\u0275inj=yt({})}}return t})();var Cm={production:!0};var _h={processorTypes:[],controllerServiceTypes:[],prioritizerTypes:[],reportingTaskTypes:[],registryClientTypes:[],flowAnalysisRuleTypes:[],parameterProviderTypes:[],status:"pending"},bm=de(_h,L(sr,t=>F(w({},t),{status:"loading"})),L(ar,(t,{response:i})=>F(w({},t),{processorTypes:i.processorTypes,controllerServiceTypes:i.controllerServiceTypes,prioritizerTypes:i.prioritizers,status:"success"})),L(lr,(t,{response:i})=>F(w({},t),{controllerServiceTypes:i.controllerServiceTypes,reportingTaskTypes:i.reportingTaskTypes,registryClientTypes:i.registryClientTypes,parameterProviderTypes:i.parameterProviderTypes,flowAnalysisRuleTypes:i.flowAnalysisRuleTypes,status:"success"})),L(cr,(t,{response:i})=>F(w({},t),{processorTypes:i.processorTypes,controllerServiceTypes:i.controllerServiceTypes,reportingTaskTypes:i.reportingTaskTypes,parameterProviderTypes:i.parameterProviderTypes,flowAnalysisRuleTypes:i.flowAnalysisRuleTypes,status:"success"})),L(ur,(t,{response:i})=>F(w({},t),{processorTypes:i.processorTypes,controllerServiceTypes:i.controllerServiceTypes,reportingTaskTypes:i.reportingTaskTypes,parameterProviderTypes:i.parameterProviderTypes,flowAnalysisRuleTypes:i.flowAnalysisRuleTypes,status:"success"})));var Ch={about:null,status:"pending"},Em=de(Ch,L(yr,t=>F(w({},t),{status:"loading"})),L(vr,(t,{response:i})=>F(w({},t),{about:i.about,status:"success"})));var fo="status-history";var Tn={statusHistory:{},status:"pending",loadedTimestamp:""},xm=de(Tn,L(gi,mr,t=>F(w({},t),{status:"loading"})),L(Oi,tn,(t,{response:i})=>F(w({},t),{status:"success",loadedTimestamp:i.statusHistory.statusHistory.generated,statusHistory:i.statusHistory})),L(nn,t=>F(w({},t),{status:"error"})),L(sc,()=>w({},Tn)),L(pr,dr,()=>w({},Tn)));var Tm={setEnableRequest:{enable:!0,currentStep:me.Pending,scope:"SERVICE_ONLY"},controllerService:null,status:"pending"},Am=de(Tm,L(Rc,()=>w({},Tm)),L(Oc,(t,{request:i})=>F(w({},t),{controllerService:i.controllerService})),L(Dr,(t,{request:i})=>F(w({},t),{setEnableRequest:{enable:!0,currentStep:me.EnableService,scope:i.scope}})),L(Mr,t=>F(w({},t),{setEnableRequest:{enable:!1,currentStep:me.StopReferencingComponents,scope:"SERVICE_AND_REFERENCING_COMPONENTS"}})),L(un,pn,(t,{response:i})=>F(w({},t),{controllerService:i.controllerService,setEnableRequest:F(w({},t.setEnableRequest),{currentStep:i.currentStep})})),L(Pr,mn,(t,{response:i})=>at(t,e=>{e.controllerService&&(e.controllerService.component.referencingComponents=i.referencingComponents),e.setEnableRequest.currentStep=i.currentStep})),L(It,(t,{response:i})=>F(w({},t),{setEnableRequest:F(w({},t.setEnableRequest),{error:i}),status:"error"})));var Gs={systemDiagnostics:null,status:"pending",loadedTimestamp:""},wm=de(Gs,L(Hi,hr,t=>F(w({},t),{status:"loading"})),L(rn,fr,(t,{response:i})=>F(w({},t),{status:"success",loadedTimestamp:i.systemDiagnostics.aggregateSnapshot.statsLastRefreshed,systemDiagnostics:i.systemDiagnostics})),L(on,Li,t=>F(w({},t),{status:"error"})),L(ac,()=>w({},Gs)),L(gr,()=>w({},Gs)));var ho="componentState";var km={componentName:null,componentUri:null,componentState:null,canClear:null,status:"pending"},Dm=de(km,L(xr,(t,{request:i})=>F(w({},t),{componentName:i.componentName,componentUri:i.componentUri,canClear:i.canClear,status:"loading"})),L(cn,Ar,(t,{response:i})=>F(w({},t),{status:"success",componentState:i.componentState})),L(wr,()=>w({},km)));var Mm={bannerErrors:{},fullScreenError:null,routedToFullScreenError:!1},Im=de(Mm,L(ot,(t,{errorDetail:i})=>F(w({},t),{fullScreenError:i})),L(Ht,(t,{errorContext:i})=>at(t,e=>{e.bannerErrors===null&&(e.bannerErrors={}),e.bannerErrors[i.context]||(e.bannerErrors[i.context]=[]),e.bannerErrors[i.context].push(...i.errors)})),L(al,(t,{context:i})=>at(t,e=>{e.bannerErrors&&e.bannerErrors[i]&&delete e.bannerErrors[i]})),L(Vn,(t,{routedToFullScreenError:i})=>F(w({},t),{routedToFullScreenError:i})),L(ll,()=>w({},Mm)));var bh={disconnectionAcknowledged:!1,connectedStateChanged:!1,clusterSummary:null,searchResults:null,status:"pending"},Pm=de(bh,L(sn,t=>F(w({},t),{status:"loading"})),L(_r,(t,{response:i})=>F(w({},t),{clusterSummary:i.clusterSummary,status:"success"})),L(Cr,(t,{response:i})=>F(w({},t),{searchResults:i})),L(yi,t=>F(w({},t),{connectedStateChanged:!0})),L(dc,t=>F(w({},t),{connectedStateChanged:!1})),L(an,(t,{disconnectionAcknowledged:i})=>F(w({},t),{disconnectionAcknowledged:i})));var Eh={loginConfiguration:null,status:"pending"},Fm=de(Eh,L(jr,t=>F(w({},t),{status:"loading"})),L(ri,(t,{response:i})=>F(w({},t),{loginConfiguration:i.loginConfiguration,status:"success"})));var Nm={results:[],status:"pending",requestContext:null,activeRequest:null,configurationAnalysis:null,attributes:null},Rm=de(Nm,L($i,(t,{response:i})=>at(t,e=>{e.status="loading",e.configurationAnalysis=i.configurationAnalysis,e.requestContext=i.requestContext,i.configurationAnalysis.supportsVerification&&(e.attributes=i.configurationAnalysis.referencedAttributes)})),L(Vi,(t,{response:i})=>F(w({},t),{configurationAnalysis:i.configurationAnalysis,requestContext:i.requestContext})),L(hn,fn,(t,{response:i})=>F(w({},t),{activeRequest:i.request,results:i.request.results||[]})),L(Hr,t=>F(w({},t),{activeRequest:null,status:"success"})),L(Vc,t=>F(w({},Nm),{attributes:t.attributes})));var xh={backNavigations:[]},Om=de(xh,L(zr,(t,{backNavigation:i})=>at(t,e=>{if(e.backNavigations.length>0){let n=e.backNavigations[e.backNavigations.length-1];Th(n.route,i.route)&&e.backNavigations.push(i)}else e.backNavigations.push(i)})),L(Ur,(t,{url:i})=>at(t,e=>{for(;e.backNavigations.length>0;){let n=e.backNavigations[e.backNavigations.length-1];if(!i.startsWith(n.routeBoundary.join("/")))e.backNavigations.pop();else break}})));function Th(t,i){if(t.length!==i.length)return!0;for(let e=0;e<t.length;e++)if(t[e]!==i[e])return!0;return!1}var Ah={bannerText:null,status:"pending"},Hm=de(Ah,L(br,t=>F(w({},t),{status:"loading"})),L(Er,(t,{response:i})=>F(w({},t),{bannerText:i.bannerText,status:"success"})));var wh={documentVisibility:gn.Visible,changedTimestamp:Date.now()},Lm=de(wh,L(qr,(t,{change:i})=>F(w({},t),{documentVisibility:i.documentVisibility,changedTimestamp:i.changedTimestamp})));var Bm={copiedContent:null},Vm=de(Bm,L(su,(t,{content:i})=>F(w({},t),{copiedContent:i})),L(au,(t,{pasted:i})=>at(t,e=>{i.strategy===ru.OFFSET_FROM_ORIGINAL&&e.copiedContent&&e.copiedContent.copyResponse.id===i.copyId&&e.copiedContent.processGroupId===i.processGroupId&&e.copiedContent.pasteCount++})),L(lu,()=>w({},Bm)));var jm={[Kl]:Ul,[Jl]:Im,[sl]:tu,[rc]:bm,[Kc]:Em,[vc]:Hm,[gc]:Om,[lc]:iu,[cl]:Fm,[fo]:xm,[Nc]:Am,[Yc]:wm,[ho]:Dm,[uu]:Lm,[hc]:Pm,[Pc]:Rm,[nu]:Vm};var $m=(()=>{class t{constructor(e,n,r,o,a,s){this.actions$=e,this.store=n,this.router=r,this.userService=o,this.authService=a,this.errorHelper=s,this.loadCurrentUser$=R(()=>this.actions$.pipe(P(ko),N(()=>ee(this.userService.getUser().pipe(M(l=>On({response:{user:l}})),G(l=>I(this.errorHelper.fullScreenError(l)))))))),this.startCurrentUserPolling$=R(()=>this.actions$.pipe(P(nl),N(()=>zt(3e4,$t).pipe(Me(this.actions$.pipe(P(Hn))))),N(()=>I(ko())))),this.navigateToLogIn$=R(()=>this.actions$.pipe(P(Ln),le(()=>{this.router.navigate(["/login"])})),{dispatch:!1}),this.logout$=R(()=>this.actions$.pipe(P(ol),N(()=>ee(this.authService.logout()).pipe(M(()=>Do()),G(l=>I(this.errorHelper.fullScreenError(l))))))),this.navigateToLogOut$=R(()=>this.actions$.pipe(P(Do),we(()=>this.store.select(ul)),le(([,l])=>{l&&(window.location.href=l)})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||t)(E(fe),E(ae),E(Qt),E(Vr),E(Yt),E(Se))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var zm=(t,i)=>{let e=Ce(ae);return i(t).pipe(G(n=>{if(n instanceof Pn&&n.status===401)return li([e.select(Bn).pipe(Oe(1),le(()=>e.dispatch(rl()))),e.select(Di).pipe(Oe(1)),e.select(ec).pipe(Oe(1),le(()=>e.dispatch(Vn({routedToFullScreenError:!0}))))]).pipe(N(([r,o,a])=>(r.status==="pending"&&o?.loginSupported&&!a?e.dispatch(Ln()):e.dispatch(ot({errorDetail:{title:"Unauthorized",message:"Your session has expired. Please navigate home to log in again."}})),kn)));throw n}))};var Um=(()=>{class t{constructor(e,n,r){this.actions$=e,this.extensionTypesService=n,this.errorHelper=r,this.loadExtensionTypesForCanvas$=R(()=>this.actions$.pipe(P(sr),N(()=>li([this.extensionTypesService.getProcessorTypes(),this.extensionTypesService.getControllerServiceTypes(),this.extensionTypesService.getPrioritizers()]).pipe(M(([o,a,s])=>ar({response:{processorTypes:o.processorTypes,controllerServiceTypes:a.controllerServiceTypes,prioritizers:s.prioritizerTypes}})),G(o=>I(Ri({error:o}))))))),this.loadExtensionTypesForSettings$=R(()=>this.actions$.pipe(P(tc),N(()=>li([this.extensionTypesService.getControllerServiceTypes(),this.extensionTypesService.getReportingTaskTypes(),this.extensionTypesService.getRegistryClientTypes(),this.extensionTypesService.getParameterProviderTypes(),this.extensionTypesService.getFlowAnalysisRuleTypes()]).pipe(M(([o,a,s,l,c])=>lr({response:{controllerServiceTypes:o.controllerServiceTypes,reportingTaskTypes:a.reportingTaskTypes,registryClientTypes:s.flowRegistryClientTypes,parameterProviderTypes:l.parameterProviderTypes,flowAnalysisRuleTypes:c.flowAnalysisRuleTypes}})),G(o=>I(Ri({error:o}))))))),this.loadExtensionTypesForPolicies$=R(()=>this.actions$.pipe(P(ic),N(()=>li([this.extensionTypesService.getProcessorTypes(),this.extensionTypesService.getControllerServiceTypes(),this.extensionTypesService.getReportingTaskTypes(),this.extensionTypesService.getParameterProviderTypes(),this.extensionTypesService.getFlowAnalysisRuleTypes()]).pipe(M(([o,a,s,l,c])=>cr({response:{processorTypes:o.processorTypes,controllerServiceTypes:a.controllerServiceTypes,reportingTaskTypes:s.reportingTaskTypes,parameterProviderTypes:l.parameterProviderTypes,flowAnalysisRuleTypes:c.flowAnalysisRuleTypes}})),G(o=>I(Ri({error:o}))))))),this.loadExtensionTypesForDocumentation$=R(()=>this.actions$.pipe(P(nc),N(()=>li([this.extensionTypesService.getProcessorTypes(),this.extensionTypesService.getControllerServiceTypes(),this.extensionTypesService.getReportingTaskTypes(),this.extensionTypesService.getParameterProviderTypes(),this.extensionTypesService.getFlowAnalysisRuleTypes()]).pipe(M(([o,a,s,l,c])=>ur({response:{processorTypes:o.processorTypes,controllerServiceTypes:a.controllerServiceTypes,reportingTaskTypes:s.reportingTaskTypes,parameterProviderTypes:l.parameterProviderTypes,flowAnalysisRuleTypes:c.flowAnalysisRuleTypes}})),G(o=>I(Ri({error:o}))))))),this.extensionTypesApiError$=R(()=>this.actions$.pipe(P(Ri),M(o=>o.error),N(o=>I(Ee({error:this.errorHelper.getErrorString(o,"Failed to load extension types. You may not be able to create new Processors, Controller Services, Reporting Tasks, Parameter Providers, or Flow Analysis Rules.")})))))}static{this.\u0275fac=function(n){return new(n||t)(E(fe),E(Hc),E(Se))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var qm=(t,i)=>{let e=Ce(ae);return i(t).pipe(G(n=>{if(n instanceof Pn&&n.status===0)return e.dispatch(Hn()),e.dispatch(eu()),e.dispatch(Sr()),e.dispatch(ot({errorDetail:{title:"Unable to communicate with NiFi",message:"Please ensure the application is running and check the logs for any errors."}})),kn;throw n}))};var Km=(()=>{class t{static{this.API="../nifi-api"}constructor(e){this.httpClient=e}getAbout(){return this.httpClient.get(`${t.API}/flow/about`)}static{this.\u0275fac=function(n){return new(n||t)(E(Be))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Mh(t,i){if(t&1&&(y(0,"div",9),S(1),g()),t&2){let e=H();C(),Ae(e.buildTimestamp)}}function Ih(t,i){if(t&1&&(y(0,"div",9),S(1),g()),t&2){let e=H();C(),te("Tagged ",e.buildTag,"")}}function Ph(t,i){if(t&1&&(y(0,"div",9),S(1),g()),t&2){let e=H();C(),ki("From ",e.buildRevision," on branch ",e.buildBranch,"")}}function Fh(t,i){if(t&1&&(y(0,"div",5),Y(1,"img",6),g(),y(2,"div",7)(3,"div",8),S(4),g(),U(5,Mh,2,1,"div",9)(6,Ih,2,1,"div",9)(7,Ph,2,2,"div",9),g(),y(8,"div"),S(9," Apache NiFi is a framework to support highly scalable and flexible dataflows. It can be run on laptops up through clusters of enterprise class servers. Instead of dictating a particular dataflow or behavior it empowers you to design your own optimal dataflow tailored to your specific environment. "),g()),t&2){let e=i;C(4),Ae(e.version),C(),W(e.buildTimestamp?5:-1),C(),W(e.buildTag&&e.buildTag!=="HEAD"?6:-1),C(),W(e.buildRevision?7:-1)}}var Gm=(()=>{class t extends bt{constructor(e){super(),this.store=e,this.about$=this.store.select(Gc)}static{this.\u0275fac=function(n){return new(n||t)(Q(ae))}}static{this.\u0275cmp=ye({type:t,selectors:[["about"]],standalone:!0,features:[ze,be],decls:10,vars:3,consts:[[1,"about-dialog"],["mat-dialog-title",""],[1,"flex","flex-col","justify-between","gap-y-5"],["align","end"],["mat-button","","mat-dialog-close",""],[1,"flex","justify-center"],["ngSrc","assets/icons/nifi-logo-about.svg","priority","","width","300","height","128","alt","NiFi Logo"],[1,"flex","flex-col","gap-y-1"],[1,"font-bold"],[1,"text-sm","ml-2"]],template:function(n,r){if(n&1&&(y(0,"div",0)(1,"h2",1),S(2,"About"),g(),y(3,"mat-dialog-content")(4,"div",2),U(5,Fh,10,4),He(6,"async"),g()(),y(7,"mat-dialog-actions",3)(8,"button",4),S(9,"Close"),g()()()),n&2){let o;C(5),W((o=Le(6,1,r.about$))?5:-1,o)}},dependencies:[Mt,Ne,Ct,qe,Ke,We,Ge,er,kr,St,st,Ni,rr,La],styles:[".about-dialog[_ngcontent-%COMP%]{--mdc-text-button-container-height: 32px;--mdc-filled-button-container-height: 32px;--mdc-protected-button-container-height: 32px;--mdc-outlined-button-container-height: 32px;--mat-text-button-touch-target-display: block;--mat-filled-button-touch-target-display: block;--mat-protected-button-touch-target-display: block;--mat-outlined-button-touch-target-display: block}"]})}}return t})();var Wm=(()=>{class t{constructor(e,n,r,o){this.actions$=e,this.aboutService=n,this.dialog=r,this.errorHelper=o,this.loadAbout$=R(()=>this.actions$.pipe(P(yr),N(()=>ee(this.aboutService.getAbout().pipe(M(a=>vr({response:a})),G(a=>I(Ee({error:this.errorHelper.getErrorString(a)})))))))),this.openAboutDialog$=R(()=>this.actions$.pipe(P(mc),le(()=>{this.dialog.open(Gm,F(w({},Zt),{autoFocus:!1}))})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||t)(E(fe),E(Km),E(Fe),E(Se))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var go=(()=>{class t{static{this.API="../nifi-api"}constructor(e,n){this.httpClient=e,this.client=n}getComponentStatusHistory(e,n){let r;switch(e){case Ji.Processor:r="processors";break;case Ji.ProcessGroup:r="process-groups";break;case Ji.Connection:r="connections";break;case Ji.RemoteProcessGroup:r="remote-process-groups";break;default:r="processors"}return this.httpClient.get(`${t.API}/flow/${r}/${encodeURIComponent(n)}/status/history`)}getNodeStatusHistory(){return this.httpClient.get(`${t.API}/controller/status/history`)}static{this.\u0275fac=function(n){return new(n||t)(E(Be),E(ii))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ys=Rn(fo),yo=Ot(Ys,t=>t.statusHistory),Ym=Ot(yo,t=>t.statusHistory?.componentDetails),Xm=Ot(yo,t=>t.statusHistory?.fieldDescriptors);var dt={nifiInstanceId:"nifi-instance-id",nifiInstanceLabel:"NiFi"};var Zm=(()=>{class t{set instances(e){this._instances=e,this._selectedDescriptor&&this.updateChart(this._selectedDescriptor)}get instances(){return this._instances}set selectedFieldDescriptor(e){this._selectedDescriptor!==e&&(this.brushSelection=null,this._selectedDescriptor=e,e&&this.updateChart(e))}get selectedFieldDescriptor(){return this._selectedDescriptor}set visibleInstances(e){this._visibleInstances=e,this._selectedDescriptor&&this.updateChart(this._selectedDescriptor)}get visibleInstances(){return this._visibleInstances}constructor(e){this.nifiCommon=e,this._selectedDescriptor=null,this._visibleInstances={},this.nodeStats=new nt,this.clusterStats=new nt,this.nodeStats$=new gt,this.clusterStats$=new gt,this.nodes=[],this.formatters={DURATION:n=>this.nifiCommon.formatDuration(n),COUNT:n=>n%1===0?this.nifiCommon.formatInteger(n):this.nifiCommon.formatFloat(n),DATA_SIZE:n=>this.nifiCommon.formatDataSize(n),FRACTION:n=>this.nifiCommon.formatFloat(n/1e6)},this.brushSelection=null,this.nodeStats$.pipe(ci(20),Ue()).subscribe(n=>{this.nodeStats.next(n)}),this.clusterStats$.pipe(ci(20),Ue()).subscribe(n=>{this.clusterStats.next(n)})}updateChart(e){let n={top:15,right:20,bottom:25,left:80},r=Uc(qc),o=this.instances.map(k=>k.label);r.domain(o);let a=this.instances.map(k=>({id:k.id,label:k.label,values:k.snapshots.map(oe=>({timestamp:oe.timestamp,value:oe.statusMetrics[e.field]})),visible:this._visibleInstances[k.id]})),s=k=>k.getMilliseconds()?ni(":%S.%L")(k):k.getSeconds()?ni(":%S")(k):k.getMinutes()||k.getHours()?ni("%H:%M")(k):k.getDay()&&k.getDate()!==1?ni("%a %d")(k):k.getDate()!==1?ni("%b %d")(k):k.getMonth()?ni("%B")(k):ni("%Y")(k),l=document.getElementById("status-history-chart-container");l.replaceChildren();let c=l.clientWidth-n.left-n.right,d=l.clientHeight-n.top-n.bottom,h=Jo().range([0,c]),b=Qo(h).ticks(5).tickFormat(s),T=Zo().range([d,0]),f=Yo(T).tickFormat(this.formatters[e.formatter]),m=es().curve(ts).x(k=>h(k.timestamp)).y(k=>T(k.value)),u=zi("#status-history-chart-container").append("svg").attr("style","pointer-events: none;").attr("width",l.clientWidth).attr("height",l.clientHeight),p=u.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",c).attr("height",d),v=u.append("g").attr("transform","translate("+n.left+", "+n.top+")"),_=Ft(a,k=>Ft(k.values,oe=>oe.timestamp)),x=Pt(a,k=>Pt(k.values,oe=>oe.timestamp));h.domain([_,x]),T.domain([this.getMinValue(a),this.getMaxValue(a)]),v.append("g").attr("class","x axis").attr("transform","translate(0, "+d+")").call(b),v.append("g").attr("class","y axis").call(f).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").attr("text-anchor","end").text(e.label);let A=v.selectAll(".status").data(a).enter().append("g").attr("clip-path","url(#clip)").attr("class","status");A.append("path").attr("class",k=>"chart-line chart-line-"+k.id).attr("d",k=>m(k.values)).attr("stroke",k=>r(k.label)).classed("hidden",k=>k.visible===!1).append("title").text(k=>k.label),A.each((k,oe,X)=>{zi(X[oe]).append("g").attr("class",function(){return"mark-group mark-group-"+k.id}).classed("hidden",function(Pe){return Pe.visible===!1}).selectAll("circle.mark").data(k.values).enter().append("circle").attr("style","pointer-events: all;").attr("class","mark").attr("cx",Pe=>h(Pe.timestamp)).attr("cy",Pe=>T(Pe.value)).attr("fill",()=>r(k.label)).attr("r",1.5).append("title").text(Pe=>k.label+" -- "+this.formatters[e.formatter](Pe.value))});let D=l.parentElement;D&&u.attr("width",D.clientWidth).attr("height",l.clientHeight),p.attr("width",c).attr("height",d),v.select(".x.axis").attr("transform","translate(0, "+d+")");let O=document.getElementById("status-history-chart-control-container");O.replaceChildren();let $=O.clientHeight-n.top-n.bottom,K=Jo().range([0,c]),he=Qo(K).ticks(5).tickFormat(s),ke=Zo().range([$,0]),je=Yo(ke).tickValues(T.domain()).tickFormat(this.formatters[e.formatter]),et=es().curve(ts).x(function(k){return K(k.timestamp)}).y(function(k){return ke(k.value)}),tt=zi("#status-history-chart-control-container").append("svg").attr("width",l.clientWidth).attr("height",O.clientHeight).append("g").attr("transform","translate("+n.left+", "+n.top+")");K.domain(h.domain()),ke.domain(T.domain()),tt.append("g").attr("class","x axis").attr("transform","translate(0, "+$+")").call(he),tt.append("g").attr("class","y axis").call(je),tt.selectAll(".status").data(a).enter().append("g").attr("class","status").append("path").attr("class",k=>"chart-line chart-line-"+k.id).attr("d",k=>et(k.values)).attr("stroke",k=>r(k.label)).classed("hidden",k=>this.visibleInstances[k.id]===!1).append("title").text(function(k){return k.label});let V=()=>{let k=h.domain(),oe=T.domain(),X=a.map(De=>{let wn=De.values.filter(Re=>Re.timestamp>=k[0].getTime()&&Re.timestamp<=k[1]&&Re.value>=oe[0]&&Re.value<=oe[1]);return F(w({},De),{values:wn})}),ue=X.filter(De=>De.id!==dt.nifiInstanceId&&De.visible&&De.values.length>0),Pe=ue.length===0?"NA":this.formatters[e.formatter](this.getMinValue(ue)),xe=ue.length===0?"NA":this.formatters[e.formatter](this.getMeanValue(ue)),ut=ue.length===0?"NA":this.formatters[e.formatter](this.getMaxValue(ue));this.nodeStats$.next({min:Pe,max:ut,mean:xe,nodes:ue.map(De=>({id:De.id,label:De.label,color:r(De.label)}))});let Te=X.filter(De=>De.id===dt.nifiInstanceId&&De.visible&&De.values.length>0),ft=Te.length===0?"NA":this.formatters[e.formatter](this.getMinValue(Te)),ht=Te.length===0?"NA":this.formatters[e.formatter](this.getMeanValue(Te)),Ti=Te.length===0?"NA":this.formatters[e.formatter](this.getMaxValue(Te));this.clusterStats$.next({min:ft,max:Ti,mean:ht,nodes:Te.map(De=>({id:De.id,label:De.label,color:r(De.label)}))})},z=(k,oe)=>{h.domain(k),T.domain(oe),A.selectAll(".chart-line").attr("d",X=>m(X.values)),A.selectAll("circle.mark").attr("cx",X=>h(X.timestamp)).attr("cy",X=>T(X.value)).attr("r",function(){return Xo(Ie.node())===null?1.5:4}),v.select(".x.axis").call(b),v.select(".y.axis").call(f)},J=()=>{this.brushSelection=Xo(Ie.node());let k,oe;if(this.brushSelection===null){let X=a.filter(ue=>ue.visible);X.length===0?oe=ke.domain():oe=[Ft(X,ue=>Ft(ue.values,Pe=>Pe.value)),Pt(X,ue=>Pt(ue.values,Pe=>Pe.value))],k=K.domain()}else k=[this.brushSelection[0][0],this.brushSelection[1][0]].map(K.invert,K),oe=[this.brushSelection[1][1],this.brushSelection[0][1]].map(ke.invert,ke);z(k,oe),V()},ge=zc().extent([[K.range()[0],ke.range()[1]],[K.range()[1],ke.range()[0]]]).on("brush",J),Ie=tt.append("g").attr("class","brush").on("click",J).call(ge);this.brushSelection&&(ge=ge.move(Ie,this.brushSelection)),tt.select("rect.selection").attr("style","pointer-events: all;").on("dblclick",()=>{if(this.brushSelection!==null){let k=ke.range();ge.move(Ie,[[this.brushSelection[0][0],k[1]],[this.brushSelection[1][0],k[0]]])}}),this.nodes=a.filter(k=>k.id!==dt.nifiInstanceId).sort((k,oe)=>k.label<oe.label?-1:k.label>oe.label?1:0),J()}getMinValue(e){return Ft(e,n=>Ft(n.values,r=>r.value))}getMaxValue(e){return Pt(e,n=>Pt(n.values,r=>r.value))}getMeanValue(e){let n=0;return Wo(e,o=>(n+=o.values.length,Wo(o.values,a=>a.value)))/n}ngOnDestroy(){this.nodeStats$.complete(),this.clusterStats$.complete()}static{this.\u0275fac=function(n){return new(n||t)(Q(Ve))}}static{this.\u0275cmp=ye({type:t,selectors:[["status-history-chart"]],inputs:{instances:"instances",selectedFieldDescriptor:"selectedFieldDescriptor",visibleInstances:"visibleInstances"},outputs:{nodeStats:"nodeStats",clusterStats:"clusterStats"},standalone:!0,features:[be],decls:3,vars:0,consts:[["id","status-history-container",1,"flex-1","flex","flex-col","select-none"],["id","status-history-chart-container",1,"grow"],["id","status-history-chart-control-container"]],template:function(n,r){n&1&&(y(0,"div",0),Y(1,"div",1)(2,"div",2),g())}})}}return t})();var Oh=(t,i)=>i.id,Jm=t=>({color:t});function Hh(t,i){if(t&1){let e=ve();y(0,"button",15),ie("click",function(){ne(e);let r=H(3);return re(r.maximize())}),Y(1,"i",16),g()}}function Lh(t,i){if(t&1){let e=ve();y(0,"button",17),ie("click",function(){ne(e);let r=H(3);return re(r.minimize())}),Y(1,"i",18),g()}}function Bh(t,i){if(t&1&&U(0,Hh,2,0,"button",13)(1,Lh,2,0,"button",14),t&2){let e=H(2);W(e.dialogMaximized?1:0)}}function Vh(t,i){t&1&&(y(0,"div",8),Y(1,"ngx-skeleton-loader",19),g())}function jh(t,i){if(t&1&&(y(0,"div",24)(1,"div"),S(2),g(),y(3,"div",33),S(4),g()()),t&2){let e=H().$implicit;C(2),Ae(e.key),C(),q("title",e.value),C(),te(" ",e.value," ")}}function $h(t,i){if(t&1&&U(0,jh,5,3,"div",24),t&2){let e=i.$implicit;W(e.key&&e.value?0:-1)}}function zh(t,i){if(t&1){let e=ve();y(0,"div",38)(1,"mat-label",28),S(2),g(),y(3,"mat-checkbox",39),ie("change",function(r){ne(e);let o=H(7);return re(o.selectNode(r))}),g()()}if(t&2){let e=H().$implicit,n=H(6);C(),q("ngStyle",pi(4,Jm,n.getColor(n.nodeStats,e.id))),C(),te("",e.label," "),C(),q("value",e.id)("checked",!!n.instanceVisibility[e.id])}}function Uh(t,i){if(t&1&&U(0,zh,4,6,"div",38),t&2){let e=i.$implicit;W(e.snapshots!=null&&e.snapshots.length?0:-1)}}function qh(t,i){if(t&1){let e=ve();y(0,"div",24)(1,"div",34)(2,"mat-label",35),S(3,"Nodes "),g(),y(4,"mat-checkbox",36),ie("change",function(r){ne(e);let o=H(5);return re(o.selectAllNodesChanged(r))}),g()(),y(5,"div")(6,"div"),S(7,"Min / Max / Mean"),g(),y(8,"div",25),S(9),g()(),y(10,"div",37),qt(11,Uh,1,1,null,null,Oh),g()()}if(t&2){let e=H(5);C(4),q("checked",e.areAllNodesSelected(e.instanceVisibility))("indeterminate",e.areAnyNodesSelected(e.instanceVisibility)),C(5),mi(" ",e.nodeStats.min," / ",e.nodeStats.max," / ",e.nodeStats.mean," "),C(2),Kt(e.nodes)}}function Kh(t,i){if(t&1&&(y(0,"mat-option",41)(1,"span",43),S(2),g()()),t&2){let e=H().$implicit,n=H(6);q("value",e)("tooltipComponentType",n.TextTip)("tooltipInputData",e.description)("delayClose",!1),C(2),Ae(e.label)}}function Gh(t,i){if(t&1&&(y(0,"mat-option",42)(1,"span",43),S(2),g()()),t&2){let e=H().$implicit;q("value",e),C(2),Ae(e.label)}}function Wh(t,i){if(t&1&&U(0,Kh,3,5,"mat-option",41)(1,Gh,3,2,"mat-option",42),t&2){let e=i.$implicit;W(e.description?0:1)}}function Qh(t,i){if(t&1&&(y(0,"div",31)(1,"mat-form-field")(2,"mat-select",40),qt(3,Wh,2,1,null,null,ui),g()()()),t&2){let e=H(5);C(3),Kt(e.fieldDescriptors)}}function Yh(t,i){if(t&1){let e=ve();y(0,"div",21)(1,"div",22)(2,"div",23),qt(3,$h,1,1,null,null,ui),y(5,"div",24)(6,"div"),S(7,"Start"),g(),y(8,"div",25),S(9),g()(),y(10,"div",24)(11,"div"),S(12,"End"),g(),y(13,"div",25),S(14),g()(),y(15,"div",24)(16,"div",26)(17,"div"),S(18,"Min / Max / Mean"),g(),y(19,"div",25),S(20),g()(),y(21,"div",27)(22,"mat-label",28),S(23,"NiFi "),g(),y(24,"mat-checkbox",29),ie("change",function(r){ne(e);let o=H(4);return re(o.selectNode(r))}),g()()(),U(25,qh,13,5,"div",24),g()(),y(26,"div",30),U(27,Qh,5,0,"div",31),He(28,"async"),y(29,"status-history-chart",32),ie("nodeStats",function(r){ne(e);let o=H(4);return re(o.nodeStatsChanged(r))})("clusterStats",function(r){ne(e);let o=H(4);return re(o.clusterStatsChanged(r))}),g()()()}if(t&2){let e=H(4);C(3),Kt(e.details),C(6),te(" ",e.minDate," "),C(5),te(" ",e.maxDate," "),C(6),mi(" ",e.clusterStats.min," / ",e.clusterStats.max," / ",e.clusterStats.mean," "),C(2),q("ngStyle",pi(14,Jm,e.getColor(e.nodeStats,e.NIFI_NODE_CONFIG.nifiInstanceId))),C(2),q("checked",!!e.instanceVisibility["nifi-instance-id"]),C(),W(e.nodes&&e.nodes.length>0?25:-1),C(2),W(Le(28,12,e.fieldDescriptors$)?27:-1),C(2),q("instances",e.instances)("visibleInstances",e.instanceVisibility)("selectedFieldDescriptor",e.selectedDescriptor)}}function Xh(t,i){if(t&1&&(U(0,Yh,30,16,"div",21),He(1,"async")),t&2){let e,n=H(3);W((e=Le(1,1,n.componentDetails$))?0:-1,e)}}function Zh(t,i){t&1&&(y(0,"div",20),S(1," Insufficient history, please try again later. "),g())}function Jh(t,i){if(t&1&&U(0,Xh,2,3)(1,Zh,2,0,"div",20),t&2){let e=H(2);W(e.instances.length>0&&e.fieldDescriptors.length>0?0:1)}}function eg(t,i){if(t&1){let e=ve();y(0,"div",11)(1,"button",44),ie("click",function(){ne(e);let r=H(2);return re(r.refresh())}),Y(2,"i",45),g(),y(3,"div"),S(4,"Last updated:"),g(),y(5,"div",25),S(6),g()()}if(t&2){let e=H();C(2),mt("fa-spin",e.status==="loading"),C(4),te(" ",e.loadedTimestamp," ")}}function tg(t,i){if(t&1&&(y(0,"div",1)(1,"h2",2),S(2,"Status History"),g(),U(3,Bh,2,1),g(),Y(4,"context-error-banner",3),y(5,"div",4)(6,"mat-dialog-content",5)(7,"form",6)(8,"div",7),U(9,Vh,2,0,"div",8)(10,Jh,2,1),g()()(),y(11,"mat-dialog-actions",9)(12,"div",10)(13,"div",8),U(14,eg,7,3,"div",11),g(),y(15,"div")(16,"button",12),S(17,"Close"),g()()()()()),t&2){let e=H();C(3),W(e.instances.length>0&&e.fieldDescriptors.length>0?3:-1),C(),q("context",e.ErrorContextKey.STATUS_HISTORY),C(3),q("formGroup",e.statusHistoryForm),C(2),W(e.isInitialLoading(i)?9:10),C(5),W(e.instances.length>0&&e.fieldDescriptors.length>0?14:-1)}}var ep=(()=>{class t extends bt{constructor(e,n,r,o,a){super(),this.statusHistoryService=e,this.store=n,this.formBuilder=r,this.nifiCommon=o,this.dialogRequest=a,this.statusHistoryState$=this.store.select(Ys),this.componentDetails$=this.store.select(Ym),this.statusHistory$=this.store.select(yo),this.fieldDescriptors$=this.store.select(Xm),this.fieldDescriptors=[],this.dialogMaximized=!1,this.details=[],this.minDate="",this.maxDate="",this.nodeStats={max:"NA",min:"NA",mean:"NA",nodes:[]},this.clusterStats={max:"NA",min:"NA",mean:"NA",nodes:[]},this.nodes=[],this.instances=[],this.instanceVisibility={},this.selectedDescriptor=null,this.destroyRef=Ce(Ai),this.Object=Object,this.TextTip=ti,this.NIFI_NODE_CONFIG=dt,this.ErrorContextKey=Qe,this.request=a,this.statusHistoryForm=this.formBuilder.group({fieldDescriptor:""})}ngOnInit(){this.statusHistory$.pipe(pe(e=>!!e),Ue(this.destroyRef)).subscribe(e=>{if(e){this.instances=[],e.statusHistory?.aggregateSnapshots?.length>1&&(this.instances.push({id:dt.nifiInstanceId,label:dt.nifiInstanceLabel,snapshots:e.statusHistory.aggregateSnapshots}),this.instanceVisibility[dt.nifiInstanceId]===void 0&&(this.instanceVisibility[dt.nifiInstanceId]=!0)),e.statusHistory?.nodeSnapshots&&e.statusHistory?.nodeSnapshots.length>1&&e.statusHistory.nodeSnapshots.forEach(o=>{this.instances.push({id:o.nodeId,label:`${o.address}:${o.apiPort}`,snapshots:o.statusSnapshots}),this.instanceVisibility[o.nodeId]===void 0&&(this.instanceVisibility[o.nodeId]=!0)}),this.nodes=this.instances.filter(o=>o.id!==dt.nifiInstanceId).sort((o,a)=>o.label<a.label?-1:o.label>a.label?1:0);let n=Ft(this.instances,o=>Ft(o.snapshots,a=>a.timestamp)),r=Pt(this.instances,o=>Pt(o.snapshots,a=>a.timestamp));this.minDate=this.nifiCommon.formatDateTime(new Date(n)),this.maxDate=this.nifiCommon.formatDateTime(new Date(r))}}),this.fieldDescriptors$.pipe(pe(e=>!!e),Oe(1)).subscribe(e=>{this.fieldDescriptors=e,this.statusHistoryForm.get("fieldDescriptor")?.setValue(e[0]),this.selectedDescriptor=e[0]}),this.componentDetails$.pipe(_e(),Oe(1)).subscribe(e=>{this.details=Object.entries(e).map(n=>({key:n[0],value:n[1]}))})}ngAfterViewInit(){this.statusHistoryForm.get("fieldDescriptor")?.valueChanges.pipe(Ue(this.destroyRef)).subscribe(e=>{this.instances.length>0&&(this.selectedDescriptor=e)})}maximize(){this.dialogMaximized=!0,this.resized()}minimize(){this.dialogMaximized=!1,this.resized()}isInitialLoading(e){return e.loadedTimestamp===Tn.loadedTimestamp}refresh(){this.store.dispatch(gi({request:this.request}))}clusterStatsChanged(e){this.clusterStats=e}nodeStatsChanged(e){this.nodeStats=e}areAllNodesSelected(e){return Object.entries(e).filter(([r,o])=>r!=="nifi-instance-id"&&!o).map(([,r])=>r).length===0}areAnyNodesSelected(e){let n=Object.entries(e).filter(([r,o])=>r!=="nifi-instance-id"&&o).map(([,r])=>r);return n.length>0&&n.length<this.nodes.length}selectAllNodesChanged(e){let n=e.checked,r={};this.nodes.forEach(o=>{r[o.id]=n}),r["nifi-instance-id"]=this.instanceVisibility["nifi-instance-id"],this.instanceVisibility=r}selectNode(e){let n=e.source.value,r=e.checked,o=$c("path.chart-line-"+n),a=zi("g.mark-group-"+n),s=a.classed("hidden");o.classed("hidden",()=>!s),a.classed("hidden",()=>!s),this.instanceVisibility=F(w({},this.instanceVisibility),{[n]:r})}resized(){this.selectedDescriptor&&(this.selectedDescriptor=w({},this.selectedDescriptor))}windowResized(){this.dialogMaximized&&this.resized()}getColor(e,n){if(e.nodes&&e.nodes.length>0){let r=e.nodes?.find(o=>o.id===n);if(r)return r.color}return"unset neutral-color"}static{this.\u0275fac=function(n){return new(n||t)(Q(go),Q(ae),Q(kt),Q(Ve),Q(Ii))}}static{this.\u0275cmp=ye({type:t,selectors:[["status-history"]],hostBindings:function(n,r){n&1&&ie("resize",function(a){return r.windowResized(a.target)},!1,Sa)},standalone:!0,features:[ze,be],decls:3,vars:7,consts:[[1,"flex","flex-col","status-history-container"],[1,"flex","justify-between"],["mat-dialog-title",""],[3,"context"],[1,"status-history","flex","flex-col","grow"],[1,"grow","flex","flex-1"],[1,"flex","flex-1","h-full",3,"formGroup"],[1,"status-history-dialog-content","flex","w-full","flex-1"],[1,"flex-1"],["align","start"],[1,"flex","w-full"],[1,"text-sm","flex","items-center","gap-x-2"],["mat-button","","mat-dialog-close",""],["mat-icon-button","","title","Maximize dialog size",1,"primary-icon-button","mt-2","mr-2"],["mat-icon-button","","title","Restore default dialog size",1,"primary-icon-button","mt-2","mr-2"],["mat-icon-button","","title","Maximize dialog size",1,"primary-icon-button","mt-2","mr-2",3,"click"],[1,"fa","fa-window-maximize"],["mat-icon-button","","title","Restore default dialog size",1,"primary-icon-button","mt-2","mr-2",3,"click"],[1,"fa","fa-window-minimize"],["count","3"],[1,"grow","flex","items-center","justify-center"],[1,"flex","flex-1","w-full","gap-x-4"],[1,"component-details-panel","relative","h-full"],[1,"component-details","flex","flex-col","gap-y-3","overflow-y-auto","absolute","inset-0"],[1,"flex","flex-col"],[1,"tertiary-color","font-medium"],[1,"detail-item"],[1,"legend-entry","flex","justify-between","items-center","mr-1"],[3,"ngStyle"],["value","nifi-instance-id",3,"change","checked"],[1,"chart-panel","grow","flex","flex-col"],[1,"selected-descriptor-container"],[1,"flex","flex-1","flex-col",3,"nodeStats","clusterStats","instances","visibleInstances","selectedFieldDescriptor"],[1,"tertiary-color","overflow-ellipsis","overflow-hidden","whitespace-nowrap","font-medium",3,"title"],[1,"flex","justify-between","items-center","border-b","mr-1"],[1,"font-bold","secondary-color"],[1,"tertiary-checkbox",3,"change","checked","indeterminate"],[1,"legend-entry","mr-1"],[1,"flex","justify-between","items-start"],[3,"change","value","checked"],["formControlName","fieldDescriptor"],["nifiTooltip","",3,"value","tooltipComponentType","tooltipInputData","delayClose"],[3,"value"],[1,"option-text"],["mat-icon-button","",1,"primary-icon-button",3,"click"],[1,"fa","fa-refresh"]],template:function(n,r){if(n&1&&(y(0,"div",0),U(1,tg,18,5),He(2,"async"),g()),n&2){let o;mt("maximized",r.dialogMaximized&&r.instances.length>0&&r.fieldDescriptors.length>0)("insufficient-history",!r.instances.length||!r.fieldDescriptors.length),C(),W((o=Le(2,5,r.statusHistoryState$))?1:-1,o)}},dependencies:[Ct,qe,Ke,We,Ge,St,Mt,Ne,Dt,Zl,Xl,st,Tt,Et,xt,At,wt,Ni,Fi,Pi,Mc,Dc,Al,ei,Hl,ir,Zm,Oa,Bi],styles:[`.status-history-container[_ngcontent-%COMP%]{position:relative;resize:both;height:732px;width:887px;min-height:732px;min-width:887px}.status-history-container.maximized[_ngcontent-%COMP%]{height:96vh;width:98vw}.status-history-container.insufficient-history[_ngcontent-%COMP%]{height:unset;width:unset;min-height:unset;min-width:unset}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]{--mdc-text-button-container-height: 32px;--mdc-filled-button-container-height: 32px;--mdc-protected-button-container-height: 32px;--mdc-outlined-button-container-height: 32px;--mat-text-button-touch-target-display: block;--mat-filled-button-touch-target-display: block;--mat-protected-button-touch-target-display: block;--mat-outlined-button-touch-target-display: block}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .mat-mdc-dialog-content[_ngcontent-%COMP%]{max-height:unset}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .status-history-svg[_ngcontent-%COMP%]{pointer-events:none}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .chart-panel[_ngcontent-%COMP%]{min-width:495px}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .component-details-panel[_ngcontent-%COMP%], .status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .component-details[_ngcontent-%COMP%]{min-width:300px;max-width:300px}[_nghost-%COMP%]     #status-history-chart-container, [_nghost-%COMP%]     #status-history-chart-control-container{overflow:hidden;cursor:default}[_nghost-%COMP%]     #status-history-chart-container .axis path, [_nghost-%COMP%]     #status-history-chart-container .axis line, [_nghost-%COMP%]     #status-history-chart-control-container .axis path, [_nghost-%COMP%]     #status-history-chart-control-container .axis line{fill:none;shape-rendering:crispEdges}[_nghost-%COMP%]     #status-history-chart-container .chart-area, [_nghost-%COMP%]     #status-history-chart-control-container .chart-area{clip-path:url(#clip)}[_nghost-%COMP%]     #status-history-chart-container .chart-line, [_nghost-%COMP%]     #status-history-chart-control-container .chart-line{fill:none;stroke-width:1.5px}[_nghost-%COMP%]     #status-history-chart-container .chart-line.over, [_nghost-%COMP%]     #status-history-chart-control-container .chart-line.over{stroke-width:2.5px}[_nghost-%COMP%]     #status-history-chart-container .brush .selection, [_nghost-%COMP%]     #status-history-chart-control-container .brush .selection{fill-opacity:.125;shape-rendering:crispEdges}[_nghost-%COMP%]     #status-history-chart-container{height:372px;cursor:default;overflow:hidden}[_nghost-%COMP%]     #status-history-chart-control-container{height:125px;margin-top:5px;cursor:default;overflow:hidden}[_nghost-%COMP%]     #status-history-chart-container text, #status-history-chart-control-container[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:10px}[_nghost-%COMP%]     .mat-mdc-dialog-surface.mdc-dialog__surface{overflow:hidden!important}
















`]})}}return t})();var tp=(()=>{class t{constructor(e,n,r,o,a){this.actions$=e,this.store=n,this.statusHistoryService=r,this.dialog=o,this.errorHelper=a,this.reloadComponentStatusHistory$=R(()=>this.actions$.pipe(P(gi),M(s=>s.request),pe(s=>!!s.componentId&&!!s.componentType),N(s=>ee(this.statusHistoryService.getComponentStatusHistory(s.componentType,s.componentId).pipe(M(l=>tn({response:{statusHistory:{canRead:l.canRead,statusHistory:l.statusHistory}}})),G(l=>this.bannerOrFullScreenError(l))))))),this.reloadNodeStatusHistory$=R(()=>this.actions$.pipe(P(gi),M(s=>s.request),pe(s=>!s.componentId&&!s.componentType),N(()=>ee(this.statusHistoryService.getNodeStatusHistory().pipe(M(s=>tn({response:{statusHistory:{canRead:s.canRead,statusHistory:s.statusHistory}}})),G(s=>this.bannerOrFullScreenError(s))))))),this.getStatusHistoryAndOpenDialog$=R(()=>this.actions$.pipe(P(mr),M(s=>s.request),N(s=>ee(this.statusHistoryService.getComponentStatusHistory(s.componentType,s.componentId).pipe(M(l=>Oi({request:s,response:{statusHistory:{canRead:l.canRead,statusHistory:l.statusHistory}}})),G(l=>this.snackBarOrFullScreenError(l))))))),this.getNodeStatusHistoryAndOpenDialog$=R(()=>this.actions$.pipe(P(oc),M(s=>s.request),N(s=>ee(this.statusHistoryService.getNodeStatusHistory().pipe(M(l=>Oi({request:s,response:{statusHistory:{canRead:l.canRead,statusHistory:l.statusHistory}}})),G(l=>this.snackBarOrFullScreenError(l))))))),this.loadStatusHistorySuccess$=R(()=>this.actions$.pipe(P(Oi),M(s=>s.request),N(s=>I(Lo({request:s}))))),this.openStatusHistoryDialog$=R(()=>this.actions$.pipe(P(Lo),M(s=>s.request),le(s=>{this.dialog.open(ep,{maxHeight:"unset",maxWidth:"unset",data:s,autoFocus:"dialog"}).afterClosed().subscribe(c=>{c!=="ROUTED"&&("componentType"in s?this.store.dispatch(pr({request:{source:s.source,componentType:s.componentType,componentId:s.componentId}})):this.store.dispatch(dr({request:{source:s.source}})))})})),{dispatch:!1}),this.statusHistoryBannerError$=R(()=>this.actions$.pipe(P(nn),M(s=>s.error),N(s=>I(Ht({errorContext:{errors:[s],context:Qe.STATUS_HISTORY}})))))}bannerOrFullScreenError(e){if(this.errorHelper.showErrorInContext(e.status)){let n=this.errorHelper.getErrorString(e,"Failed to reload Status History.");return I(nn({error:n}))}else return I(this.errorHelper.fullScreenError(e))}snackBarOrFullScreenError(e){if(this.errorHelper.showErrorInContext(e.status)){let n=this.errorHelper.getErrorString(e,"Failed to load Status History.");return I(Ee({error:n}))}else return I(this.errorHelper.fullScreenError(e))}static{this.\u0275fac=function(n){return new(n||t)(E(fe),E(ae),E(go),E(Fe),E(Se))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var ip=(()=>{class t{static{this.API="../nifi-api"}constructor(e,n,r,o){this.httpClient=e,this.nifiCommon=n,this.client=r,this.clusterConnectionService=o}getControllerService(e){let n={uiOnly:!0};return this.httpClient.get(`${t.API}/controller-services/${e}`,{params:n})}setEnable(e,n){return this.httpClient.put(`${this.nifiCommon.stripProtocol(e.uri)}/run-status`,{revision:this.client.getRevision(e),disconnectedNodeAcknowledged:this.clusterConnectionService.isDisconnectionAcknowledged(),state:n?"ENABLED":"DISABLED",uiOnly:!0})}updateReferencingServices(e,n){let r={};return this.getReferencingComponentRevisions(e.component.referencingComponents,r,!0),this.httpClient.put(`${this.nifiCommon.stripProtocol(e.uri)}/references`,{id:e.id,state:n?"ENABLED":"DISABLED",referencingComponentRevisions:r,disconnectedNodeAcknowledged:this.clusterConnectionService.isDisconnectionAcknowledged(),uiOnly:!0})}updateReferencingSchedulableComponents(e,n){let r={};return this.getReferencingComponentRevisions(e.component.referencingComponents,r,!1),this.httpClient.put(`${this.nifiCommon.stripProtocol(e.uri)}/references`,{id:e.id,state:n?"RUNNING":"STOPPED",referencingComponentRevisions:r,disconnectedNodeAcknowledged:this.clusterConnectionService.isDisconnectionAcknowledged(),uiOnly:!0})}getReferencingComponentRevisions(e,n,r){this.nifiCommon.isEmpty(e)||e.forEach(o=>{let a=o.component;r?a.referenceType==="ControllerService"&&(n[a.id]=this.client.getRevision(o)):(a.referenceType==="Processor"||a.referenceType==="ReportingTask")&&(n[a.id]=this.client.getRevision(o)),this.getReferencingComponentRevisions(a.referencingComponents,n,r)})}static{this.\u0275fac=function(n){return new(n||t)(E(Be),E(Ve),E(ii),E(Tc))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var np=(()=>{class t{constructor(e,n,r,o,a){this.actions$=e,this.store=n,this.dialog=r,this.controllerServiceStateService=o,this.errorHelper=a,this.submitEnableRequest$=R(()=>this.actions$.pipe(P(Dr),M(s=>s.request),we(()=>this.store.select(vi).pipe(_e())),N(([s,l])=>s.scope==="SERVICE_AND_REFERENCING_COMPONENTS"&&this.hasUnauthorizedReferences(l.component.referencingComponents)?I(It({response:{step:me.EnableService,error:"Unable to enable due to unauthorized referencing components."}})):I(Ir())))),this.submitDisableRequest$=R(()=>this.actions$.pipe(P(Mr),we(()=>this.store.select(vi).pipe(_e())),N(([,s])=>this.hasUnauthorizedReferences(s.component.referencingComponents)?I(It({response:{step:me.StopReferencingComponents,error:"Unable to disable due to unauthorized referencing components."}})):I(Fr())))),this.setEnableControllerService$=R(()=>this.actions$.pipe(P(Ir),we(()=>[this.store.select(vi).pipe(_e()),this.store.select(dn)]),N(([,s,l])=>ee(this.controllerServiceStateService.setEnable(s,l.enable)).pipe(M(c=>un({response:{controllerService:c,currentStep:l.currentStep}})),G(c=>I(It({response:{step:l.currentStep,error:this.errorHelper.getErrorString(c)}}))))))),this.setEnableControllerServiceSuccess$=R(()=>this.actions$.pipe(P(un),M(s=>s.response),pe(s=>s.currentStep!==me.DisableService),N(()=>I(Nr())))),this.startPollingControllerService$=R(()=>this.actions$.pipe(P(Nr),N(()=>zt(2e3,$t).pipe(Me(this.actions$.pipe(P(Rr))))),N(()=>I(zo())))),this.pollControllerService$=R(()=>this.actions$.pipe(P(zo),we(()=>[this.store.select(vi).pipe(_e()),this.store.select(dn)]),N(([,s,l])=>ee(this.controllerServiceStateService.getControllerService(s.id)).pipe(M(c=>pn({response:{controllerService:c,currentStep:this.getNextStep(l,s)},previousStep:l.currentStep})),G(c=>I(It({response:{step:l.currentStep,error:this.errorHelper.getErrorString(c)}}))))))),this.setEnableStepComplete$=R(()=>this.actions$.pipe(P(pn),pe(s=>{let l=s.response,c=s.previousStep;return l.currentStep!==c}),N(s=>{switch(s.response.currentStep){case me.DisableReferencingServices:case me.EnableReferencingServices:return I($o());case me.DisableService:case me.EnableService:return I(Ir());case me.StopReferencingComponents:case me.StartReferencingComponents:return I(Fr());case me.Completed:default:return I(Rr())}}))),this.updateReferencingServices$=R(()=>this.actions$.pipe(P($o),we(()=>[this.store.select(vi),this.store.select(dn)]),N(([,s,l])=>s?ee(this.controllerServiceStateService.updateReferencingServices(s,l.enable)).pipe(M(c=>Pr({response:{referencingComponents:c.controllerServiceReferencingComponents,currentStep:l.currentStep}})),G(c=>I(It({response:{step:l.currentStep,error:this.errorHelper.getErrorString(c)}})))):I(Or({title:"Enable Service",message:"Controller Service not initialized"}))))),this.updateReferencingComponents$=R(()=>this.actions$.pipe(P(Fr),we(()=>[this.store.select(vi),this.store.select(dn)]),N(([,s,l])=>s?ee(this.controllerServiceStateService.updateReferencingSchedulableComponents(s,l.enable)).pipe(M(c=>mn({response:{referencingComponents:c.controllerServiceReferencingComponents,currentStep:l.currentStep}})),G(c=>I(It({response:{step:l.currentStep,error:this.errorHelper.getErrorString(c)}})))):I(Or({title:"Enable Service",message:"Controller Service not initialized"}))))),this.updateReferencingComponentsSuccess$=R(()=>this.actions$.pipe(P(mn),M(s=>s.response),pe(s=>s.currentStep!==me.StartReferencingComponents),N(()=>I(Nr())))),this.setEnableStepFailure$=R(()=>this.actions$.pipe(P(It),N(()=>I(Rr())))),this.showOkDialog$=R(()=>this.actions$.pipe(P(Or),le(s=>{this.dialog.open(or,F(w({},Zt),{data:{title:s.title,message:s.message}}))})),{dispatch:!1})}hasUnauthorizedReferences(e){if(e.length===0)return!1;if(e.some(o=>!o.permissions.canRead||!o.permissions.canWrite))return!0;let r=e.filter(o=>o.component.referenceType==="ControllerService");return r.length===0?!1:r.some(o=>this.hasUnauthorizedReferences(o.component.referencingComponents))}getNextStep(e,n){switch(e.currentStep){case me.EnableService:return this.isServiceActionComplete(n,["ENABLED","ENABLING"])?e.scope==="SERVICE_ONLY"?me.Completed:me.EnableReferencingServices:e.currentStep;case me.EnableReferencingServices:return this.isReferencingServicesActionComplete(n.component.referencingComponents,["ENABLED","ENABLING"])?me.StartReferencingComponents:e.currentStep;case me.StartReferencingComponents:return me.Completed;case me.StopReferencingComponents:return this.areReferencingComponentsStopped(n.component.referencingComponents)?me.DisableReferencingServices:e.currentStep;case me.DisableReferencingServices:return this.isReferencingServicesActionComplete(n.component.referencingComponents,["DISABLED"])?me.DisableService:e.currentStep;case me.DisableService:return this.isServiceActionComplete(n,["DISABLED"])?me.Completed:e.currentStep;default:return e.currentStep}}isServiceActionComplete(e,n){return n.includes(e.status.runStatus)}isReferencingServicesActionComplete(e,n){let r=e.filter(o=>o.component.referenceType==="ControllerService");return r.length===0?!0:r.some(o=>{let a=n.includes(o.component.state);return a&&this.isReferencingServicesActionComplete(o.component.referencingComponents,n)})}areReferencingComponentsStopped(e){if(e.filter(a=>a.component.referenceType==="Processor"||a.component.referenceType==="ReportingTask").some(a=>{let s=a.component;return s.state==="RUNNING"||s.activeThreadCount&&s.activeThreadCount>0}))return!1;let o=e.filter(a=>a.component.referenceType==="ControllerService");return o.length===0?!0:o.some(a=>this.areReferencingComponentsStopped(a.component.referencingComponents))}static{this.\u0275fac=function(n){return new(n||t)(E(fe),E(ae),E(Fe),E(ip),E(Se))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var rp=(()=>{class t{static{this.API="../nifi-api"}constructor(e,n){this.httpClient=e,this.client=n}getSystemDiagnostics(e){if(e){let n={nodewise:!0};return this.httpClient.get(`${t.API}/system-diagnostics`,{params:n})}return this.httpClient.get(`${t.API}/system-diagnostics`)}static{this.\u0275fac=function(n){return new(n||t)(E(Be),E(ii))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function rg(t,i){if(t&1&&(y(0,"div",10)(1,"div"),S(2),g(),y(3,"div",11),S(4),g()()),t&2){let e=i.$implicit;C(2),Ae(e.name),C(2),ki(" ",e.collectionCount," times (",e.collectionTime,") ")}}function og(t,i){if(t&1&&(y(0,"div",9),qt(1,rg,5,3,"div",10,ui),g()),t&2){let e=H(2);C(),Kt(e.sortedGarbageCollections)}}function sg(t,i){if(t&1&&(y(0,"div")(1,"div",18),S(2),g(),Y(3,"mat-progress-bar",19),y(4,"div",11),S(5),g()()),t&2){let e=i.$implicit,n=H(2);C(2),te("Usage for ",e.identifier,":"),C(),q("value",n.getRepositoryStorageUsagePercent(e)),C(2),mi(" ",e.utilization," (",e.usedSpace," of ",e.totalSpace,") ")}}function ag(t,i){if(t&1&&(y(0,"div")(1,"div",18),S(2),g(),Y(3,"mat-progress-bar",19),y(4,"div",11),S(5),g()()),t&2){let e=i.$implicit,n=H(2);C(2),te("Usage for ",e.identifier,":"),C(),q("value",n.getRepositoryStorageUsagePercent(e)),C(2),mi(" ",e.utilization," (",e.usedSpace," of ",e.totalSpace,") ")}}function lg(t,i){if(t&1){let e=ve();y(0,"h2",0),S(1,"System Diagnostics"),g(),Y(2,"context-error-banner",1),y(3,"div",2)(4,"mat-tab-group",3),Na("selectedIndexChange",function(r){ne(e);let o=H();return Fa(o.selectedIndex,r)||(o.selectedIndex=r),re(r)}),ie("selectedIndexChange",function(r){ne(e);let o=H();return re(o.tabChanged(r))}),y(5,"mat-tab",4)(6,"mat-dialog-content")(7,"div",5)(8,"div",6)(9,"div",7)(10,"section")(11,"div",8),S(12),g(),y(13,"div",9)(14,"div",10)(15,"div"),S(16,"Max"),g(),y(17,"div",11),S(18),g()(),y(19,"div",10)(20,"div"),S(21,"Total"),g(),y(22,"div",11),S(23),g()(),y(24,"div",10)(25,"div"),S(26,"Used"),g(),y(27,"div",11),S(28),g()(),y(29,"div",10)(30,"div"),S(31,"Free"),g(),y(32,"div",11),S(33),g()()()(),y(34,"section")(35,"div",8),S(36,"Garbage Collection"),g(),U(37,og,3,0,"div",9),g()(),y(38,"div",7)(39,"section")(40,"div",8),S(41,"Non Heap"),g(),y(42,"div",9)(43,"div",10)(44,"div"),S(45,"Max"),g(),y(46,"div",11),S(47),g()(),y(48,"div",10)(49,"div"),S(50,"Total"),g(),y(51,"div",11),S(52),g()(),y(53,"div",10)(54,"div"),S(55,"Used"),g(),y(56,"div",11),S(57),g()(),y(58,"div",10)(59,"div"),S(60,"Free"),g(),y(61,"div",11),S(62),g()()()(),y(63,"section")(64,"div",8),S(65,"Runtime"),g(),y(66,"div",9)(67,"div",10)(68,"div"),S(69,"Uptime"),g(),y(70,"div",11),S(71),g()()()()()()()()(),y(72,"mat-tab",12)(73,"mat-dialog-content")(74,"div",13)(75,"div",14)(76,"div",7)(77,"div",9)(78,"div",10)(79,"div"),S(80,"Available Cores"),g(),y(81,"div",11),S(82),g()()()(),y(83,"div",7)(84,"div",9)(85,"div",10)(86,"div",15)(87,"div"),S(88,"Core Load Average"),g(),Y(89,"i",16),g(),y(90,"div",11),S(91),g()()()()(),y(92,"section",17)(93,"div",8),S(94,"FlowFile Repository Usage"),g(),y(95,"div")(96,"div",18),S(97,"Usage:"),g(),Y(98,"mat-progress-bar",19),y(99,"div",11),S(100),g()()(),y(101,"section",17)(102,"div",8),S(103,"Content Repository Usage"),g(),y(104,"div",20),qt(105,sg,6,5,"div",null,ui),g()(),y(107,"section",17)(108,"div",8),S(109,"Provenance Repository Usage"),g(),y(110,"div",20),qt(111,ag,6,5,"div",null,ui),g()()()()(),y(113,"mat-tab",21)(114,"mat-dialog-content")(115,"div",5)(116,"div",22)(117,"section")(118,"div",8),S(119,"NiFi"),g(),y(120,"dl",23)(121,"dt",24),S(122,"NiFi Version"),g(),y(123,"dd"),S(124),g(),y(125,"dt",24),S(126,"Tag"),g(),y(127,"dd"),S(128),g(),y(129,"dt",24),S(130,"Build Date/Time"),g(),y(131,"dd"),S(132),g(),y(133,"dt",24),S(134,"Branch"),g(),y(135,"dd"),S(136),g(),y(137,"dt",24),S(138,"Revision"),g(),y(139,"dd"),S(140),g()()(),y(141,"section")(142,"div",8),S(143,"Java"),g(),y(144,"dl",23)(145,"dt",24),S(146,"Version"),g(),y(147,"dd"),S(148),g(),y(149,"dt",24),S(150,"Vendor"),g(),y(151,"dd"),S(152),g()()(),y(153,"section")(154,"div",8),S(155,"Operating System"),g(),y(156,"dl",23)(157,"dt",24),S(158,"Name"),g(),y(159,"dd"),S(160),g(),y(161,"dt",24),S(162,"Version"),g(),y(163,"dd"),S(164),g(),y(165,"dt",24),S(166,"Architecture"),g(),y(167,"dd"),S(168),g()()()()()()()(),y(169,"mat-dialog-actions")(170,"div",25)(171,"div",26)(172,"button",27),ie("click",function(){ne(e);let r=H();return re(r.refreshSystemDiagnostics())}),Y(173,"i",28),He(174,"async"),g(),y(175,"div"),S(176,"Last updated:"),g(),y(177,"div",11),S(178),He(179,"async"),g()(),y(180,"div")(181,"button",29),S(182,"Close"),g()()()()()}if(t&2){let e=i,n=H();C(2),q("context",n.ErrorContextKey.SYSTEM_DIAGNOSTICS),C(2),Pa("selectedIndex",n.selectedIndex),C(8),te(" Heap (",e.heapUtilization,") "),C(6),te(" ",e.maxHeap," "),C(5),te(" ",e.totalHeap," "),C(5),te(" ",e.usedHeap," "),C(5),te(" ",e.freeHeap," "),C(4),W(n.sortedGarbageCollections?37:-1),C(10),te(" ",e.maxNonHeap," "),C(5),te(" ",e.totalNonHeap," "),C(5),te(" ",e.usedNonHeap," "),C(5),te(" ",e.freeNonHeap," "),C(9),te(" ",e.uptime," "),C(11),te(" ",e.availableProcessors," "),C(7),q("tooltipComponentType",n.TextTip),C(2),te(" ",n.formatFloat(e.processorLoadAverage)," "),C(7),q("value",n.getRepositoryStorageUsagePercent(e.flowFileRepositoryStorageUsage)),C(2),mi(" ",e.flowFileRepositoryStorageUsage.utilization," (",e.flowFileRepositoryStorageUsage.usedSpace," of ",e.flowFileRepositoryStorageUsage.totalSpace,") "),C(5),Kt(e.contentRepositoryStorageUsage),C(6),Kt(e.provenanceRepositoryStorageUsage),C(13),Ae(e.versionInfo.niFiVersion),C(4),Ae(e.versionInfo.buildTag),C(4),Ae(e.versionInfo.buildTimestamp),C(4),Ae(e.versionInfo.buildBranch),C(4),Ae(e.versionInfo.buildRevision),C(8),Ae(e.versionInfo.javaVersion),C(4),Ae(e.versionInfo.javaVendor),C(8),Ae(e.versionInfo.osName),C(4),Ae(e.versionInfo.osVersion),C(4),Ae(e.versionInfo.osArchitecture),C(5),mt("fa-spin",Le(174,33,n.status$)==="loading"),C(5),Ae(Le(179,35,n.loadedTimestamp$))}}var op=(()=>{class t extends Fc{constructor(e,n){super("system-diagnostics-selected-index"),this.store=e,this.nifiCommon=n,this.systemDiagnostics$=this.store.select(Xc),this.loadedTimestamp$=this.store.select(Zc),this.status$=this.store.select(Jc),this.sortedGarbageCollections=null,this.TextTip=ti,this.ErrorContextKey=Qe}ngOnInit(){this.systemDiagnostics$.pipe(_e()).subscribe(e=>{let n=e.aggregateSnapshot.garbageCollection.slice();n.sort((r,o)=>this.nifiCommon.compareString(r.name,o.name)),this.sortedGarbageCollections=n})}refreshSystemDiagnostics(){this.store.dispatch(Hi({request:{nodewise:!1,errorStrategy:"banner"}}))}formatFloat(e){return this.nifiCommon.formatFloat(e)}getRepositoryStorageUsagePercent(e){return e.usedSpaceBytes/e.totalSpaceBytes*100}static{this.\u0275fac=function(n){return new(n||t)(Q(ae),Q(Ve))}}static{this.\u0275cmp=ye({type:t,selectors:[["system-diagnostics-dialog"]],standalone:!0,features:[ze,be],decls:2,vars:3,consts:[["mat-dialog-title",""],[3,"context"],[1,"system-diagnostics"],[3,"selectedIndexChange","selectedIndex"],["label","JVM"],[1,"dialog-tab-content","w-full"],[1,"flex","gap-y-4"],[1,"flex","flex-col","flex-1","gap-y-4"],[1,"font-bold","primary-color"],[1,"flex","flex-col","gap-y-3"],[1,"flex","flex-col"],[1,"tertiary-color","font-medium"],["label","System"],[1,"dialog-tab-content","gap-y-6","w-full","flex","flex-col"],[1,"flex"],[1,"flex","gap-x-3","items-center"],["nifiTooltip","","tooltipInputData","Core load average for the last minute. Not available on all platforms.",1,"fa","fa-info-circle","primary-color",3,"tooltipComponentType"],[1,"flex","flex-col","pr-4"],[1,"capitalize"],["mode","determinate",3,"value"],[1,"repository-storage-container","flex","flex-col","gap-y-2"],["label","Version"],[1,"flex","flex-col","gap-y-4"],[1,"setting-attributes-list"],[1,"font-bold"],[1,"flex","flex-1","justify-between"],[1,"text-sm","flex","items-center","gap-x-2"],["mat-icon-button","",1,"primary-icon-button",3,"click"],[1,"fa","fa-refresh"],["mat-button","","mat-dialog-close",""]],template:function(n,r){if(n&1&&(U(0,lg,183,37),He(1,"async")),n&2){let o;W((o=(o=Le(1,1,r.systemDiagnostics$))==null?null:o.aggregateSnapshot)?0:-1,o)}},dependencies:[rt,St,xc,bc,Ec,Ct,qe,Ke,We,Ge,Mt,Ne,Dt,ei,cu,Br,Bi],styles:[`.system-diagnostics[_ngcontent-%COMP%]{--mdc-text-button-container-height: 32px;--mdc-filled-button-container-height: 32px;--mdc-protected-button-container-height: 32px;--mdc-outlined-button-container-height: 32px;--mat-text-button-touch-target-display: block;--mat-filled-button-touch-target-display: block;--mat-protected-button-touch-target-display: block;--mat-outlined-button-touch-target-display: block}.system-diagnostics[_ngcontent-%COMP%]   .setting-attributes-list[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{float:left;clear:left;padding:0 .5em .2em 0}.system-diagnostics[_ngcontent-%COMP%]   .setting-attributes-list[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{margin-left:9em;padding-bottom:.2em}
















`]})}}return t})();var sp=(()=>{class t{constructor(e,n,r,o,a){this.actions$=e,this.store=n,this.systemDiagnosticsService=r,this.dialog=o,this.errorHelper=a,this.reloadSystemDiagnostics$=R(()=>this.actions$.pipe(P(Hi),M(s=>s.request),N(s=>ee(this.systemDiagnosticsService.getSystemDiagnostics(s.nodewise)).pipe(M(l=>fr({response:{systemDiagnostics:l.systemDiagnostics}})),G(l=>{let c=this.errorHelper.getErrorString(l,"Failed to reload System Diagnostics.");return s.errorStrategy==="snackbar"?I(Li({error:c})):I(on({error:c}))}))))),this.getSystemDiagnosticsAndOpenDialog$=R(()=>this.actions$.pipe(P(hr),M(s=>s.request),N(s=>ee(this.systemDiagnosticsService.getSystemDiagnostics(s.nodewise)).pipe(M(l=>rn({response:{systemDiagnostics:l.systemDiagnostics}})),G(l=>I(Li({error:this.errorHelper.getErrorString(l,"Failed to load System Diagnostics.")}))))))),this.loadSystemDiagnosticsSuccess$=R(()=>this.actions$.pipe(P(rn),N(()=>I(Bo())))),this.openSystemDiagnosticsDialog$=R(()=>this.actions$.pipe(P(Bo),le(()=>{this.dialog.open(op,w({},zn)).afterClosed().subscribe(()=>{this.store.dispatch(gr())})})),{dispatch:!1}),this.systemDiagnosticsBannerError$=R(()=>this.actions$.pipe(P(on),M(s=>s.error),N(s=>I(Ht({errorContext:{errors:[s],context:Qe.SYSTEM_DIAGNOSTICS}}))))),this.systemDiagnosticsSnackbarError$=R(()=>this.actions$.pipe(P(Li),M(s=>s.error),N(s=>I(Ee({error:s})))))}static{this.\u0275fac=function(n){return new(n||t)(E(fe),E(ae),E(rp),E(Fe),E(Se))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var ap=(()=>{class t{constructor(e,n,r){this.actions$=e,this.flowConfigurationService=n,this.errorHelper=r,this.loadFlowConfiguration$=R(()=>this.actions$.pipe(P(cc),N(()=>ee(this.flowConfigurationService.getFlowConfiguration().pipe(M(o=>uc({response:o})),G(o=>I(Ee({error:this.errorHelper.getErrorString(o,"Failed to load Flow Configuration.")}))))))))}static{this.\u0275fac=function(n){return new(n||t)(E(fe),E(Qc),E(Se))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var lp=(()=>{class t{constructor(e,n){this.httpClient=e,this.nifiCommon=n}getComponentState(e){return this.httpClient.get(`${this.nifiCommon.stripProtocol(e.componentUri)}/state`)}clearComponentState(e){return this.httpClient.post(`${this.nifiCommon.stripProtocol(e.componentUri)}/state/clear-requests`,{})}static{this.\u0275fac=function(n){return new(n||t)(E(Be),E(Ve))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var vo=Rn(ho),cp=Ot(vo,t=>t.componentState),up=Ot(vo,t=>t.componentName),Xs=Ot(vo,t=>t.componentUri),mp=Ot(vo,t=>t.canClear);var ug=t=>({value:t});function mg(t,i){t&1&&(y(0,"div",4)(1,"div"),S(2,"Name"),g(),y(3,"div",5),S(4),g()()),t&2&&(C(4),Ae(i))}function pg(t,i){if(t&1){let e=ve();y(0,"div")(1,"a",26),ie("click",function(){ne(e);let r=H(2);return re(r.clearState())}),S(2,"Clear state"),g()()}}function dg(t,i){if(t&1&&U(0,pg,3,0,"div"),t&2){let e=H();W(i.value&&e.totalEntries>0?0:-1)}}function fg(t,i){t&1&&(y(0,"th",27),S(1,"Key"),g())}function hg(t,i){if(t&1&&(y(0,"td",28),S(1),g()),t&2){let e=i.$implicit;C(),te(" ",e.key," ")}}function gg(t,i){t&1&&(y(0,"th",27),S(1,"Value"),g())}function yg(t,i){if(t&1&&(y(0,"td",29),S(1),g()),t&2){let e=i.$implicit;q("title",e.value),C(),te(" ",e.value," ")}}function vg(t,i){t&1&&(y(0,"th",27),S(1,"Scope"),g())}function Sg(t,i){if(t&1&&(y(0,"td",29),S(1),g()),t&2){let e=i.$implicit;q("title",e.scope),C(),te(" ",e.scope," ")}}function _g(t,i){t&1&&(Gt(0,20),U(1,vg,2,0,"th",16)(2,Sg,2,2,"td",19),Wt())}function Cg(t,i){t&1&&Y(0,"tr",30)}function bg(t,i){if(t&1&&Y(0,"tr",31),t&2){let e=i.even;mt("even",e)}}function Eg(t,i){t&1&&(y(0,"div",23),S(1,"Showing partial results"),g())}var pp=(()=>{class t extends bt{constructor(e,n,r){super(),this.store=e,this.formBuilder=n,this.nifiCommon=r,this.initialSortColumn="key",this.initialSortDirection="asc",this.componentName$=this.store.select(up).pipe(_e()),this.canClear$=this.store.select(mp).pipe(_e()),this.displayedColumns=["key","value"],this.dataSource=new en,this.stateDescription="",this.totalEntries=0,this.filteredEntries=0,this.partialResults=!1,this.destroyRef=Ce(Ai),this.ErrorContextKey=Qe,this.filterForm=this.formBuilder.group({filterTerm:""}),this.store.select(cp).pipe(_e(),Ue()).subscribe(o=>{this.stateDescription=o.stateDescription;let a=[];if(o.localState){let l=this.processStateMap(o.localState,!1);a.push(...l)}if(o.clusterState){let l=this.processStateMap(o.clusterState,!0);a.push(...l)}this.dataSource.data=this.sortStateItems(a,{active:this.initialSortColumn,direction:this.initialSortDirection}),this.filteredEntries=a.length;let s=this.filterForm.get("filterTerm")?.value;s?.length>0&&this.applyFilter(s)}),this.store.select(ln).pipe(_e(),Ue()).subscribe(o=>{if(o.connectedToCluster)this.displayedColumns.includes("scope")||this.displayedColumns.splice(this.displayedColumns.length,0,"scope");else{let a=this.displayedColumns.indexOf("scope");a>-1&&this.displayedColumns.splice(a,1)}})}ngAfterViewInit(){this.filterForm.get("filterTerm")?.valueChanges.pipe(ci(500),Ue(this.destroyRef)).subscribe(e=>{this.applyFilter(e)})}processStateMap(e,n){let r=e.state?e.state:[];return r.length!==e.totalEntryCount&&(this.partialResults=!0),this.totalEntries+=e.totalEntryCount,r.map(o=>({key:o.key,value:o.value,scope:n?"Cluster":o.clusterNodeAddress}))}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase(),this.filteredEntries=this.dataSource.filteredData.length}sortData(e){this.dataSource.data=this.sortStateItems(this.dataSource.data,e)}sortStateItems(e,n){return e?e.slice().sort((r,o)=>{let a=n.direction==="asc",s=0;switch(n.active){case"key":s=this.nifiCommon.compareString(r.key,o.key);break;case"value":s=this.nifiCommon.compareString(r.value,o.value);break;case"scope":r.scope&&o.scope&&(s=this.nifiCommon.compareString(r.scope,o.scope));break}return s*(a?1:-1)}):[]}clearState(){this.store.dispatch(Tr())}static{this.\u0275fac=function(n){return new(n||t)(Q(ae),Q(kt),Q(Ve))}}static{this.\u0275cmp=ye({type:t,selectors:[["component-state"]],inputs:{initialSortColumn:"initialSortColumn",initialSortDirection:"initialSortDirection"},standalone:!0,features:[ze,be],decls:41,vars:21,consts:[[1,"component-state-dialog"],["mat-dialog-title",""],[3,"context"],[1,"dialog-content","flex","flex-col","justify-between","gap-y-5"],[1,"flex","flex-col"],[1,"tertiary-color","font-medium"],[1,"flex","flex-1","flex-col"],[1,"flex","flex-col","my-2",3,"formGroup"],[1,"flex","justify-between","items-center"],["subscriptSizing","dynamic"],["matInput","","type","text","formControlName","filterTerm",1,"small"],[1,"my-2","tertiary-color","leading-none","font-medium"],[1,"listing-table","flex-1","relative"],[1,"absolute","inset-0","overflow-y-auto","overflow-x-hidden"],["mat-table","","matSort","","matSortDisableClear","",3,"matSortChange","dataSource","matSortActive","matSortDirection"],["matColumnDef","key"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["mat-cell","",3,"title",4,"matCellDef"],["matColumnDef","scope"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"even",4,"matRowDef","matRowDefColumns"],[1,"-mt-3"],["align","end"],["mat-button","","mat-dialog-close",""],[3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",3,"title"],["mat-header-row",""],["mat-row",""]],template:function(n,r){if(n&1&&(y(0,"div",0)(1,"h2",1),S(2,"Component State"),g(),Y(3,"context-error-banner",2),y(4,"mat-dialog-content")(5,"div",3),U(6,mg,5,1,"div",4),He(7,"async"),y(8,"div",4)(9,"div"),S(10,"Description"),g(),y(11,"div",5),S(12),g()(),y(13,"div",6)(14,"div")(15,"form",7)(16,"div",8)(17,"mat-form-field",9)(18,"mat-label"),S(19,"Filter"),g(),Y(20,"input",10),g(),U(21,dg,1,1),He(22,"async"),g()(),y(23,"div",11),S(24),g()(),y(25,"div",12)(26,"div",13)(27,"table",14),ie("matSortChange",function(a){return r.sortData(a)}),Gt(28,15),U(29,fg,2,0,"th",16)(30,hg,2,1,"td",17),Wt(),Gt(31,18),U(32,gg,2,0,"th",16)(33,yg,2,2,"td",19),Wt(),U(34,_g,3,0,"ng-container",20)(35,Cg,1,0,"tr",21)(36,bg,1,2,"tr",22),g()()()(),U(37,Eg,2,0,"div",23),g()(),y(38,"mat-dialog-actions",24)(39,"button",25),S(40,"Close"),g()()()),n&2){let o,a;C(3),q("context",r.ErrorContextKey.COMPONENT_STATE),C(3),W((o=Le(7,15,r.componentName$))?6:-1,o),C(6),te(" ",r.stateDescription," "),C(3),q("formGroup",r.filterForm),C(6),W((a=pi(19,ug,Le(22,17,r.canClear$)))?21:-1,a),C(3),ki(" Displaying ",r.filteredEntries," of ",r.totalEntries," "),C(3),q("dataSource",r.dataSource)("matSortActive",r.initialSortColumn)("matSortDirection",r.initialSortDirection),C(7),W(r.displayedColumns.includes("scope")?34:-1),C(),q("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),C(),q("matRowDefColumns",r.displayedColumns),C(),W(r.partialResults?37:-1)}},dependencies:[Mt,Ne,Ct,qe,Ke,We,Ge,er,Un,Kn,Yn,Gn,qn,Xn,Wn,Qn,Zn,Jn,kr,wc,kc,St,st,Tt,tr,Et,xt,At,wt,Ni,Fi,Pi,rr,nr,Bi],styles:[".component-state-dialog[_ngcontent-%COMP%]{--mdc-text-button-container-height: 32px;--mdc-filled-button-container-height: 32px;--mdc-protected-button-container-height: 32px;--mdc-outlined-button-container-height: 32px;--mat-text-button-touch-target-display: block;--mat-filled-button-touch-target-display: block;--mat-protected-button-touch-target-display: block;--mat-outlined-button-touch-target-display: block}.component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-key[_ngcontent-%COMP%]{width:200px}"]})}}return t})();var dp=(()=>{class t{constructor(e,n,r,o,a){this.actions$=e,this.store=n,this.componentStateService=r,this.dialog=o,this.errorHelper=a,this.getComponentStateAndOpenDialog$=R(()=>this.actions$.pipe(P(xr),M(s=>s.request),N(s=>ee(this.componentStateService.getComponentState({componentUri:s.componentUri}).pipe(M(l=>cn({response:{componentState:l.componentState}})),G(l=>I(Ee({error:this.errorHelper.getErrorString(l,`Failed to get the component state for ${s.componentName}.`)})))))))),this.loadComponentStateSuccess$=R(()=>this.actions$.pipe(P(cn),M(s=>s.response),N(()=>I(Vo())))),this.openComponentStateDialog$=R(()=>this.actions$.pipe(P(Vo),le(()=>{this.dialog.open(pp,F(w({},zn),{autoFocus:!1})).afterClosed().subscribe(()=>{this.store.dispatch(wr())})})),{dispatch:!1}),this.clearComponentState$=R(()=>this.actions$.pipe(P(Tr),we(()=>this.store.select(Xs).pipe(_e())),N(([,s])=>ee(this.componentStateService.clearComponentState({componentUri:s}).pipe(M(()=>jo()),G(l=>I(Ht({errorContext:{errors:[this.errorHelper.getErrorString(l,"Failed to clear the component state.")],context:Qe.COMPONENT_STATE}})))))))),this.reloadComponentState$=R(()=>this.actions$.pipe(P(jo),we(()=>this.store.select(Xs).pipe(_e())),N(([,s])=>ee(this.componentStateService.getComponentState({componentUri:s}).pipe(M(l=>Ar({response:{componentState:l.componentState}})),G(l=>I(Ht({errorContext:{errors:[this.errorHelper.getErrorString(l,"Failed to reload the component state.")],context:Qe.COMPONENT_STATE}}))))))))}static{this.\u0275fac=function(n){return new(n||t)(E(fe),E(ae),E(lp),E(Fe),E(Se))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function xg(t,i){if(t&1){let e=ve();y(0,"div",1)(1,"button",2),ie("click",function(){ne(e);let r=H();return re(r.action())}),S(2),g()()}if(t&2){let e=H();C(2),te(" ",e.data.action," ")}}var Tg=["label"];function Ag(t,i){}var wg=Math.pow(2,31)-1,An=class{constructor(i,e){this._overlayRef=e,this._afterDismissed=new gt,this._afterOpened=new gt,this._onAction=new gt,this._dismissedByAction=!1,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,wg))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},fp=new Ut("MatSnackBarData"),Gi=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},kg=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Dn({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}}return t})(),Dg=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Dn({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}}return t})(),Mg=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Dn({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}}return t})(),hp=(()=>{class t{constructor(e,n){this.snackBarRef=e,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(n){return new(n||t)(Q(An),Q(fp))}}static{this.\u0275cmp=ye({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[be],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,r){n&1&&(y(0,"div",0),S(1),g(),U(2,xg,3,1,"div",1)),n&2&&(C(),te(" ",r.data.message,`
`),C(),W(r.hasAction?2:-1))},dependencies:[Ne,kg,Dg,Mg],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return t})(),Ig={snackBarState:wl("state",[Ro("void, hidden",fi({transform:"scale(0.8)",opacity:0})),Ro("visible",fi({transform:"scale(1)",opacity:1})),Oo("* => visible",No("150ms cubic-bezier(0, 0, 0.2, 1)")),Oo("* => void, * => hidden",No("75ms cubic-bezier(0.4, 0.0, 1, 1)",fi({opacity:0})))])},Pg=0,Fg=(()=>{class t extends dl{constructor(e,n,r,o,a){super(),this._ngZone=e,this._elementRef=n,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=a,this._document=Ce(In),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new gt,this._onExit=new gt,this._onEnter=new gt,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${Pg++}`,this.attachDomPortal=s=>{this._assertNotAttached();let l=this._portalOutlet.attachDomPortal(s);return this._afterPortalAttached(),l},a.politeness==="assertive"&&!a.announcementMessage?this._live="assertive":a.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}onAnimationEnd(e){let{fromState:n,toState:r}=e;if((r==="void"&&n!=="void"||r==="hidden")&&this._completeExit(),r==="visible"){let o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(a=>e.classList.add(a)):e.classList.add(n)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let o=n[r],a=o.getAttribute("aria-owns");this._trackedModals.add(o),a?a.indexOf(e)===-1&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let n=e.getAttribute("aria-owns");if(n){let r=n.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&n){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),n.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(n){return new(n||t)(Q(wi),Q(va),Q(Mn),Q(ml),Q(Gi))}}static{this.\u0275cmp=ye({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,r){if(n&1&&(Qi(Po,7),Qi(Tg,7)),n&2){let o;Yi(o=Xi())&&(r._portalOutlet=o.first),Yi(o=Xi())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(n,r){n&1&&Da("@state.done",function(a){return r.onAnimationEnd(a)}),n&2&&ka("@state",r._animationState)},standalone:!0,features:[ze,be],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(y(0,"div",1)(1,"div",2,0)(3,"div",3),U(4,Ag,0,0,"ng-template",4),g(),Y(5,"div"),g()()),n&2&&(C(5),Ta("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Po],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[Ig.snackBarState]}})}}return t})();function Ng(){return new Gi}var Rg=new Ut("mat-snack-bar-default-options",{providedIn:"root",factory:Ng}),Zs=(()=>{class t{get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,n,r,o,a,s){this._overlay=e,this._live=n,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=a,this._defaultConfig=s,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=hp,this.snackBarContainerComponent=Fg,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",r){let o=w(w({},this._defaultConfig),r);return o.data={message:e,action:n},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){let r=n&&n.viewContainerRef&&n.viewContainerRef.injector,o=Wi.create({parent:r||this._injector,providers:[{provide:Gi,useValue:n}]}),a=new Io(this.snackBarContainerComponent,n.viewContainerRef,o),s=e.attach(a);return s.instance.snackBarConfig=n,s.instance}_attach(e,n){let r=w(w(w({},new Gi),this._defaultConfig),n),o=this._createOverlay(r),a=this._attachSnackBarContainer(o,r),s=new An(a,o);if(e instanceof _a){let l=new pl(e,null,{$implicit:r.data,snackBarRef:s});s.instance=a.attachTemplatePortal(l)}else{let l=this._createInjector(r,s),c=new Io(e,void 0,l),d=a.attachComponentPortal(c);s.instance=d.instance}return this._breakpointObserver.observe(bl.HandsetPortrait).pipe(Me(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(s,r),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration))}_createOverlay(e){let n=new hl;n.direction=e.direction;let r=this._overlay.position().global(),o=e.direction==="rtl",a=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,s=!a&&e.horizontalPosition!=="center";return a?r.left("0"):s?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(e,n){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Wi.create({parent:r||this._injector,providers:[{provide:An,useValue:n},{provide:fp,useValue:e.data}]})}static{this.\u0275fac=function(n){return new(n||t)(E(yl),E(xl),E(Wi),E(Cl),E(t,12),E(Rg))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var gp=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=vt({type:t})}static{this.\u0275inj=yt({providers:[Zs],imports:[_l,fl,Mt,Fo,hp,Fo]})}}return t})();var yp=(()=>{class t{constructor(e,n,r){this.actions$=e,this.router=n,this.snackBar=r,this.fullScreenError$=R(()=>this.actions$.pipe(P(ot),M(o=>o.skipReplaceUrl),le(o=>{o?this.router.navigate(["/error"]):this.router.navigate(["/error"],{replaceUrl:!0})})),{dispatch:!1}),this.snackBarError$=R(()=>this.actions$.pipe(P(Ee),M(o=>o.error),le(o=>{this.snackBar.open(o,"Dismiss",{duration:3e4})})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||t)(E(fe),E(Qt),E(Zs))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var vp=(()=>{class t{constructor(e,n){this.actions$=e,this.router=n,this.navigateToComponentDocumentation$=R(()=>this.actions$.pipe(P(Ac),M(r=>r.request),le(r=>{let o=r.parameters;this.router.navigate(["/documentation",o.componentType,o.group,o.artifact,o.version,o.type],{state:{backNavigation:r.backNavigation}})})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||t)(E(fe),E(Qt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var Sp=(()=>{class t{constructor(e,n,r,o,a){this.actions$=e,this.clusterService=n,this.store=r,this.dialog=o,this.errorHelper=a,this.loadClusterSummary$=R(()=>this.actions$.pipe(P(sn),we(()=>this.store.select(ln)),N(([,s])=>ee(this.clusterService.getClusterSummary().pipe(M(l=>{let c=l.clusterSummary,d=c.connectedToCluster;return s?s.connectedToCluster!==c.connectedToCluster&&this.store.dispatch(yi({connectedToCluster:d})):c.clustered&&!c.connectedToCluster&&this.store.dispatch(yi({connectedToCluster:d})),_r({response:l})}),G(l=>I(Ee({error:this.errorHelper.getErrorString(l,"Failed to load cluster summary")})))))))),this.startProcessGroupPolling$=R(()=>this.actions$.pipe(P(pc),N(()=>zt(3e4,$t).pipe(Me(this.actions$.pipe(P(Sr))))),N(()=>I(sn())))),this.acknowledgeClusterConnectionChange$=R(()=>this.actions$.pipe(P(yi),la(2e3),le(({connectedToCluster:s})=>{let l=s?"This node just joined the cluster. Any modifications to the data flow made here will replicate across the cluster.":"This node is currently not connected to the cluster. Any modifications to the data flow made here will not replicate across the cluster.",c=this.dialog.open(or,F(w({},Zt),{disableClose:!0,data:{title:"Cluster Connection",message:l}}));c.componentInstance.ok.pipe(Me(c.afterClosed())).subscribe(()=>{s?this.store.dispatch(an({disconnectionAcknowledged:!1})):this.store.dispatch(an({disconnectionAcknowledged:!0}))})})),{dispatch:!1}),this.searchCluster$=R(()=>this.actions$.pipe(P(fc),M(s=>s.request),we(()=>this.store.select(ln).pipe(_e(),pe(s=>s.connectedToCluster))),N(([s])=>ee(this.clusterService.searchCluster(s.q)).pipe(M(l=>Cr({response:l})),G(l=>I(Ee({error:this.errorHelper.getErrorString(l,"Failed to search cluster summary")})))))))}static{this.\u0275fac=function(n){return new(n||t)(E(fe),E(Wc),E(ae),E(Fe),E(Se))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var _p=(()=>{class t{static{this.API="../nifi-api"}constructor(e,n,r){this.httpClient=e,this.client=n,this.nifiCommon=r}getAnalysis(e){let n={configurationAnalysis:{componentId:e.entity.id,properties:e.properties}};return this.httpClient.post(`${this.nifiCommon.stripProtocol(e.entity.uri)}/config/analysis`,n)}initiatePropertyVerification(e){return this.httpClient.post(`${this.nifiCommon.stripProtocol(e.uri)}/config/verification-requests`,e.request)}getPropertyVerificationRequest(e,n){return this.httpClient.get(`${this.nifiCommon.stripProtocol(n)}/config/verification-requests/${e}`)}deletePropertyVerificationRequest(e,n){return this.httpClient.delete(`${this.nifiCommon.stripProtocol(n)}/config/verification-requests/${e}`)}static{this.\u0275fac=function(n){return new(n||t)(E(Be),E(ii),E(Ve))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Lg(t,i){t&1&&S(0," Complete ")}function Bg(t,i){if(t&1&&S(0),t&2){let e=H();te(" ",e.state," ")}}function Vg(t,i){if(t&1&&(y(0,"div",5),U(1,Lg,1,0)(2,Bg,1,1),g(),y(3,"div",6),Y(4,"mat-progress-bar",7),y(5,"div",5),S(6),g()()),t&2){let e=i;C(),W(e.complete?1:2),C(3),q("value",e.percentCompleted),C(2),te("",e.percentCompleted,"%")}}function jg(t,i){if(t&1){let e=ve();y(0,"button",8),ie("click",function(){let r=ne(e),o=H();return re(o.stop(r))}),S(1,"Stop"),g()}}var Cp=(()=>{class t{constructor(){this.verificationRequest$=I(null),this.stopVerification=new nt}stop(e){this.stopVerification.next(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ye({type:t,selectors:[["property-verification-progress"]],inputs:{verificationRequest$:"verificationRequest$"},outputs:{stopVerification:"stopVerification"},standalone:!0,features:[be],decls:10,vars:6,consts:[["mat-dialog-title",""],[1,"change-version-progress"],[1,"flex","flex-col","gap-y-4"],["align","end"],["mat-flat-button","","mat-dialog-close",""],[1,"tertiary-color","font-medium"],[1,"w-full","flex","flex-col","items-center"],["mode","determinate",3,"value"],["mat-flat-button","","mat-dialog-close","",3,"click"]],template:function(n,r){if(n&1&&(y(0,"h2",0),S(1,"Verifying Properties"),g(),y(2,"div",1)(3,"mat-dialog-content")(4,"div",2),U(5,Vg,7,3),He(6,"async"),g()(),y(7,"mat-dialog-actions",3),U(8,jg,2,0,"button",4),He(9,"async"),g()()),n&2){let o,a;C(5),W((o=Le(6,2,r.verificationRequest$))?5:-1,o),C(3),W((a=Le(9,4,r.verificationRequest$))?8:-1,a)}},dependencies:[rt,St,Ne,We,qe,Ge,Ke,Br]})}}return t})();var bp=(()=>{class t extends bt{constructor(e,n){super(),this.formBuilder=e,this.data=n,this.verify=new nt,this.TextTip=ti;let r=n.attributes||[];this.referencedAttributesForm=this.formBuilder.group({attributes:new hi(r)})}verifyClicked(){this.verify.next(this.referencedAttributesForm.value)}clearAttributesClicked(){this.referencedAttributesForm.reset()}isEmpty(){return(this.referencedAttributesForm.get("attributes")?.value||[]).length===0}static{this.\u0275fac=function(n){return new(n||t)(Q(kt),Q(Ii))}}static{this.\u0275cmp=ye({type:t,selectors:[["referenced-attributes-dialog"]],inputs:{createNew:"createNew"},outputs:{verify:"verify"},standalone:!0,features:[ze,be],decls:17,vars:5,consts:[["mat-dialog-title",""],[1,"referenced-attributes-form",3,"formGroup"],[1,"dialog-content","max-h-96"],["formControlName","attributes",3,"createNew","reportChangesOnly"],[1,"flex","flex-row","justify-between","items-center"],["nifiTooltip","","tooltipInputData","Supply attribute values that should be considered when performing property verification.",1,"fa","fa-info-circle","primary-color",3,"tooltipComponentType"],["mat-icon-button","","type","button",1,"primary-icon-button",3,"click","disabled"],[1,"fa","fa-eraser"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","mat-dialog-close","","cdkFocusInitial","",3,"click"]],template:function(n,r){n&1&&(y(0,"h2",0),S(1,"Referenced Attributes"),g(),y(2,"form",1)(3,"mat-dialog-content")(4,"div",2)(5,"map-table",3)(6,"div",4)(7,"div"),S(8," Enter Attribute Values "),Y(9,"i",5),g(),y(10,"button",6),ie("click",function(){return r.clearAttributesClicked()}),Y(11,"i",7),g()()()()(),y(12,"mat-dialog-actions",8)(13,"button",9),S(14,"Cancel"),g(),y(15,"button",10),ie("click",function(){return r.verifyClicked()}),S(16,"Verify"),g()()()),n&2&&(C(2),q("formGroup",r.referencedAttributesForm),C(3),q("createNew",r.createNew)("reportChangesOnly",!1),C(4),q("tooltipComponentType",r.TextTip),C(),q("disabled",r.isEmpty()))},dependencies:[rt,Ke,st,Tt,Et,xt,At,wt,Ge,We,Ne,qe,hu,ei,Dt]})}}return t})();var Ep=(()=>{class t{constructor(e,n,r,o,a,s,l){this.actions$=e,this.store=n,this.dialog=r,this.errorHelper=o,this.propertyVerificationService=a,this.propertyTableHelperService=s,this.mapTableHelperService=l,this.verifyProperties$=R(()=>this.actions$.pipe(P(Bc),M(c=>c.request),N(c=>ee(this.propertyVerificationService.getAnalysis(c)).pipe(M(d=>Vi({response:{requestContext:c,configurationAnalysis:d.configurationAnalysis}})),G(d=>I(Ee({error:this.errorHelper.getErrorString(d)}))))))),this.getConfigurationAnalysisSuccess_noExtraVerification$=R(()=>this.actions$.pipe(P(Vi),M(c=>c.response),pe(c=>!c.configurationAnalysis.supportsVerification),N(c=>I($i({response:c}))))),this.getConfigurationAnalysisSuccess_extraVerification$=R(()=>this.actions$.pipe(P(Vi),M(c=>c.response),pe(c=>c.configurationAnalysis.supportsVerification),we(()=>this.store.select(jc)),le(([c,d])=>{let h=[];d&&(h=Object.entries(d).map(([T,f])=>({name:T,value:f})));let b=this.dialog.open(bp,F(w({},Zt),{data:{attributes:h}}));b.componentInstance.createNew=this.mapTableHelperService.createNewEntry("Attribute"),b.componentInstance.verify.pipe(Me(b.afterClosed())).subscribe(T=>{let f=T.attributes||[],m={};f.forEach(p=>{m[p.name]=p.value});let u=F(w({},c),{configurationAnalysis:F(w({},c.configurationAnalysis),{referencedAttributes:m})});this.store.dispatch($i({response:u}))})})),{dispatch:!1}),this.initiatePropertyVerification$=R(()=>this.actions$.pipe(P($i),M(c=>c.response),N(c=>(this.store.dispatch(Ko()),ee(this.propertyVerificationService.initiatePropertyVerification({request:{request:{properties:c.configurationAnalysis.properties,componentId:c.configurationAnalysis.componentId,attributes:c.configurationAnalysis.referencedAttributes}},uri:c.requestContext.entity.uri}).pipe(M(d=>hn({response:d})),G(d=>I(Ee({error:this.errorHelper.getErrorString(d)}))))))))),this.openPropertyVerificationProgressDialog$=R(()=>this.actions$.pipe(P(Ko),le(()=>{let c=this.dialog.open(Cp,w({},$n)),d=this.store.select(Lr).pipe(_e());c.componentInstance.verificationRequest$=d,d.pipe(Me(c.afterClosed()),_e(),pe(h=>h.complete)).subscribe(h=>{h.failureReason&&this.store.dispatch(Ee({error:h.failureReason})),c.close()}),c.componentInstance.stopVerification.pipe(Oe(1)).subscribe(()=>{this.store.dispatch(ji())})})),{dispatch:!1}),this.verifyPropertiesSuccess$=R(()=>this.actions$.pipe(P(hn),M(c=>c.response),pe(c=>!c.request.complete),N(()=>I(Uo())))),this.startPollingPropertyVerification$=R(()=>this.actions$.pipe(P(Uo),N(()=>zt(2e3,$t).pipe(Me(this.actions$.pipe(P(ji))))),N(()=>I(qo())))),this.pollPropertyVerification$=R(()=>this.actions$.pipe(P(qo),we(()=>[this.store.select(Go).pipe(_e()),this.store.select(Lr).pipe(_e())]),N(([,c,d])=>ee(this.propertyVerificationService.getPropertyVerificationRequest(d.requestId,c.entity.uri).pipe(M(h=>fn({response:h})),G(h=>(this.store.dispatch(ji()),I(Ee({error:this.errorHelper.getErrorString(h)}))))))))),this.pollPropertyVerificationSuccess$=R(()=>this.actions$.pipe(P(fn),M(c=>c.response),pe(c=>c.request.complete),N(()=>I(ji())))),this.stopPollingPropertyVerification$=R(()=>this.actions$.pipe(P(ji),we(()=>[this.store.select(Go).pipe(_e()),this.store.select(Lr).pipe(_e())]),N(([,c,d])=>ee(this.propertyVerificationService.deletePropertyVerificationRequest(d.requestId,c.entity.uri)).pipe(M(()=>Hr()),G(h=>I(Ee({error:this.errorHelper.getErrorString(h)})))))))}static{this.\u0275fac=function(n){return new(n||t)(E(fe),E(ae),E(Fe),E(Se),E(_p),E(Lc),E(vu))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var xp=(t,i)=>{let e=Ce(ou);return e.set(!0,t.url),i(t).pipe(ca(()=>e.set(!1,t.url)))};var Tp=(()=>{class t{constructor(e,n,r){this.actions$=e,this.authService=n,this.errorHelper=r,this.loadLoginConfiguration$=R(()=>this.actions$.pipe(P(jr),N(()=>ee(this.authService.getLoginConfiguration().pipe(M(o=>ri({response:o})),G(o=>I(Ee({error:this.errorHelper.getErrorString(o,"Failed to load Login Configuration.")}))))))))}static{this.\u0275fac=function(n){return new(n||t)(E(fe),E(Yt),E(Se))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var Ap=(()=>{class t{static{this.API="../nifi-api"}constructor(e){this.httpClient=e}getBannerText(){return this.httpClient.get(`${t.API}/flow/banners`)}static{this.\u0275fac=function(n){return new(n||t)(E(Be))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var wp=(()=>{class t{constructor(e,n,r){this.actions$=e,this.bannerTextService=n,this.store=r,this.loadBannerText$=R(()=>this.actions$.pipe(P(br),we(()=>this.store.select(Sc)),pe(([,o])=>o===null),N(()=>ee(this.bannerTextService.getBannerText().pipe(M(o=>Er({response:{bannerText:o.banners}})))))))}static{this.\u0275fac=function(n){return new(n||t)(E(fe),E(Ap),E(ae))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var kp=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var Dp=localStorage.getItem("disable-animations"),So=Dp!==null?JSON.parse(Dp).item:"";So!=="true"&&So!=="false"&&(So=window.matchMedia("(prefers-reduced-motion: reduce)").matches.toString());var zg={showDelay:2e3,hideDelay:0,touchendHideDelay:1e3},Mp=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=vt({type:t,bootstrap:[Su]})}static{this.\u0275inj=yt({providers:[So==="true"?Xu():Yu(),{provide:Vl,useValue:{appearance:"outline"}},Ba(Va([zm,xp,qm]),ja({cookieName:"__Secure-Request-Token",headerName:"Request-Token"})),{provide:Ic,useValue:zg},Cc({clipboardOptions:{provide:_c,useValue:{buttonComponent:gu}}})],imports:[Fn,pu,Qu,il.forRoot(jm),Gl.forRoot({routerState:1,navigationActionTiming:ql.PostActivation}),Yl.forRoot(yp,$m,Um,Wm,wp,ap,Tp,tp,np,sp,dp,vp,Sp,Ep,kp),_m.instrument({maxAge:25,logOnly:Cm.production,autoPause:!0}),Ql,Tl,Ct,gp,jl]})}}return t})();var fA=jt(Fp()),hA=jt(Op()),gA=jt(Bp()),yA=jt(Js()),vA=jt(Up()),SA=jt(Gp()),_A=jt(Yp()),CA=jt(Jp());za().bootstrapModule(Mp).catch(t=>console.error(t));
